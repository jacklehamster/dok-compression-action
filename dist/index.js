import{createRequire as hn} from"node:module";var Rt=hn(import.meta.url);import*as zt from"fs";import*as re from"path";var vn=function(e,n){if(!n)n={};var i=On(),o=e.length;i.p(e);var l=Nn(e,n,Wn(n),8),f=l.length;return Hn(l,n),ge(l,f-8,i.d()),ge(l,f-4,o),l},Sn=function(e,n){return Cn(e.subarray(Gn(e),-8),n||new Tt(Kn(e)))},Oe=function(e){if(Array.isArray(e))return"array";else if(typeof e==="object"&&e)return"object";else if(typeof e==="string"&&new Set(e).size<16)return"leaf";else if(typeof e==="string"&&Mn.test(e))return"split";else return"leaf"};var fn=Object.create,{defineProperty:Le,getPrototypeOf:un,getOwnPropertyNames:yn}=Object,dn=Object.prototype.hasOwnProperty,we=(e,n,i)=>{i=e!=null?fn(un(e)):{};const o=n||!e||!e.__esModule?Le(i,"default",{value:e,enumerable:!0}):i;for(let l of yn(e))if(!dn.call(o,l))Le(o,l,{get:()=>e[l],enumerable:!0});return o},lt=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),$n=((e)=>typeof Rt!=="undefined"?Rt:typeof Proxy!=="undefined"?new Proxy(e,{get:(n,i)=>(typeof Rt!=="undefined"?Rt:n)[i]}):e)(function(e){if(typeof Rt!=="undefined")return Rt.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),bn=lt((e,n)=>{var i=typeof self!=="undefined"?self:e,o=function(){function f(){this.fetch=!1,this.DOMException=i.DOMException}return f.prototype=i,new f}();(function(f){var y=function(p){var s={searchParams:"URLSearchParams"in f,iterable:"Symbol"in f&&"iterator"in Symbol,blob:"FileReader"in f&&"Blob"in f&&function(){try{return new Blob,!0}catch(u){return!1}}(),formData:"FormData"in f,arrayBuffer:"ArrayBuffer"in f};function c(u){return u&&DataView.prototype.isPrototypeOf(u)}if(s.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=ArrayBuffer.isView||function(u){return u&&a.indexOf(Object.prototype.toString.call(u))>-1};function x(u){if(typeof u!=="string")u=String(u);if(/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(u))throw new TypeError("Invalid character in header field name");return u.toLowerCase()}function S(u){if(typeof u!=="string")u=String(u);return u}function T(u){var d={next:function(){var N=u.shift();return{done:N===void 0,value:N}}};if(s.iterable)d[Symbol.iterator]=function(){return d};return d}function O(u){if(this.map={},u instanceof O)u.forEach(function(d,N){this.append(N,d)},this);else if(Array.isArray(u))u.forEach(function(d){this.append(d[0],d[1])},this);else if(u)Object.getOwnPropertyNames(u).forEach(function(d){this.append(d,u[d])},this)}if(O.prototype.append=function(u,d){u=x(u),d=S(d);var N=this.map[u];this.map[u]=N?N+", "+d:d},O.prototype.delete=function(u){delete this.map[x(u)]},O.prototype.get=function(u){return u=x(u),this.has(u)?this.map[u]:null},O.prototype.has=function(u){return this.map.hasOwnProperty(x(u))},O.prototype.set=function(u,d){this.map[x(u)]=S(d)},O.prototype.forEach=function(u,d){for(var N in this.map)if(this.map.hasOwnProperty(N))u.call(d,this.map[N],N,this)},O.prototype.keys=function(){var u=[];return this.forEach(function(d,N){u.push(N)}),T(u)},O.prototype.values=function(){var u=[];return this.forEach(function(d){u.push(d)}),T(u)},O.prototype.entries=function(){var u=[];return this.forEach(function(d,N){u.push([N,d])}),T(u)},s.iterable)O.prototype[Symbol.iterator]=O.prototype.entries;function U(u){if(u.bodyUsed)return Promise.reject(new TypeError("Already read"));u.bodyUsed=!0}function J(u){return new Promise(function(d,N){u.onload=function(){d(u.result)},u.onerror=function(){N(u.error)}})}function et(u){var d=new FileReader,N=J(d);return d.readAsArrayBuffer(u),N}function ct(u){var d=new FileReader,N=J(d);return d.readAsText(u),N}function V(u){var d=new Uint8Array(u),N=new Array(d.length);for(var $=0;$<d.length;$++)N[$]=String.fromCharCode(d[$]);return N.join("")}function ot(u){if(u.slice)return u.slice(0);else{var d=new Uint8Array(u.byteLength);return d.set(new Uint8Array(u)),d.buffer}}function k(){if(this.bodyUsed=!1,this._initBody=function(u){if(this._bodyInit=u,!u)this._bodyText="";else if(typeof u==="string")this._bodyText=u;else if(s.blob&&Blob.prototype.isPrototypeOf(u))this._bodyBlob=u;else if(s.formData&&FormData.prototype.isPrototypeOf(u))this._bodyFormData=u;else if(s.searchParams&&URLSearchParams.prototype.isPrototypeOf(u))this._bodyText=u.toString();else if(s.arrayBuffer&&s.blob&&c(u))this._bodyArrayBuffer=ot(u.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else if(s.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(u)||b(u)))this._bodyArrayBuffer=ot(u);else this._bodyText=u=Object.prototype.toString.call(u);if(!this.headers.get("content-type")){if(typeof u==="string")this.headers.set("content-type","text/plain;charset=UTF-8");else if(this._bodyBlob&&this._bodyBlob.type)this.headers.set("content-type",this._bodyBlob.type);else if(s.searchParams&&URLSearchParams.prototype.isPrototypeOf(u))this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}},s.blob)this.blob=function(){var u=U(this);if(u)return u;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);else if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));else if(this._bodyFormData)throw new Error("could not read FormData body as blob");else return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer)return U(this)||Promise.resolve(this._bodyArrayBuffer);else return this.blob().then(et)};if(this.text=function(){var u=U(this);if(u)return u;if(this._bodyBlob)return ct(this._bodyBlob);else if(this._bodyArrayBuffer)return Promise.resolve(V(this._bodyArrayBuffer));else if(this._bodyFormData)throw new Error("could not read FormData body as text");else return Promise.resolve(this._bodyText)},s.formData)this.formData=function(){return this.text().then(X)};return this.json=function(){return this.text().then(JSON.parse)},this}var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(u){var d=u.toUpperCase();return P.indexOf(d)>-1?d:u}function M(u,d){d=d||{};var N=d.body;if(u instanceof M){if(u.bodyUsed)throw new TypeError("Already read");if(this.url=u.url,this.credentials=u.credentials,!d.headers)this.headers=new O(u.headers);if(this.method=u.method,this.mode=u.mode,this.signal=u.signal,!N&&u._bodyInit!=null)N=u._bodyInit,u.bodyUsed=!0}else this.url=String(u);if(this.credentials=d.credentials||this.credentials||"same-origin",d.headers||!this.headers)this.headers=new O(d.headers);if(this.method=m(d.method||this.method||"GET"),this.mode=d.mode||this.mode||null,this.signal=d.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(N)}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})};function X(u){var d=new FormData;return u.trim().split("&").forEach(function(N){if(N){var $=N.split("="),F=$.shift().replace(/\+/g," "),Y=$.join("=").replace(/\+/g," ");d.append(decodeURIComponent(F),decodeURIComponent(Y))}}),d}function it(u){var d=new O,N=u.replace(/\r?\n[\t ]+/g," ");return N.split(/\r?\n/).forEach(function($){var F=$.split(":"),Y=F.shift().trim();if(Y){var at=F.join(":").trim();d.append(Y,at)}}),d}k.call(M.prototype);function W(u,d){if(!d)d={};this.type="default",this.status=d.status===void 0?200:d.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in d?d.statusText:"OK",this.headers=new O(d.headers),this.url=d.url||"",this._initBody(u)}k.call(W.prototype),W.prototype.clone=function(){return new W(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new O(this.headers),url:this.url})},W.error=function(){var u=new W(null,{status:0,statusText:""});return u.type="error",u};var j=[301,302,303,307,308];W.redirect=function(u,d){if(j.indexOf(d)===-1)throw new RangeError("Invalid status code");return new W(null,{status:d,headers:{location:u}})},p.DOMException=f.DOMException;try{new p.DOMException}catch(u){p.DOMException=function(d,N){this.message=d,this.name=N;var $=Error(d);this.stack=$.stack},p.DOMException.prototype=Object.create(Error.prototype),p.DOMException.prototype.constructor=p.DOMException}function v(u,d){return new Promise(function(N,$){var F=new M(u,d);if(F.signal&&F.signal.aborted)return $(new p.DOMException("Aborted","AbortError"));var Y=new XMLHttpRequest;function at(){Y.abort()}if(Y.onload=function(){var rt={status:Y.status,statusText:Y.statusText,headers:it(Y.getAllResponseHeaders()||"")};rt.url="responseURL"in Y?Y.responseURL:rt.headers.get("X-Request-URL");var ht="response"in Y?Y.response:Y.responseText;N(new W(ht,rt))},Y.onerror=function(){$(new TypeError("Network request failed"))},Y.ontimeout=function(){$(new TypeError("Network request failed"))},Y.onabort=function(){$(new p.DOMException("Aborted","AbortError"))},Y.open(F.method,F.url,!0),F.credentials==="include")Y.withCredentials=!0;else if(F.credentials==="omit")Y.withCredentials=!1;if("responseType"in Y&&s.blob)Y.responseType="blob";if(F.headers.forEach(function(rt,ht){Y.setRequestHeader(ht,rt)}),F.signal)F.signal.addEventListener("abort",at),Y.onreadystatechange=function(){if(Y.readyState===4)F.signal.removeEventListener("abort",at)};Y.send(typeof F._bodyInit==="undefined"?null:F._bodyInit)})}if(v.polyfill=!0,!f.fetch)f.fetch=v,f.Headers=O,f.Request=M,f.Response=W;return p.Headers=O,p.Request=M,p.Response=W,p.fetch=v,Object.defineProperty(p,"__esModule",{value:!0}),p}({})})(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var l=o;e=l.fetch,e.default=l.fetch,e.fetch=l.fetch,e.Headers=l.Headers,e.Request=l.Request,e.Response=l.Response,n.exports=e}),Xt=lt((e,n)=>{var i=function(s){return typeof s==="undefined"||s===null},o=function(s){return typeof s==="object"&&s!==null},l=function(s){if(Array.isArray(s))return s;else if(i(s))return[];return[s]},f=function(s,c){var a,b,x,S;if(c){S=Object.keys(c);for(a=0,b=S.length;a<b;a+=1)x=S[a],s[x]=c[x]}return s},y=function(s,c){var a="",b;for(b=0;b<c;b+=1)a+=s;return a},p=function(s){return s===0&&Number.NEGATIVE_INFINITY===1/s};e.isNothing=i,e.isObject=o,e.toArray=l,e.repeat=y,e.isNegativeZero=p,e.extend=f}),qt=lt((e,n)=>{var i=function(l,f){var y="",p=l.reason||"(unknown reason)";if(!l.mark)return p;if(l.mark.name)y+='in "'+l.mark.name+'" ';if(y+="("+(l.mark.line+1)+":"+(l.mark.column+1)+")",!f&&l.mark.snippet)y+="\n\n"+l.mark.snippet;return p+" "+y},o=function(l,f){if(Error.call(this),this.name="YAMLException",this.reason=l,this.mark=f,this.message=i(this,!1),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor);else this.stack=new Error().stack||""};o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o.prototype.toString=function l(f){return this.name+": "+i(this,f)},n.exports=o}),Tn=lt((e,n)=>{var i=function(y,p,s,c,a){var b="",x="",S=Math.floor(a/2)-1;if(c-p>S)b=" ... ",p=c-S+b.length;if(s-c>S)x=" ...",s=c+S-x.length;return{str:b+y.slice(p,s).replace(/\t/g,"\u2192")+x,pos:c-p+b.length}},o=function(y,p){return f.repeat(" ",p-y.length)+y},l=function(y,p){if(p=Object.create(p||null),!y.buffer)return null;if(!p.maxLength)p.maxLength=79;if(typeof p.indent!=="number")p.indent=1;if(typeof p.linesBefore!=="number")p.linesBefore=3;if(typeof p.linesAfter!=="number")p.linesAfter=2;var s=/\r?\n|\r|\0/g,c=[0],a=[],b,x=-1;while(b=s.exec(y.buffer))if(a.push(b.index),c.push(b.index+b[0].length),y.position<=b.index&&x<0)x=c.length-2;if(x<0)x=c.length-1;var S="",T,O,U=Math.min(y.line+p.linesAfter,a.length).toString().length,J=p.maxLength-(p.indent+U+3);for(T=1;T<=p.linesBefore;T++){if(x-T<0)break;O=i(y.buffer,c[x-T],a[x-T],y.position-(c[x]-c[x-T]),J),S=f.repeat(" ",p.indent)+o((y.line-T+1).toString(),U)+" | "+O.str+"\n"+S}O=i(y.buffer,c[x],a[x],y.position,J),S+=f.repeat(" ",p.indent)+o((y.line+1).toString(),U)+" | "+O.str+"\n",S+=f.repeat("-",p.indent+U+3+O.pos)+"^\n";for(T=1;T<=p.linesAfter;T++){if(x+T>=a.length)break;O=i(y.buffer,c[x+T],a[x+T],y.position-(c[x]-c[x+T]),J),S+=f.repeat(" ",p.indent)+o((y.line+T+1).toString(),U)+" | "+O.str+"\n"}return S.replace(/\n$/,"")},f=Xt();n.exports=l}),xt=lt((e,n)=>{var i=function(p){var s={};if(p!==null)Object.keys(p).forEach(function(c){p[c].forEach(function(a){s[String(a)]=c})});return s},o=function(p,s){if(s=s||{},Object.keys(s).forEach(function(c){if(f.indexOf(c)===-1)throw new l('Unknown option "'+c+'" is met in definition of "'+p+'" YAML type.')}),this.options=s,this.tag=p,this.kind=s.kind||null,this.resolve=s.resolve||function(){return!0},this.construct=s.construct||function(c){return c},this.instanceOf=s.instanceOf||null,this.predicate=s.predicate||null,this.represent=s.represent||null,this.representName=s.representName||null,this.defaultStyle=s.defaultStyle||null,this.multi=s.multi||!1,this.styleAliases=i(s.styleAliases||null),y.indexOf(this.kind)===-1)throw new l('Unknown kind "'+this.kind+'" is specified for "'+p+'" YAML type.')},l=qt(),f=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],y=["scalar","sequence","mapping"];n.exports=o}),Ke=lt((e,n)=>{var i=function(p,s){var c=[];return p[s].forEach(function(a){var b=c.length;c.forEach(function(x,S){if(x.tag===a.tag&&x.kind===a.kind&&x.multi===a.multi)b=S}),c[b]=a}),c},o=function(){var p={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},s,c;function a(b){if(b.multi)p.multi[b.kind].push(b),p.multi.fallback.push(b);else p[b.kind][b.tag]=p.fallback[b.tag]=b}for(s=0,c=arguments.length;s<c;s+=1)arguments[s].forEach(a);return p},l=function(p){return this.extend(p)},f=qt(),y=xt();l.prototype.extend=function p(s){var c=[],a=[];if(s instanceof y)a.push(s);else if(Array.isArray(s))a=a.concat(s);else if(s&&(Array.isArray(s.implicit)||Array.isArray(s.explicit))){if(s.implicit)c=c.concat(s.implicit);if(s.explicit)a=a.concat(s.explicit)}else throw new f("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");c.forEach(function(x){if(!(x instanceof y))throw new f("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(x.loadKind&&x.loadKind!=="scalar")throw new f("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(x.multi)throw new f("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),a.forEach(function(x){if(!(x instanceof y))throw new f("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var b=Object.create(l.prototype);return b.implicit=(this.implicit||[]).concat(c),b.explicit=(this.explicit||[]).concat(a),b.compiledImplicit=i(b,"implicit"),b.compiledExplicit=i(b,"explicit"),b.compiledTypeMap=o(b.compiledImplicit,b.compiledExplicit),b},n.exports=l}),We=lt((e,n)=>{var i=xt();n.exports=new i("tag:yaml.org,2002:str",{kind:"scalar",construct:function(o){return o!==null?o:""}})}),Qe=lt((e,n)=>{var i=xt();n.exports=new i("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(o){return o!==null?o:[]}})}),Be=lt((e,n)=>{var i=xt();n.exports=new i("tag:yaml.org,2002:map",{kind:"mapping",construct:function(o){return o!==null?o:{}}})}),Me=lt((e,n)=>{var i=Ke();n.exports=new i({explicit:[We(),Qe(),Be()]})}),Ue=lt((e,n)=>{var i=function(y){if(y===null)return!0;var p=y.length;return p===1&&y==="~"||p===4&&(y==="null"||y==="Null"||y==="NULL")},o=function(){return null},l=function(y){return y===null},f=xt();n.exports=new f("tag:yaml.org,2002:null",{kind:"scalar",resolve:i,construct:o,predicate:l,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})}),Ze=lt((e,n)=>{var i=function(y){if(y===null)return!1;var p=y.length;return p===4&&(y==="true"||y==="True"||y==="TRUE")||p===5&&(y==="false"||y==="False"||y==="FALSE")},o=function(y){return y==="true"||y==="True"||y==="TRUE"},l=function(y){return Object.prototype.toString.call(y)==="[object Boolean]"},f=xt();n.exports=new f("tag:yaml.org,2002:bool",{kind:"scalar",resolve:i,construct:o,predicate:l,represent:{lowercase:function(y){return y?"true":"false"},uppercase:function(y){return y?"TRUE":"FALSE"},camelcase:function(y){return y?"True":"False"}},defaultStyle:"lowercase"})}),Ve=lt((e,n)=>{var i=function(a){return 48<=a&&a<=57||65<=a&&a<=70||97<=a&&a<=102},o=function(a){return 48<=a&&a<=55},l=function(a){return 48<=a&&a<=57},f=function(a){if(a===null)return!1;var b=a.length,x=0,S=!1,T;if(!b)return!1;if(T=a[x],T==="-"||T==="+")T=a[++x];if(T==="0"){if(x+1===b)return!0;if(T=a[++x],T==="b"){x++;for(;x<b;x++){if(T=a[x],T==="_")continue;if(T!=="0"&&T!=="1")return!1;S=!0}return S&&T!=="_"}if(T==="x"){x++;for(;x<b;x++){if(T=a[x],T==="_")continue;if(!i(a.charCodeAt(x)))return!1;S=!0}return S&&T!=="_"}if(T==="o"){x++;for(;x<b;x++){if(T=a[x],T==="_")continue;if(!o(a.charCodeAt(x)))return!1;S=!0}return S&&T!=="_"}}if(T==="_")return!1;for(;x<b;x++){if(T=a[x],T==="_")continue;if(!l(a.charCodeAt(x)))return!1;S=!0}if(!S||T==="_")return!1;return!0},y=function(a){var b=a,x=1,S;if(b.indexOf("_")!==-1)b=b.replace(/_/g,"");if(S=b[0],S==="-"||S==="+"){if(S==="-")x=-1;b=b.slice(1),S=b[0]}if(b==="0")return 0;if(S==="0"){if(b[1]==="b")return x*parseInt(b.slice(2),2);if(b[1]==="x")return x*parseInt(b.slice(2),16);if(b[1]==="o")return x*parseInt(b.slice(2),8)}return x*parseInt(b,10)},p=function(a){return Object.prototype.toString.call(a)==="[object Number]"&&(a%1===0&&!s.isNegativeZero(a))},s=Xt(),c=xt();n.exports=new c("tag:yaml.org,2002:int",{kind:"scalar",resolve:f,construct:y,predicate:p,represent:{binary:function(a){return a>=0?"0b"+a.toString(2):"-0b"+a.toString(2).slice(1)},octal:function(a){return a>=0?"0o"+a.toString(8):"-0o"+a.toString(8).slice(1)},decimal:function(a){return a.toString(10)},hexadecimal:function(a){return a>=0?"0x"+a.toString(16).toUpperCase():"-0x"+a.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})}),Ye=lt((e,n)=>{var i=function(a){if(a===null)return!1;if(!s.test(a)||a[a.length-1]==="_")return!1;return!0},o=function(a){var b,x;if(b=a.replace(/_/g,"").toLowerCase(),x=b[0]==="-"?-1:1,"+-".indexOf(b[0])>=0)b=b.slice(1);if(b===".inf")return x===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;else if(b===".nan")return NaN;return x*parseFloat(b,10)},l=function(a,b){var x;if(isNaN(a))switch(b){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===a)switch(b){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===a)switch(b){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(y.isNegativeZero(a))return"-0.0";return x=a.toString(10),c.test(x)?x.replace("e",".e"):x},f=function(a){return Object.prototype.toString.call(a)==="[object Number]"&&(a%1!==0||y.isNegativeZero(a))},y=Xt(),p=xt(),s=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),c=/^[-+]?[0-9]+e/;n.exports=new p("tag:yaml.org,2002:float",{kind:"scalar",resolve:i,construct:o,predicate:f,represent:l,defaultStyle:"lowercase"})}),ye=lt((e,n)=>{n.exports=Me().extend({implicit:[Ue(),Ze(),Ve(),Ye()]})}),Xe=lt((e,n)=>{var i=function(s){if(s===null)return!1;if(y.exec(s)!==null)return!0;if(p.exec(s)!==null)return!0;return!1},o=function(s){var c,a,b,x,S,T,O,U=0,J=null,et,ct,V;if(c=y.exec(s),c===null)c=p.exec(s);if(c===null)throw new Error("Date resolve error");if(a=+c[1],b=+c[2]-1,x=+c[3],!c[4])return new Date(Date.UTC(a,b,x));if(S=+c[4],T=+c[5],O=+c[6],c[7]){U=c[7].slice(0,3);while(U.length<3)U+="0";U=+U}if(c[9]){if(et=+c[10],ct=+(c[11]||0),J=(et*60+ct)*60000,c[9]==="-")J=-J}if(V=new Date(Date.UTC(a,b,x,S,T,O,U)),J)V.setTime(V.getTime()-J);return V},l=function(s){return s.toISOString()},f=xt(),y=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),p=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");n.exports=new f("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:i,construct:o,instanceOf:Date,represent:l})}),qe=lt((e,n)=>{var i=function(l){return l==="<<"||l===null},o=xt();n.exports=new o("tag:yaml.org,2002:merge",{kind:"scalar",resolve:i})}),Fe=lt((e,n)=>{var i=function(s){if(s===null)return!1;var c,a,b=0,x=s.length,S=p;for(a=0;a<x;a++){if(c=S.indexOf(s.charAt(a)),c>64)continue;if(c<0)return!1;b+=6}return b%8===0},o=function(s){var c,a,b=s.replace(/[\r\n=]/g,""),x=b.length,S=p,T=0,O=[];for(c=0;c<x;c++){if(c%4===0&&c)O.push(T>>16&255),O.push(T>>8&255),O.push(T&255);T=T<<6|S.indexOf(b.charAt(c))}if(a=x%4*6,a===0)O.push(T>>16&255),O.push(T>>8&255),O.push(T&255);else if(a===18)O.push(T>>10&255),O.push(T>>2&255);else if(a===12)O.push(T>>4&255);return new Uint8Array(O)},l=function(s){var c="",a=0,b,x,S=s.length,T=p;for(b=0;b<S;b++){if(b%3===0&&b)c+=T[a>>18&63],c+=T[a>>12&63],c+=T[a>>6&63],c+=T[a&63];a=(a<<8)+s[b]}if(x=S%3,x===0)c+=T[a>>18&63],c+=T[a>>12&63],c+=T[a>>6&63],c+=T[a&63];else if(x===2)c+=T[a>>10&63],c+=T[a>>4&63],c+=T[a<<2&63],c+=T[64];else if(x===1)c+=T[a>>2&63],c+=T[a<<4&63],c+=T[64],c+=T[64];return c},f=function(s){return Object.prototype.toString.call(s)==="[object Uint8Array]"},y=xt(),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";n.exports=new y("tag:yaml.org,2002:binary",{kind:"scalar",resolve:i,construct:o,predicate:f,represent:l})}),$e=lt((e,n)=>{var i=function(p){if(p===null)return!0;var s=[],c,a,b,x,S,T=p;for(c=0,a=T.length;c<a;c+=1){if(b=T[c],S=!1,y.call(b)!=="[object Object]")return!1;for(x in b)if(f.call(b,x))if(!S)S=!0;else return!1;if(!S)return!1;if(s.indexOf(x)===-1)s.push(x);else return!1}return!0},o=function(p){return p!==null?p:[]},l=xt(),f=Object.prototype.hasOwnProperty,y=Object.prototype.toString;n.exports=new l("tag:yaml.org,2002:omap",{kind:"sequence",resolve:i,construct:o})}),Je=lt((e,n)=>{var i=function(y){if(y===null)return!0;var p,s,c,a,b,x=y;b=new Array(x.length);for(p=0,s=x.length;p<s;p+=1){if(c=x[p],f.call(c)!=="[object Object]")return!1;if(a=Object.keys(c),a.length!==1)return!1;b[p]=[a[0],c[a[0]]]}return!0},o=function(y){if(y===null)return[];var p,s,c,a,b,x=y;b=new Array(x.length);for(p=0,s=x.length;p<s;p+=1)c=x[p],a=Object.keys(c),b[p]=[a[0],c[a[0]]];return b},l=xt(),f=Object.prototype.toString;n.exports=new l("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:i,construct:o})}),tn=lt((e,n)=>{var i=function(y){if(y===null)return!0;var p,s=y;for(p in s)if(f.call(s,p)){if(s[p]!==null)return!1}return!0},o=function(y){return y!==null?y:{}},l=xt(),f=Object.prototype.hasOwnProperty;n.exports=new l("tag:yaml.org,2002:set",{kind:"mapping",resolve:i,construct:o})}),ve=lt((e,n)=>{n.exports=ye().extend({implicit:[Xe(),qe()],explicit:[Fe(),$e(),Je(),tn()]})}),mn=lt((e,n)=>{var i=function(t){return Object.prototype.toString.call(t)},o=function(t){return t===10||t===13},l=function(t){return t===9||t===32},f=function(t){return t===9||t===32||t===10||t===13},y=function(t){return t===44||t===91||t===93||t===123||t===125},p=function(t){var g;if(48<=t&&t<=57)return t-48;if(g=t|32,97<=g&&g<=102)return g-97+10;return-1},s=function(t){if(t===120)return 2;if(t===117)return 4;if(t===85)return 8;return 0},c=function(t){if(48<=t&&t<=57)return t-48;return-1},a=function(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116?"\t":t===9?"\t":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""},b=function(t){if(t<=65535)return String.fromCharCode(t);return String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)},x=function(t,g){this.input=t,this.filename=g.filename||null,this.schema=g.schema||ut,this.onWarning=g.onWarning||null,this.legacy=g.legacy||!1,this.json=g.json||!1,this.listener=g.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]},S=function(t,g){var w={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return w.snippet=dt(w),new ht(g,w)},T=function(t,g){throw S(t,g)},O=function(t,g){if(t.onWarning)t.onWarning.call(null,S(t,g))},U=function(t,g,w,z){var E,R,C,H;if(g<w){if(H=t.input.slice(g,w),z){for(E=0,R=H.length;E<R;E+=1)if(C=H.charCodeAt(E),!(C===9||32<=C&&C<=1114111))T(t,"expected valid JSON character")}else if(Pt.test(H))T(t,"the stream contains non-printable characters");t.result+=H}},J=function(t,g,w,z){var E,R,C,H;if(!rt.isObject(w))T(t,"cannot merge mappings; the provided source object is unacceptable");E=Object.keys(w);for(C=0,H=E.length;C<H;C+=1)if(R=E[C],!mt.call(g,R))g[R]=w[R],z[R]=!0},et=function(t,g,w,z,E,R,C,H,Z){var tt,st;if(Array.isArray(E)){E=Array.prototype.slice.call(E);for(tt=0,st=E.length;tt<st;tt+=1){if(Array.isArray(E[tt]))T(t,"nested arrays are not supported inside keys");if(typeof E==="object"&&i(E[tt])==="[object Object]")E[tt]="[object Object]"}}if(typeof E==="object"&&i(E)==="[object Object]")E="[object Object]";if(E=String(E),g===null)g={};if(z==="tag:yaml.org,2002:merge")if(Array.isArray(R))for(tt=0,st=R.length;tt<st;tt+=1)J(t,g,R[tt],w);else J(t,g,R,w);else{if(!t.json&&!mt.call(w,E)&&mt.call(g,E))t.line=C||t.line,t.lineStart=H||t.lineStart,t.position=Z||t.position,T(t,"duplicated mapping key");if(E==="__proto__")Object.defineProperty(g,E,{configurable:!0,enumerable:!0,writable:!0,value:R});else g[E]=R;delete w[E]}return g},ct=function(t){var g=t.input.charCodeAt(t.position);if(g===10)t.position++;else if(g===13){if(t.position++,t.input.charCodeAt(t.position)===10)t.position++}else T(t,"a line break is expected");t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1},V=function(t,g,w){var z=0,E=t.input.charCodeAt(t.position);while(E!==0){while(l(E)){if(E===9&&t.firstTabInLine===-1)t.firstTabInLine=t.position;E=t.input.charCodeAt(++t.position)}if(g&&E===35)do E=t.input.charCodeAt(++t.position);while(E!==10&&E!==13&&E!==0);if(o(E)){ct(t),E=t.input.charCodeAt(t.position),z++,t.lineIndent=0;while(E===32)t.lineIndent++,E=t.input.charCodeAt(++t.position)}else break}if(w!==-1&&z!==0&&t.lineIndent<w)O(t,"deficient indentation");return z},ot=function(t){var g=t.position,w;if(w=t.input.charCodeAt(g),(w===45||w===46)&&w===t.input.charCodeAt(g+1)&&w===t.input.charCodeAt(g+2)){if(g+=3,w=t.input.charCodeAt(g),w===0||f(w))return!0}return!1},k=function(t,g){if(g===1)t.result+=" ";else if(g>1)t.result+=rt.repeat("\n",g-1)},P=function(t,g,w){var z,E,R,C,H,Z,tt,st,Q=t.kind,ft=t.result,r;if(r=t.input.charCodeAt(t.position),f(r)||y(r)||r===35||r===38||r===42||r===33||r===124||r===62||r===39||r===34||r===37||r===64||r===96)return!1;if(r===63||r===45){if(E=t.input.charCodeAt(t.position+1),f(E)||w&&y(E))return!1}t.kind="scalar",t.result="",R=C=t.position,H=!1;while(r!==0){if(r===58){if(E=t.input.charCodeAt(t.position+1),f(E)||w&&y(E))break}else if(r===35){if(z=t.input.charCodeAt(t.position-1),f(z))break}else if(t.position===t.lineStart&&ot(t)||w&&y(r))break;else if(o(r))if(Z=t.line,tt=t.lineStart,st=t.lineIndent,V(t,!1,-1),t.lineIndent>=g){H=!0,r=t.input.charCodeAt(t.position);continue}else{t.position=C,t.line=Z,t.lineStart=tt,t.lineIndent=st;break}if(H)U(t,R,C,!1),k(t,t.line-Z),R=C=t.position,H=!1;if(!l(r))C=t.position+1;r=t.input.charCodeAt(++t.position)}if(U(t,R,C,!1),t.result)return!0;return t.kind=Q,t.result=ft,!1},m=function(t,g){var w,z,E;if(w=t.input.charCodeAt(t.position),w!==39)return!1;t.kind="scalar",t.result="",t.position++,z=E=t.position;while((w=t.input.charCodeAt(t.position))!==0)if(w===39)if(U(t,z,t.position,!0),w=t.input.charCodeAt(++t.position),w===39)z=t.position,t.position++,E=t.position;else return!0;else if(o(w))U(t,z,E,!0),k(t,V(t,!1,g)),z=E=t.position;else if(t.position===t.lineStart&&ot(t))T(t,"unexpected end of the document within a single quoted scalar");else t.position++,E=t.position;T(t,"unexpected end of the stream within a single quoted scalar")},M=function(t,g){var w,z,E,R,C,H;if(H=t.input.charCodeAt(t.position),H!==34)return!1;t.kind="scalar",t.result="",t.position++,w=z=t.position;while((H=t.input.charCodeAt(t.position))!==0)if(H===34)return U(t,w,t.position,!0),t.position++,!0;else if(H===92){if(U(t,w,t.position,!0),H=t.input.charCodeAt(++t.position),o(H))V(t,!1,g);else if(H<256&&Jt[H])t.result+=Qt[H],t.position++;else if((C=s(H))>0){E=C,R=0;for(;E>0;E--)if(H=t.input.charCodeAt(++t.position),(C=p(H))>=0)R=(R<<4)+C;else T(t,"expected hexadecimal character");t.result+=b(R),t.position++}else T(t,"unknown escape sequence");w=z=t.position}else if(o(H))U(t,w,z,!0),k(t,V(t,!1,g)),w=z=t.position;else if(t.position===t.lineStart&&ot(t))T(t,"unexpected end of the document within a double quoted scalar");else t.position++,z=t.position;T(t,"unexpected end of the stream within a double quoted scalar")},X=function(t,g){var w=!0,z,E,R,C=t.tag,H,Z=t.anchor,tt,st,Q,ft,r,_=Object.create(null),D,I,L,A;if(A=t.input.charCodeAt(t.position),A===91)st=93,r=!1,H=[];else if(A===123)st=125,r=!0,H={};else return!1;if(t.anchor!==null)t.anchorMap[t.anchor]=H;A=t.input.charCodeAt(++t.position);while(A!==0){if(V(t,!0,g),A=t.input.charCodeAt(t.position),A===st)return t.position++,t.tag=C,t.anchor=Z,t.kind=r?"mapping":"sequence",t.result=H,!0;else if(!w)T(t,"missed comma between flow collection entries");else if(A===44)T(t,"expected the node content, but found ','");if(I=D=L=null,Q=ft=!1,A===63){if(tt=t.input.charCodeAt(t.position+1),f(tt))Q=ft=!0,t.position++,V(t,!0,g)}if(z=t.line,E=t.lineStart,R=t.position,N(t,g,_t,!1,!0),I=t.tag,D=t.result,V(t,!0,g),A=t.input.charCodeAt(t.position),(ft||t.line===z)&&A===58)Q=!0,A=t.input.charCodeAt(++t.position),V(t,!0,g),N(t,g,_t,!1,!0),L=t.result;if(r)et(t,H,_,I,D,L,z,E,R);else if(Q)H.push(et(t,null,_,I,D,L,z,E,R));else H.push(D);if(V(t,!0,g),A=t.input.charCodeAt(t.position),A===44)w=!0,A=t.input.charCodeAt(++t.position);else w=!1}T(t,"unexpected end of the stream within a flow collection")},it=function(t,g){var w,z,E=Ct,R=!1,C=!1,H=g,Z=0,tt=!1,st,Q;if(Q=t.input.charCodeAt(t.position),Q===124)z=!1;else if(Q===62)z=!0;else return!1;t.kind="scalar",t.result="";while(Q!==0)if(Q=t.input.charCodeAt(++t.position),Q===43||Q===45)if(Ct===E)E=Q===43?Wt:Nt;else T(t,"repeat of a chomping mode identifier");else if((st=c(Q))>=0)if(st===0)T(t,"bad explicit indentation width of a block scalar; it cannot be less than one");else if(!C)H=g+st-1,C=!0;else T(t,"repeat of an indentation width identifier");else break;if(l(Q)){do Q=t.input.charCodeAt(++t.position);while(l(Q));if(Q===35)do Q=t.input.charCodeAt(++t.position);while(!o(Q)&&Q!==0)}while(Q!==0){ct(t),t.lineIndent=0,Q=t.input.charCodeAt(t.position);while((!C||t.lineIndent<H)&&Q===32)t.lineIndent++,Q=t.input.charCodeAt(++t.position);if(!C&&t.lineIndent>H)H=t.lineIndent;if(o(Q)){Z++;continue}if(t.lineIndent<H){if(E===Wt)t.result+=rt.repeat("\n",R?1+Z:Z);else if(E===Ct){if(R)t.result+="\n"}break}if(z)if(l(Q))tt=!0,t.result+=rt.repeat("\n",R?1+Z:Z);else if(tt)tt=!1,t.result+=rt.repeat("\n",Z+1);else if(Z===0){if(R)t.result+=" "}else t.result+=rt.repeat("\n",Z);else t.result+=rt.repeat("\n",R?1+Z:Z);R=!0,C=!0,Z=0,w=t.position;while(!o(Q)&&Q!==0)Q=t.input.charCodeAt(++t.position);U(t,w,t.position,!1)}return!0},W=function(t,g){var w,z=t.tag,E=t.anchor,R=[],C,H=!1,Z;if(t.firstTabInLine!==-1)return!1;if(t.anchor!==null)t.anchorMap[t.anchor]=R;Z=t.input.charCodeAt(t.position);while(Z!==0){if(t.firstTabInLine!==-1)t.position=t.firstTabInLine,T(t,"tab characters must not be used in indentation");if(Z!==45)break;if(C=t.input.charCodeAt(t.position+1),!f(C))break;if(H=!0,t.position++,V(t,!0,-1)){if(t.lineIndent<=g){R.push(null),Z=t.input.charCodeAt(t.position);continue}}if(w=t.line,N(t,g,Ot,!1,!0),R.push(t.result),V(t,!0,-1),Z=t.input.charCodeAt(t.position),(t.line===w||t.lineIndent>g)&&Z!==0)T(t,"bad indentation of a sequence entry");else if(t.lineIndent<g)break}if(H)return t.tag=z,t.anchor=E,t.kind="sequence",t.result=R,!0;return!1},j=function(t,g,w){var z,E,R,C,H,Z,tt=t.tag,st=t.anchor,Q={},ft=Object.create(null),r=null,_=null,D=null,I=!1,L=!1,A;if(t.firstTabInLine!==-1)return!1;if(t.anchor!==null)t.anchorMap[t.anchor]=Q;A=t.input.charCodeAt(t.position);while(A!==0){if(!I&&t.firstTabInLine!==-1)t.position=t.firstTabInLine,T(t,"tab characters must not be used in indentation");if(z=t.input.charCodeAt(t.position+1),R=t.line,(A===63||A===58)&&f(z)){if(A===63){if(I)et(t,Q,ft,r,_,null,C,H,Z),r=_=D=null;L=!0,I=!0,E=!0}else if(I)I=!1,E=!0;else T(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line");t.position+=1,A=z}else{if(C=t.line,H=t.lineStart,Z=t.position,!N(t,w,gt,!1,!0))break;if(t.line===R){A=t.input.charCodeAt(t.position);while(l(A))A=t.input.charCodeAt(++t.position);if(A===58){if(A=t.input.charCodeAt(++t.position),!f(A))T(t,"a whitespace character is expected after the key-value separator within a block mapping");if(I)et(t,Q,ft,r,_,null,C,H,Z),r=_=D=null;L=!0,I=!1,E=!1,r=t.tag,_=t.result}else if(L)T(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=tt,t.anchor=st,!0}else if(L)T(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=tt,t.anchor=st,!0}if(t.line===R||t.lineIndent>g){if(I)C=t.line,H=t.lineStart,Z=t.position;if(N(t,g,It,!0,E))if(I)_=t.result;else D=t.result;if(!I)et(t,Q,ft,r,_,D,C,H,Z),r=_=D=null;V(t,!0,-1),A=t.input.charCodeAt(t.position)}if((t.line===R||t.lineIndent>g)&&A!==0)T(t,"bad indentation of a mapping entry");else if(t.lineIndent<g)break}if(I)et(t,Q,ft,r,_,null,C,H,Z);if(L)t.tag=tt,t.anchor=st,t.kind="mapping",t.result=Q;return L},v=function(t){var g,w=!1,z=!1,E,R,C;if(C=t.input.charCodeAt(t.position),C!==33)return!1;if(t.tag!==null)T(t,"duplication of a tag property");if(C=t.input.charCodeAt(++t.position),C===60)w=!0,C=t.input.charCodeAt(++t.position);else if(C===33)z=!0,E="!!",C=t.input.charCodeAt(++t.position);else E="!";if(g=t.position,w){do C=t.input.charCodeAt(++t.position);while(C!==0&&C!==62);if(t.position<t.length)R=t.input.slice(g,t.position),C=t.input.charCodeAt(++t.position);else T(t,"unexpected end of the stream within a verbatim tag")}else{while(C!==0&&!f(C)){if(C===33)if(!z){if(E=t.input.slice(g-1,t.position+1),!Ft.test(E))T(t,"named tag handle cannot contain such characters");z=!0,g=t.position+1}else T(t,"tag suffix cannot contain exclamation marks");C=t.input.charCodeAt(++t.position)}if(R=t.input.slice(g,t.position),le.test(R))T(t,"tag suffix cannot contain flow indicator characters")}if(R&&!$t.test(R))T(t,"tag name cannot contain such characters: "+R);try{R=decodeURIComponent(R)}catch(H){T(t,"tag name is malformed: "+R)}if(w)t.tag=R;else if(mt.call(t.tagMap,E))t.tag=t.tagMap[E]+R;else if(E==="!")t.tag="!"+R;else if(E==="!!")t.tag="tag:yaml.org,2002:"+R;else T(t,'undeclared tag handle "'+E+'"');return!0},u=function(t){var g,w;if(w=t.input.charCodeAt(t.position),w!==38)return!1;if(t.anchor!==null)T(t,"duplication of an anchor property");w=t.input.charCodeAt(++t.position),g=t.position;while(w!==0&&!f(w)&&!y(w))w=t.input.charCodeAt(++t.position);if(t.position===g)T(t,"name of an anchor node must contain at least one character");return t.anchor=t.input.slice(g,t.position),!0},d=function(t){var g,w,z;if(z=t.input.charCodeAt(t.position),z!==42)return!1;z=t.input.charCodeAt(++t.position),g=t.position;while(z!==0&&!f(z)&&!y(z))z=t.input.charCodeAt(++t.position);if(t.position===g)T(t,"name of an alias node must contain at least one character");if(w=t.input.slice(g,t.position),!mt.call(t.anchorMap,w))T(t,'unidentified alias "'+w+'"');return t.result=t.anchorMap[w],V(t,!0,-1),!0},N=function(t,g,w,z,E){var R,C,H,Z=1,tt=!1,st=!1,Q,ft,r,_,D,I;if(t.listener!==null)t.listener("open",t);if(t.tag=null,t.anchor=null,t.kind=null,t.result=null,R=C=H=It===w||Ot===w,z){if(V(t,!0,-1)){if(tt=!0,t.lineIndent>g)Z=1;else if(t.lineIndent===g)Z=0;else if(t.lineIndent<g)Z=-1}}if(Z===1)while(v(t)||u(t))if(V(t,!0,-1)){if(tt=!0,H=R,t.lineIndent>g)Z=1;else if(t.lineIndent===g)Z=0;else if(t.lineIndent<g)Z=-1}else H=!1;if(H)H=tt||E;if(Z===1||It===w){if(_t===w||gt===w)D=g;else D=g+1;if(I=t.position-t.lineStart,Z===1)if(H&&(W(t,I)||j(t,I,D))||X(t,D))st=!0;else{if(C&&it(t,D)||m(t,D)||M(t,D))st=!0;else if(d(t)){if(st=!0,t.tag!==null||t.anchor!==null)T(t,"alias node should not have any properties")}else if(P(t,D,_t===w)){if(st=!0,t.tag===null)t.tag="?"}if(t.anchor!==null)t.anchorMap[t.anchor]=t.result}else if(Z===0)st=H&&W(t,I)}if(t.tag===null){if(t.anchor!==null)t.anchorMap[t.anchor]=t.result}else if(t.tag==="?"){if(t.result!==null&&t.kind!=="scalar")T(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"');for(Q=0,ft=t.implicitTypes.length;Q<ft;Q+=1)if(_=t.implicitTypes[Q],_.resolve(t.result)){if(t.result=_.construct(t.result),t.tag=_.tag,t.anchor!==null)t.anchorMap[t.anchor]=t.result;break}}else if(t.tag!=="!"){if(mt.call(t.typeMap[t.kind||"fallback"],t.tag))_=t.typeMap[t.kind||"fallback"][t.tag];else{_=null,r=t.typeMap.multi[t.kind||"fallback"];for(Q=0,ft=r.length;Q<ft;Q+=1)if(t.tag.slice(0,r[Q].tag.length)===r[Q].tag){_=r[Q];break}}if(!_)T(t,"unknown tag !<"+t.tag+">");if(t.result!==null&&_.kind!==t.kind)T(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+_.kind+'", not "'+t.kind+'"');if(!_.resolve(t.result,t.tag))T(t,"cannot resolve a node with !<"+t.tag+"> explicit tag");else if(t.result=_.construct(t.result,t.tag),t.anchor!==null)t.anchorMap[t.anchor]=t.result}if(t.listener!==null)t.listener("close",t);return t.tag!==null||t.anchor!==null||st},$=function(t){var g=t.position,w,z,E,R=!1,C;t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);while((C=t.input.charCodeAt(t.position))!==0){if(V(t,!0,-1),C=t.input.charCodeAt(t.position),t.lineIndent>0||C!==37)break;R=!0,C=t.input.charCodeAt(++t.position),w=t.position;while(C!==0&&!f(C))C=t.input.charCodeAt(++t.position);if(z=t.input.slice(w,t.position),E=[],z.length<1)T(t,"directive name must not be less than one character in length");while(C!==0){while(l(C))C=t.input.charCodeAt(++t.position);if(C===35){do C=t.input.charCodeAt(++t.position);while(C!==0&&!o(C));break}if(o(C))break;w=t.position;while(C!==0&&!f(C))C=t.input.charCodeAt(++t.position);E.push(t.input.slice(w,t.position))}if(C!==0)ct(t);if(mt.call(te,z))te[z](t,z,E);else O(t,'unknown document directive "'+z+'"')}if(V(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45)t.position+=3,V(t,!0,-1);else if(R)T(t,"directives end mark is expected");if(N(t,t.lineIndent-1,It,!1,!0),V(t,!0,-1),t.checkLineBreaks&&Ht.test(t.input.slice(g,t.position)))O(t,"non-ASCII line breaks are interpreted as content");if(t.documents.push(t.result),t.position===t.lineStart&&ot(t)){if(t.input.charCodeAt(t.position)===46)t.position+=3,V(t,!0,-1);return}if(t.position<t.length-1)T(t,"end of the stream or a document separator is expected");else return},F=function(t,g){if(t=String(t),g=g||{},t.length!==0){if(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13)t+="\n";if(t.charCodeAt(0)===65279)t=t.slice(1)}var w=new x(t,g),z=t.indexOf("\0");if(z!==-1)w.position=z,T(w,"null byte is not allowed in input");w.input+="\0";while(w.input.charCodeAt(w.position)===32)w.lineIndent+=1,w.position+=1;while(w.position<w.length-1)$(w);return w.documents},Y=function(t,g,w){if(g!==null&&typeof g==="object"&&typeof w==="undefined")w=g,g=null;var z=F(t,w);if(typeof g!=="function")return z;for(var E=0,R=z.length;E<R;E+=1)g(z[E])},at=function(t,g){var w=F(t,g);if(w.length===0)return;else if(w.length===1)return w[0];throw new ht("expected a single document in the stream, but found more")},rt=Xt(),ht=qt(),dt=Tn(),ut=ve(),mt=Object.prototype.hasOwnProperty,_t=1,gt=2,Ot=3,It=4,Ct=1,Nt=2,Wt=3,Pt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Ht=/[\x85\u2028\u2029]/,le=/[,\[\]\{\}]/,Ft=/^(?:!|!!|![a-z\-]+!)$/i,$t=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,Jt=new Array(256),Qt=new Array(256);for(St=0;St<256;St++)Jt[St]=a(St)?1:0,Qt[St]=a(St);var St,te={YAML:function t(g,w,z){var E,R,C;if(g.version!==null)T(g,"duplication of %YAML directive");if(z.length!==1)T(g,"YAML directive accepts exactly one argument");if(E=/^([0-9]+)\.([0-9]+)$/.exec(z[0]),E===null)T(g,"ill-formed argument of the YAML directive");if(R=parseInt(E[1],10),C=parseInt(E[2],10),R!==1)T(g,"unacceptable YAML version of the document");if(g.version=z[0],g.checkLineBreaks=C<2,C!==1&&C!==2)O(g,"unsupported YAML version of the document")},TAG:function t(g,w,z){var E,R;if(z.length!==2)T(g,"TAG directive accepts exactly two arguments");if(E=z[0],R=z[1],!Ft.test(E))T(g,"ill-formed tag handle (first argument) of the TAG directive");if(mt.call(g.tagMap,E))T(g,'there is a previously declared suffix for "'+E+'" tag handle');if(!$t.test(R))T(g,"ill-formed tag prefix (second argument) of the TAG directive");try{R=decodeURIComponent(R)}catch(C){T(g,"tag prefix is malformed: "+R)}g.tagMap[E]=R}};e.loadAll=Y,e.load=at}),xn=lt((e,n)=>{var i=function(r,_){var D,I,L,A,K,G,B;if(_===null)return{};D={},I=Object.keys(_);for(L=0,A=I.length;L<A;L+=1){if(K=I[L],G=String(_[K]),K.slice(0,2)==="!!")K="tag:yaml.org,2002:"+K.slice(2);if(B=r.compiledTypeMap.fallback[K],B&&Y.call(B.styleAliases,G))G=B.styleAliases[G];D[K]=G}return D},o=function(r){var _,D,I;if(_=r.toString(16).toUpperCase(),r<=255)D="x",I=2;else if(r<=65535)D="u",I=4;else if(r<=4294967295)D="U",I=8;else throw new N("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+D+d.repeat("0",I-_.length)+_},l=function(r){this.schema=r.schema||$,this.indent=Math.max(1,r.indent||2),this.noArrayIndent=r.noArrayIndent||!1,this.skipInvalid=r.skipInvalid||!1,this.flowLevel=d.isNothing(r.flowLevel)?-1:r.flowLevel,this.styleMap=i(this.schema,r.styles||null),this.sortKeys=r.sortKeys||!1,this.lineWidth=r.lineWidth||80,this.noRefs=r.noRefs||!1,this.noCompatMode=r.noCompatMode||!1,this.condenseFlow=r.condenseFlow||!1,this.quotingType=r.quotingType==='"'?H:C,this.forceQuotes=r.forceQuotes||!1,this.replacer=typeof r.replacer==="function"?r.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null},f=function(r,_){var D=d.repeat(" ",_),I=0,L=-1,A="",K,G=r.length;while(I<G){if(L=r.indexOf("\n",I),L===-1)K=r.slice(I),I=G;else K=r.slice(I,L+1),I=L+1;if(K.length&&K!=="\n")A+=D;A+=K}return A},y=function(r,_){return"\n"+d.repeat(" ",r.indent*_)},p=function(r,_){var D,I,L;for(D=0,I=r.implicitTypes.length;D<I;D+=1)if(L=r.implicitTypes[D],L.resolve(_))return!0;return!1},s=function(r){return r===ut||r===rt},c=function(r){return 32<=r&&r<=126||161<=r&&r<=55295&&r!==8232&&r!==8233||57344<=r&&r<=65533&&r!==at||65536<=r&&r<=1114111},a=function(r){return c(r)&&r!==at&&r!==dt&&r!==ht},b=function(r,_,D){var I=a(r),L=I&&!s(r);return(D?I:I&&r!==Wt&&r!==Qt&&r!==St&&r!==t&&r!==w)&&r!==gt&&!(_===Ht&&!L)||a(_)&&!s(_)&&r===gt||_===Ht&&L},x=function(r){return c(r)&&r!==at&&!s(r)&&r!==Pt&&r!==$t&&r!==Ht&&r!==Wt&&r!==Qt&&r!==St&&r!==t&&r!==w&&r!==gt&&r!==It&&r!==Nt&&r!==mt&&r!==g&&r!==le&&r!==Ft&&r!==Ct&&r!==_t&&r!==Ot&&r!==Jt&&r!==te},S=function(r){return!s(r)&&r!==Ht},T=function(r,_){var D=r.charCodeAt(_),I;if(D>=55296&&D<=56319&&_+1<r.length){if(I=r.charCodeAt(_+1),I>=56320&&I<=57343)return(D-55296)*1024+I-56320+65536}return D},O=function(r){var _=/^\n* /;return _.test(r)},U=function(r,_,D,I,L,A,K,G){var B,q=0,yt=null,bt=!1,pt=!1,De=I!==-1,Bt=-1,Mt=x(T(r,0))&&S(T(r,r.length-1));if(_||K)for(B=0;B<r.length;q>=65536?B+=2:B++){if(q=T(r,B),!c(q))return ft;Mt=Mt&&b(q,yt,G),yt=q}else{for(B=0;B<r.length;q>=65536?B+=2:B++){if(q=T(r,B),q===ht){if(bt=!0,De)pt=pt||B-Bt-1>I&&r[Bt+1]!==" ",Bt=B}else if(!c(q))return ft;Mt=Mt&&b(q,yt,G),yt=q}pt=pt||De&&(B-Bt-1>I&&r[Bt+1]!==" ")}if(!bt&&!pt){if(Mt&&!K&&!L(r))return Z;return A===H?ft:tt}if(D>9&&O(r))return ft;if(!K)return pt?Q:st;return A===H?ft:tt},J=function(r,_,D,I,L){r.dump=function(){if(_.length===0)return r.quotingType===H?'""':"''";if(!r.noCompatMode){if(E.indexOf(_)!==-1||R.test(_))return r.quotingType===H?'"'+_+'"':"'"+_+"'"}var A=r.indent*Math.max(1,D),K=r.lineWidth===-1?-1:Math.max(Math.min(r.lineWidth,40),r.lineWidth-A),G=I||r.flowLevel>-1&&D>=r.flowLevel;function B(q){return p(r,q)}switch(U(_,G,r.indent,K,B,r.quotingType,r.forceQuotes&&!I,L)){case Z:return _;case tt:return"'"+_.replace(/'/g,"''")+"'";case st:return"|"+et(_,r.indent)+ct(f(_,A));case Q:return">"+et(_,r.indent)+ct(f(V(_,K),A));case ft:return'"'+k(_,K)+'"';default:throw new N("impossible error: invalid scalar style")}}()},et=function(r,_){var D=O(r)?String(_):"",I=r[r.length-1]==="\n",L=I&&(r[r.length-2]==="\n"||r==="\n"),A=L?"+":I?"":"-";return D+A+"\n"},ct=function(r){return r[r.length-1]==="\n"?r.slice(0,-1):r},V=function(r,_){var D=/(\n+)([^\n]*)/g,I=function(){var q=r.indexOf("\n");return q=q!==-1?q:r.length,D.lastIndex=q,ot(r.slice(0,q),_)}(),L=r[0]==="\n"||r[0]===" ",A,K;while(K=D.exec(r)){var G=K[1],B=K[2];A=B[0]===" ",I+=G+(!L&&!A&&B!==""?"\n":"")+ot(B,_),L=A}return I},ot=function(r,_){if(r===""||r[0]===" ")return r;var D=/ [^ ]/g,I,L=0,A,K=0,G=0,B="";while(I=D.exec(r)){if(G=I.index,G-L>_)A=K>L?K:G,B+="\n"+r.slice(L,A),L=A+1;K=G}if(B+="\n",r.length-L>_&&K>L)B+=r.slice(L,K)+"\n"+r.slice(K+1);else B+=r.slice(L);return B.slice(1)},k=function(r){var _="",D=0,I;for(var L=0;L<r.length;D>=65536?L+=2:L++)if(D=T(r,L),I=z[D],!I&&c(D)){if(_+=r[L],D>=65536)_+=r[L+1]}else _+=I||o(D);return _},P=function(r,_,D){var I="",L=r.tag,A,K,G;for(A=0,K=D.length;A<K;A+=1){if(G=D[A],r.replacer)G=r.replacer.call(D,String(A),G);if(W(r,_,G,!1,!1)||typeof G==="undefined"&&W(r,_,null,!1,!1)){if(I!=="")I+=","+(!r.condenseFlow?" ":"");I+=r.dump}}r.tag=L,r.dump="["+I+"]"},m=function(r,_,D,I){var L="",A=r.tag,K,G,B;for(K=0,G=D.length;K<G;K+=1){if(B=D[K],r.replacer)B=r.replacer.call(D,String(K),B);if(W(r,_+1,B,!0,!0,!1,!0)||typeof B==="undefined"&&W(r,_+1,null,!0,!0,!1,!0)){if(!I||L!=="")L+=y(r,_);if(r.dump&&ht===r.dump.charCodeAt(0))L+="-";else L+="- ";L+=r.dump}}r.tag=A,r.dump=L||"[]"},M=function(r,_,D){var I="",L=r.tag,A=Object.keys(D),K,G,B,q,yt;for(K=0,G=A.length;K<G;K+=1){if(yt="",I!=="")yt+=", ";if(r.condenseFlow)yt+='"';if(B=A[K],q=D[B],r.replacer)q=r.replacer.call(D,B,q);if(!W(r,_,B,!1,!1))continue;if(r.dump.length>1024)yt+="? ";if(yt+=r.dump+(r.condenseFlow?'"':"")+":"+(r.condenseFlow?"":" "),!W(r,_,q,!1,!1))continue;yt+=r.dump,I+=yt}r.tag=L,r.dump="{"+I+"}"},X=function(r,_,D,I){var L="",A=r.tag,K=Object.keys(D),G,B,q,yt,bt,pt;if(r.sortKeys===!0)K.sort();else if(typeof r.sortKeys==="function")K.sort(r.sortKeys);else if(r.sortKeys)throw new N("sortKeys must be a boolean or a function");for(G=0,B=K.length;G<B;G+=1){if(pt="",!I||L!=="")pt+=y(r,_);if(q=K[G],yt=D[q],r.replacer)yt=r.replacer.call(D,q,yt);if(!W(r,_+1,q,!0,!0,!0))continue;if(bt=r.tag!==null&&r.tag!=="?"||r.dump&&r.dump.length>1024,bt)if(r.dump&&ht===r.dump.charCodeAt(0))pt+="?";else pt+="? ";if(pt+=r.dump,bt)pt+=y(r,_);if(!W(r,_+1,yt,!0,bt))continue;if(r.dump&&ht===r.dump.charCodeAt(0))pt+=":";else pt+=": ";pt+=r.dump,L+=pt}r.tag=A,r.dump=L||"{}"},it=function(r,_,D){var I,L,A,K,G,B;L=D?r.explicitTypes:r.implicitTypes;for(A=0,K=L.length;A<K;A+=1)if(G=L[A],(G.instanceOf||G.predicate)&&(!G.instanceOf||typeof _==="object"&&_ instanceof G.instanceOf)&&(!G.predicate||G.predicate(_))){if(D)if(G.multi&&G.representName)r.tag=G.representName(_);else r.tag=G.tag;else r.tag="?";if(G.represent){if(B=r.styleMap[G.tag]||G.defaultStyle,F.call(G.represent)==="[object Function]")I=G.represent(_,B);else if(Y.call(G.represent,B))I=G.represent[B](_,B);else throw new N("!<"+G.tag+'> tag resolver accepts not "'+B+'" style');r.dump=I}return!0}return!1},W=function(r,_,D,I,L,A,K){if(r.tag=null,r.dump=D,!it(r,D,!1))it(r,D,!0);var G=F.call(r.dump),B=I,q;if(I)I=r.flowLevel<0||r.flowLevel>_;var yt=G==="[object Object]"||G==="[object Array]",bt,pt;if(yt)bt=r.duplicates.indexOf(D),pt=bt!==-1;if(r.tag!==null&&r.tag!=="?"||pt||r.indent!==2&&_>0)L=!1;if(pt&&r.usedDuplicates[bt])r.dump="*ref_"+bt;else{if(yt&&pt&&!r.usedDuplicates[bt])r.usedDuplicates[bt]=!0;if(G==="[object Object]"){if(I&&Object.keys(r.dump).length!==0){if(X(r,_,r.dump,L),pt)r.dump="&ref_"+bt+r.dump}else if(M(r,_,r.dump),pt)r.dump="&ref_"+bt+" "+r.dump}else if(G==="[object Array]"){if(I&&r.dump.length!==0){if(r.noArrayIndent&&!K&&_>0)m(r,_-1,r.dump,L);else m(r,_,r.dump,L);if(pt)r.dump="&ref_"+bt+r.dump}else if(P(r,_,r.dump),pt)r.dump="&ref_"+bt+" "+r.dump}else if(G==="[object String]"){if(r.tag!=="?")J(r,r.dump,_,A,B)}else if(G==="[object Undefined]")return!1;else{if(r.skipInvalid)return!1;throw new N("unacceptable kind of an object to dump "+G)}if(r.tag!==null&&r.tag!=="?"){if(q=encodeURI(r.tag[0]==="!"?r.tag.slice(1):r.tag).replace(/!/g,"%21"),r.tag[0]==="!")q="!"+q;else if(q.slice(0,18)==="tag:yaml.org,2002:")q="!!"+q.slice(18);else q="!<"+q+">";r.dump=q+" "+r.dump}}return!0},j=function(r,_){var D=[],I=[],L,A;v(r,D,I);for(L=0,A=I.length;L<A;L+=1)_.duplicates.push(D[I[L]]);_.usedDuplicates=new Array(A)},v=function(r,_,D){var I,L,A;if(r!==null&&typeof r==="object")if(L=_.indexOf(r),L!==-1){if(D.indexOf(L)===-1)D.push(L)}else if(_.push(r),Array.isArray(r))for(L=0,A=r.length;L<A;L+=1)v(r[L],_,D);else{I=Object.keys(r);for(L=0,A=I.length;L<A;L+=1)v(r[I[L]],_,D)}},u=function(r,_){_=_||{};var D=new l(_);if(!D.noRefs)j(r,D);var I=r;if(D.replacer)I=D.replacer.call({"":I},"",I);if(W(D,0,I,!0,!0))return D.dump+"\n";return""},d=Xt(),N=qt(),$=ve(),F=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,at=65279,rt=9,ht=10,dt=13,ut=32,mt=33,_t=34,gt=35,Ot=37,It=38,Ct=39,Nt=42,Wt=44,Pt=45,Ht=58,le=61,Ft=62,$t=63,Jt=64,Qt=91,St=93,te=96,t=123,g=124,w=125,z={};z[0]="\\0",z[7]="\\a",z[8]="\\b",z[9]="\\t",z[10]="\\n",z[11]="\\v",z[12]="\\f",z[13]="\\r",z[27]="\\e",z[34]='\\"',z[92]="\\\\",z[133]="\\N",z[160]="\\_",z[8232]="\\L",z[8233]="\\P";var E=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],R=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/,C=1,H=2,Z=1,tt=2,st=3,Q=4,ft=5;e.dump=u}),kn=lt((e,n)=>{var i=function(f,y){return function(){throw new Error("Function yaml."+f+" is removed in js-yaml 4. Use yaml."+y+" instead, which is now safe by default.")}},o=mn(),l=xn();e.Type=xt(),e.Schema=Ke(),e.FAILSAFE_SCHEMA=Me(),e.JSON_SCHEMA=ye(),e.CORE_SCHEMA=ye(),e.DEFAULT_SCHEMA=ve(),e.load=o.load,e.loadAll=o.loadAll,e.dump=l.dump,e.YAMLException=qt(),e.types={binary:Fe(),float:Ye(),map:Be(),null:Ue(),pairs:Je(),set:tn(),timestamp:Xe(),bool:Ze(),int:Ve(),merge:qe(),omap:$e(),seq:Qe(),str:We()},e.safeLoad=i("safeLoad","load"),e.safeLoadAll=i("safeLoadAll","loadAll"),e.safeDump=i("safeDump","dump")}),gn=lt((e,n)=>{(function(i,o){if(typeof e=="object"&&typeof n=="object")n.exports=o();else if(typeof define=="function"&&define.amd)define([],o);else{var l=o();for(var f in l)(typeof e=="object"?e:i)[f]=l[f]}})(e,function(){return(()=>{var i={d:(p,s)=>{for(var c in s)i.o(s,c)&&!i.o(p,c)&&Object.defineProperty(p,c,{enumerable:!0,get:s[c]})},o:(p,s)=>Object.prototype.hasOwnProperty.call(p,s),r:(p)=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})}},o={};i.r(o),i.d(o,{StreamDataView:()=>y});var l=function(){function p(s){this.encoding=s||"utf-8"}return p.prototype.decode=function(s){var c=String.fromCharCode.apply(null,Array.from(s));return this.encoding==="utf-8"?decodeURIComponent(escape(c)):c},p}(),f=function(){function p(s){this.encoding=s||"utf-8"}return p.prototype.encode=function(s){return this.encoding==="utf-8"&&(s=unescape(encodeURIComponent(s))),new Uint8Array(s.split("").map(function(c){return c.charCodeAt(0)}))},p}(),y=function(){function p(s,c){this.offset=0,this.autoResize=!1,s===void 0&&(s=0,this.autoResize=!0),typeof s=="number"&&(s=new ArrayBuffer(s)),this.view=new DataView(s),this.littleEndian=!c}return p.fromByteString=function(s){var c=new p(s.split(" ").length);return c.fromByteString(s),c},p.fromTextString=function(s,c){var a,b=new p((a=c?new f("utf-8").encode(s):new f("ascii").encode(s)).length);return b.setNextString(s,c,a.length),b},p.prototype.resize=function(s){var c=function(a,b){if(!(a instanceof ArrayBuffer))throw new TypeError("Source must be an instance of ArrayBuffer");if(b<=a.byteLength)return a.slice(0,b);var x=new Uint8Array(a),S=new Uint8Array(new ArrayBuffer(b));return S.set(x),S.buffer}(this.getBuffer(),s);this.view=new DataView(c)},p.prototype.crop=function(){this.resize(this.getOffset())},p.prototype.getBuffer=function(){return this.view.buffer},p.prototype.skip=function(s){this.offset+=s},p.prototype.resetOffset=function(){this.offset=0},p.prototype.getOffset=function(){return this.offset},p.prototype.setOffset=function(s){this.offset=s},p.prototype.getInt8=function(s){return this.view.getInt8(s)},p.prototype.getUint8=function(s){return this.view.getUint8(s)},p.prototype.getNextInt8=function(){var s=this.getInt8(this.offset);return this.offset+=1,s},p.prototype.getNextUint8=function(){var s=this.getUint8(this.offset);return this.offset+=1,s},p.prototype.getInt16=function(s){return this.view.getInt16(s,this.littleEndian)},p.prototype.getUint16=function(s){return this.view.getUint16(s,this.littleEndian)},p.prototype.getNextInt16=function(){var s=this.getInt16(this.offset);return this.offset+=2,s},p.prototype.getNextUint16=function(){var s=this.getUint16(this.offset);return this.offset+=2,s},p.prototype.getInt32=function(s){return this.view.getInt32(s,this.littleEndian)},p.prototype.getUint32=function(s){return this.view.getUint32(s,this.littleEndian)},p.prototype.getNextInt32=function(){var s=this.getInt32(this.offset);return this.offset+=4,s},p.prototype.getNextUint32=function(){var s=this.getUint32(this.offset);return this.offset+=4,s},p.prototype.getFloat32=function(s){return this.view.getFloat32(s,this.littleEndian)},p.prototype.getFloat64=function(s){return this.view.getFloat64(s,this.littleEndian)},p.prototype.getNextFloat32=function(){var s=this.getFloat32(this.offset);return this.offset+=4,s},p.prototype.getNextFloat64=function(){var s=this.getFloat64(this.offset);return this.offset+=8,s},p.prototype.setInt8=function(s,c){this.handleAutoResize(s,1),this.view.setInt8(s,c)},p.prototype.setUint8=function(s,c){this.handleAutoResize(s,1),this.view.setUint8(s,c)},p.prototype.setNextInt8=function(s){this.setInt8(this.offset,s),this.offset+=1},p.prototype.setNextUint8=function(s){this.setUint8(this.offset,s),this.offset+=1},p.prototype.setInt16=function(s,c){this.handleAutoResize(s,2),this.view.setInt16(s,c,this.littleEndian)},p.prototype.setUint16=function(s,c){this.handleAutoResize(s,2),this.view.setUint16(s,c,this.littleEndian)},p.prototype.setNextInt16=function(s){this.setInt16(this.offset,s),this.offset+=2},p.prototype.setNextUint16=function(s){this.setUint16(this.offset,s),this.offset+=2},p.prototype.setInt32=function(s,c){this.handleAutoResize(s,4),this.view.setInt32(s,c,this.littleEndian)},p.prototype.setUint32=function(s,c){this.handleAutoResize(s,4),this.view.setUint32(s,c,this.littleEndian)},p.prototype.setNextInt32=function(s){this.setInt32(this.offset,s),this.offset+=4},p.prototype.setNextUint32=function(s){this.setUint32(this.offset,s),this.offset+=4},p.prototype.setFloat32=function(s,c){this.handleAutoResize(s,8),this.view.setFloat32(s,c,this.littleEndian)},p.prototype.setFloat64=function(s,c){this.handleAutoResize(s,8),this.view.setFloat64(s,c,this.littleEndian)},p.prototype.setNextFloat32=function(s){this.setFloat32(this.offset,s),this.offset+=4},p.prototype.setNextFloat64=function(s){this.setFloat64(this.offset,s),this.offset+=8},p.prototype.getBytes=function(s,c){s===void 0&&(s=0),c=c||this.view.buffer.byteLength-s;var a=this.getBuffer().slice(s,s+c);return new Uint8Array(a)},p.prototype.getNextBytes=function(s){var c=this.getBytes(this.offset,s);return this.offset+=s||0,c},p.prototype.setBytes=function(s,c){(c instanceof ArrayBuffer||Array.isArray(c))&&(c=new Uint8Array(c));var a=c;this.handleAutoResize(s,a.byteLength);for(var b=0;b<a.byteLength;b++)this.setUint8(s+b,a[b])},p.prototype.setNextBytes=function(s){Array.isArray(s)&&(s=new Uint8Array(s)),this.setBytes(this.offset,s),this.offset+=s.byteLength},p.prototype.getString=function(s,c,a,b){var x=this.getBytes(s,c);if(b){var S=x.indexOf(0);S>=0&&(x=x.slice(0,S))}return a?new l("utf-8").decode(x):new l("ascii").decode(x)},p.prototype.getNextString=function(s,c,a){var b=this.getString(this.offset,s,c,a);return this.offset+=s,b},p.prototype.setString=function(s,c,a,b){var x;x=a?new f("utf-8").encode(c):new f("ascii").encode(c),b=typeof b=="number"?b:x.byteLength,this.handleAutoResize(s,b);for(var S=0;S<b;S++)this.view.setUint8(s+S,x[S]||0);return b},p.prototype.setNextString=function(s,c,a){this.offset+=this.setString(this.offset,s,c,a)},p.prototype.toByteString=function(){return Array.from(new Uint8Array(this.getBuffer())).map(function(s){return("00"+s.toString(16)).slice(-2)}).join(" ").toUpperCase()},p.prototype.toTextString=function(s){return this.getString(0,this.view.byteLength,s)},p.prototype.fromByteString=function(s){var c=s.split(" "),a=new ArrayBuffer(c.length);this.view=new DataView(a),this.setNextBytes(new Uint8Array(c.map(function(b){return parseInt(b,16)}))),this.resetOffset()},p.prototype.getLength=function(){return this.view.byteLength},p.prototype.clear=function(){this.view=new DataView(new ArrayBuffer(this.view.byteLength)),this.offset=0},p.prototype.handleAutoResize=function(s,c){this.autoResize&&this.getBuffer().byteLength<s+c&&this.resize(s+c)},p}();return o})()})}),_n=lt((e,n)=>{(function(i){function o(k,P){var m=(k&65535)+(P&65535),M=(k>>16)+(P>>16)+(m>>16);return M<<16|m&65535}function l(k,P){return k<<P|k>>>32-P}function f(k,P,m,M,X,it){return o(l(o(o(P,k),o(M,it)),X),m)}function y(k,P,m,M,X,it,W){return f(P&m|~P&M,k,P,X,it,W)}function p(k,P,m,M,X,it,W){return f(P&M|m&~M,k,P,X,it,W)}function s(k,P,m,M,X,it,W){return f(P^m^M,k,P,X,it,W)}function c(k,P,m,M,X,it,W){return f(m^(P|~M),k,P,X,it,W)}function a(k,P){k[P>>5]|=128<<P%32,k[(P+64>>>9<<4)+14]=P;var m,M,X,it,W,j=1732584193,v=-271733879,u=-1732584194,d=271733878;for(m=0;m<k.length;m+=16)M=j,X=v,it=u,W=d,j=y(j,v,u,d,k[m],7,-680876936),d=y(d,j,v,u,k[m+1],12,-389564586),u=y(u,d,j,v,k[m+2],17,606105819),v=y(v,u,d,j,k[m+3],22,-1044525330),j=y(j,v,u,d,k[m+4],7,-176418897),d=y(d,j,v,u,k[m+5],12,1200080426),u=y(u,d,j,v,k[m+6],17,-1473231341),v=y(v,u,d,j,k[m+7],22,-45705983),j=y(j,v,u,d,k[m+8],7,1770035416),d=y(d,j,v,u,k[m+9],12,-1958414417),u=y(u,d,j,v,k[m+10],17,-42063),v=y(v,u,d,j,k[m+11],22,-1990404162),j=y(j,v,u,d,k[m+12],7,1804603682),d=y(d,j,v,u,k[m+13],12,-40341101),u=y(u,d,j,v,k[m+14],17,-1502002290),v=y(v,u,d,j,k[m+15],22,1236535329),j=p(j,v,u,d,k[m+1],5,-165796510),d=p(d,j,v,u,k[m+6],9,-1069501632),u=p(u,d,j,v,k[m+11],14,643717713),v=p(v,u,d,j,k[m],20,-373897302),j=p(j,v,u,d,k[m+5],5,-701558691),d=p(d,j,v,u,k[m+10],9,38016083),u=p(u,d,j,v,k[m+15],14,-660478335),v=p(v,u,d,j,k[m+4],20,-405537848),j=p(j,v,u,d,k[m+9],5,568446438),d=p(d,j,v,u,k[m+14],9,-1019803690),u=p(u,d,j,v,k[m+3],14,-187363961),v=p(v,u,d,j,k[m+8],20,1163531501),j=p(j,v,u,d,k[m+13],5,-1444681467),d=p(d,j,v,u,k[m+2],9,-51403784),u=p(u,d,j,v,k[m+7],14,1735328473),v=p(v,u,d,j,k[m+12],20,-1926607734),j=s(j,v,u,d,k[m+5],4,-378558),d=s(d,j,v,u,k[m+8],11,-2022574463),u=s(u,d,j,v,k[m+11],16,1839030562),v=s(v,u,d,j,k[m+14],23,-35309556),j=s(j,v,u,d,k[m+1],4,-1530992060),d=s(d,j,v,u,k[m+4],11,1272893353),u=s(u,d,j,v,k[m+7],16,-155497632),v=s(v,u,d,j,k[m+10],23,-1094730640),j=s(j,v,u,d,k[m+13],4,681279174),d=s(d,j,v,u,k[m],11,-358537222),u=s(u,d,j,v,k[m+3],16,-722521979),v=s(v,u,d,j,k[m+6],23,76029189),j=s(j,v,u,d,k[m+9],4,-640364487),d=s(d,j,v,u,k[m+12],11,-421815835),u=s(u,d,j,v,k[m+15],16,530742520),v=s(v,u,d,j,k[m+2],23,-995338651),j=c(j,v,u,d,k[m],6,-198630844),d=c(d,j,v,u,k[m+7],10,1126891415),u=c(u,d,j,v,k[m+14],15,-1416354905),v=c(v,u,d,j,k[m+5],21,-57434055),j=c(j,v,u,d,k[m+12],6,1700485571),d=c(d,j,v,u,k[m+3],10,-1894986606),u=c(u,d,j,v,k[m+10],15,-1051523),v=c(v,u,d,j,k[m+1],21,-2054922799),j=c(j,v,u,d,k[m+8],6,1873313359),d=c(d,j,v,u,k[m+15],10,-30611744),u=c(u,d,j,v,k[m+6],15,-1560198380),v=c(v,u,d,j,k[m+13],21,1309151649),j=c(j,v,u,d,k[m+4],6,-145523070),d=c(d,j,v,u,k[m+11],10,-1120210379),u=c(u,d,j,v,k[m+2],15,718787259),v=c(v,u,d,j,k[m+9],21,-343485551),j=o(j,M),v=o(v,X),u=o(u,it),d=o(d,W);return[j,v,u,d]}function b(k){var P,m="",M=k.length*32;for(P=0;P<M;P+=8)m+=String.fromCharCode(k[P>>5]>>>P%32&255);return m}function x(k){var P,m=[];m[(k.length>>2)-1]=void 0;for(P=0;P<m.length;P+=1)m[P]=0;var M=k.length*8;for(P=0;P<M;P+=8)m[P>>5]|=(k.charCodeAt(P/8)&255)<<P%32;return m}function S(k){return b(a(x(k),k.length*8))}function T(k,P){var m,M=x(k),X=[],it=[],W;if(X[15]=it[15]=void 0,M.length>16)M=a(M,k.length*8);for(m=0;m<16;m+=1)X[m]=M[m]^909522486,it[m]=M[m]^1549556828;return W=a(X.concat(x(P)),512+P.length*8),b(a(it.concat(W),640))}function O(k){var P="0123456789abcdef",m="",M,X;for(X=0;X<k.length;X+=1)M=k.charCodeAt(X),m+=P.charAt(M>>>4&15)+P.charAt(M&15);return m}function U(k){return unescape(encodeURIComponent(k))}function J(k){return S(U(k))}function et(k){return O(J(k))}function ct(k,P){return T(U(k),U(P))}function V(k,P){return O(ct(k,P))}function ot(k,P,m){if(!P){if(!m)return et(k);return J(k)}if(!m)return V(P,k);return ct(P,k)}if(typeof define==="function"&&define.amd)define(function(){return ot});else if(typeof n==="object"&&e)n.exports=ot;else i.md5=ot})(e)}),ze=we(bn(),1),pe=function(e){return e.split(".").pop()},wn=kn();class Vt{async load(e,n){const i=await n(e);if(pe(e)==="yaml"||pe(e)==="yml")return wn.load(i);return pe(e)==="json"?JSON.parse(i):i}static BrowserFetcher=(e)=>{return ze.default(e).then((n)=>n.text())};static ArrayBufferFetcher=(e)=>{return ze.default(e).then((n)=>n.arrayBuffer())};static NodeJSFileFetcher=async(e)=>{return(await(()=>({})).promises.readFile(e)).buffer}}var vt;(function(e){e[e.LEAF=0]="LEAF",e[e.ARRAY=1]="ARRAY",e[e.OBJECT=2]="OBJECT",e[e.SPLIT=3]="SPLIT"})(vt||(vt={}));var h;(function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.NULL=1]="NULL",e[e.BOOLEAN_FALSE=2]="BOOLEAN_FALSE",e[e.BOOLEAN_TRUE=3]="BOOLEAN_TRUE",e[e.INT8=4]="INT8",e[e.UINT8=5]="UINT8",e[e.INT16=6]="INT16",e[e.UINT16=7]="UINT16",e[e.INT32=8]="INT32",e[e.UINT32=9]="UINT32",e[e.FLOAT32=10]="FLOAT32",e[e.FLOAT64=11]="FLOAT64",e[e.STRING=12]="STRING",e[e.UNICODE=13]="UNICODE",e[e.EMOJI=14]="EMOJI",e[e.OBJECT_8=17]="OBJECT_8",e[e.OBJECT_16=18]="OBJECT_16",e[e.OBJECT_32=19]="OBJECT_32",e[e.SPLIT_8=20]="SPLIT_8",e[e.SPLIT_16=21]="SPLIT_16",e[e.SPLIT_32=22]="SPLIT_32",e[e.ARRAY_8=23]="ARRAY_8",e[e.ARRAY_16=24]="ARRAY_16",e[e.ARRAY_32=25]="ARRAY_32",e[e.OFFSET_ARRAY_8=26]="OFFSET_ARRAY_8",e[e.OFFSET_ARRAY_16=27]="OFFSET_ARRAY_16",e[e.OFFSET_ARRAY_32=28]="OFFSET_ARRAY_32",e[e.EMPTY_ARRAY=29]="EMPTY_ARRAY",e[e.REFERENCE_8=30]="REFERENCE_8",e[e.REFERENCE_16=31]="REFERENCE_16",e[e.REFERENCE_32=32]="REFERENCE_32",e[e.COMPLEX_OBJECT=33]="COMPLEX_OBJECT",e[e.UINT2=34]="UINT2",e[e.UINT4=35]="UINT4"})(h||(h={}));var Ce=[h.UINT8,h.INT8,h.UINT16,h.INT16,h.UINT32,h.INT32,h.FLOAT32,h.FLOAT64];class Se{numberSatisfyDataType(e,n){if(e%1!==0)switch(n){case h.FLOAT32:return Math.fround(e)===e;case h.FLOAT64:return!0;default:return!1}switch(n){case h.UINT2:return e>=0&&e<4;case h.UINT4:return e>=0&&e<16;case h.UINT8:return e>=0&&e<=255;case h.INT8:return e>=-128&&e<=127;case h.UINT16:return e>=0&&e<=65535;case h.INT16:return e>=-32768&&e<=32767;case h.UINT32:return e>=0;case h.INT32:return!0;case h.FLOAT32:return Math.fround(e)===e;case h.FLOAT64:return!0}return!1}getBestType(e){if(e.some((o)=>o%1!==0)){if(e.every((o)=>this.numberSatisfyDataType(o,h.FLOAT32)))return h.FLOAT32;return h.FLOAT64}const n=Math.min(...e),i=Math.max(...e);for(let o of Ce)if(this.numberSatisfyDataType(n,o)&&this.numberSatisfyDataType(i,o))return o;return h.FLOAT64}getNumberDataType(e){for(let n of Ce)if(this.numberSatisfyDataType(e,n))return n;return h.UNDEFINED}getStringDataType(e){const n=Array.from(e).map((i)=>i.codePointAt(0)??0);if(n.every((i)=>i<256))return h.STRING;else if(n.every((i)=>i<65536))return h.UNICODE;else return h.EMOJI}getFullTokenDataType(e){switch(e.type){case"array":return h.ARRAY_8;case"object":return h.OBJECT_8;case"split":return h.SPLIT_8;default:return this.getDataType(e)}}getDataType(e){switch(e.type){case"complex":return h.COMPLEX_OBJECT;case"array":case"object":case"split":let n=e.value;if(!n.length)return console.assert(e.type==="array"),h.EMPTY_ARRAY;let i=0;if(e.type==="array"&&n.length>3){const l=Math.min(...n),f=Math.max(...n);if(this.getNumberDataType(f-l)!==this.getNumberDataType(f))i=l;n=n.map((y)=>y-i)}const o=this.getBestType(n);switch(e.type){case"object":return o===h.UINT8?h.OBJECT_8:o===h.UINT16?h.OBJECT_16:h.OBJECT_32;case"split":return o===h.UINT8?h.SPLIT_8:o===h.UINT16?h.SPLIT_16:h.SPLIT_32;case"array":if(i)return o===h.UINT8?h.OFFSET_ARRAY_8:o===h.UINT16?h.OFFSET_ARRAY_16:h.OFFSET_ARRAY_32;else return o===h.UINT8?h.ARRAY_8:o===h.UINT16?h.ARRAY_16:h.ARRAY_32}break;case"leaf":if(e.value===void 0)return h.UNDEFINED;else if(e.value===null)return h.NULL;else switch(typeof e.value){case"boolean":return e.value?h.BOOLEAN_TRUE:h.BOOLEAN_FALSE;case"string":return this.getStringDataType(e.value);case"number":return this.getNumberDataType(e.value)}break;case"reference":switch(this.getNumberDataType(e.value)){case h.UINT8:return h.REFERENCE_8;case h.UINT16:return h.REFERENCE_16;case h.UINT32:return h.REFERENCE_32}throw new Error("Invalid reference value: "+e.value)}throw new Error(`Unrecognized type for ${e.type} value: ${e.value}`)}dataTypeToType(e){switch(e){case h.COMPLEX_OBJECT:return"complex";case h.EMPTY_ARRAY:case h.ARRAY_8:case h.ARRAY_16:case h.ARRAY_32:return"array";case h.OBJECT_8:case h.OBJECT_16:case h.OBJECT_32:return"object";case h.SPLIT_8:case h.SPLIT_16:case h.SPLIT_32:return"split";case h.REFERENCE_8:case h.REFERENCE_16:case h.REFERENCE_32:return"reference";default:return"leaf"}}typeToStructureType(e){switch(e){case"leaf":return vt.LEAF;case"array":return vt.ARRAY;case"object":return vt.OBJECT;case"split":return vt.SPLIT}throw new Error("Cannot translate to structure type: "+e)}}var ce=255;class Kt{streamDataView;dataTypeUtils;constructor(e){this.streamDataView=e,this.dataTypeUtils=new Se}encodeTokens(e,n){let i=0;while(i<e.length){const o=this.encodeMulti(e,i,n);if(o)i+=o}this.encodeMulti([],i,n)}decodeTokens(e){const n=[];while(this.streamDataView.getOffset()<this.streamDataView.getLength())if(!this.decodeMulti(n,e))break;return n}encodeToken(e,n,i){const o=n??this.encodeDataType(this.dataTypeUtils.getDataType(e));switch(o){case h.UNDEFINED:case h.NULL:case h.BOOLEAN_TRUE:case h.BOOLEAN_FALSE:case h.EMPTY_ARRAY:break;case h.INT8:case h.UINT8:case h.INT16:case h.UINT16:case h.INT32:case h.UINT32:case h.FLOAT32:case h.FLOAT64:this.encodeSingleNumber(e.value,o);break;case h.STRING:case h.UNICODE:case h.EMOJI:this.encodeString(e.value,o,i);break;case h.OBJECT_8:case h.OBJECT_16:case h.OBJECT_32:this.encodeObjectToken(e,o);break;case h.SPLIT_8:case h.SPLIT_16:case h.SPLIT_32:this.encodeSplitToken(e,o);break;case h.ARRAY_8:case h.ARRAY_16:case h.ARRAY_32:case h.OFFSET_ARRAY_8:case h.OFFSET_ARRAY_16:case h.OFFSET_ARRAY_32:this.encodeArrayToken(e,o);break;case h.REFERENCE_8:case h.REFERENCE_16:case h.REFERENCE_32:this.encodeReferenceToken(e,o);break;case h.COMPLEX_OBJECT:this.encodeComplexToken(e,o);break;default:throw new Error("Invalid dataType: "+o)}}decodeToken(e,n){const i=e??this.decodeDataType();switch(i){case h.UNDEFINED:return{type:"leaf",value:void 0};case h.NULL:return{type:"leaf",value:null};case h.BOOLEAN_TRUE:return{type:"leaf",value:!0};case h.BOOLEAN_FALSE:return{type:"leaf",value:!1};case h.EMPTY_ARRAY:return{type:"array",value:[]};case h.UINT2:case h.UINT4:throw new Error("Use decode number array.");case h.INT8:case h.UINT8:case h.INT16:case h.UINT16:case h.INT32:case h.UINT32:case h.FLOAT32:case h.FLOAT64:return{type:"leaf",value:this.decodeSingleNumber(i)};case h.STRING:case h.UNICODE:case h.EMOJI:return{type:"leaf",value:this.decodeString(i,n)};case h.OBJECT_8:case h.OBJECT_16:case h.OBJECT_32:return this.decodeObjectToken(i);case h.SPLIT_8:case h.SPLIT_16:case h.SPLIT_32:return this.decodeSplitToken(i);case h.ARRAY_8:case h.ARRAY_16:case h.ARRAY_32:case h.OFFSET_ARRAY_8:case h.OFFSET_ARRAY_16:case h.OFFSET_ARRAY_32:return this.decodeArrayToken(i);case h.REFERENCE_8:case h.REFERENCE_16:case h.REFERENCE_32:return this.decodeReferenceToken(i);case h.COMPLEX_OBJECT:return this.decodeComplexToken(i);default:throw new Error("Invalid dataType: "+i)}}isOffsetDataType(e){return e===h.OFFSET_ARRAY_8||e===h.OFFSET_ARRAY_16||e===h.OFFSET_ARRAY_32}encodeArrayToken(e,n){const i=n??this.encodeDataType(this.dataTypeUtils.getDataType(e)),o=i===h.ARRAY_8||i===h.OFFSET_ARRAY_8?h.UINT8:i===h.ARRAY_16||i===h.OFFSET_ARRAY_16?h.UINT16:h.UINT32;let l=e.value;if(this.isOffsetDataType(i)){const f=Math.min(...l);l=l.map((y)=>y-f),this.encodeSingleNumber(f)}this.encodeNumberArray(l,o)}decodeArrayToken(e){const n=e??this.decodeDataType();let i=0;if(this.isOffsetDataType(n))i=this.decodeSingleNumber();const o=n===h.ARRAY_8||n===h.OFFSET_ARRAY_8?h.UINT8:n===h.ARRAY_16||n===h.OFFSET_ARRAY_16?h.UINT16:h.UINT32;return{type:"array",value:this.decodeNumberArray(o).map((l)=>l+i)}}encodeObjectToken(e,n){const i=n??this.encodeDataType(this.dataTypeUtils.getDataType(e)),o=i===h.OBJECT_8?h.UINT8:i===h.OBJECT_16?h.UINT16:h.UINT32,[l,f]=e.value;this.encodeSingleNumber(l,o),this.encodeSingleNumber(f,o)}decodeObjectToken(e){const n=e??this.decodeDataType(),i=n===h.OBJECT_8?h.UINT8:n===h.OBJECT_16?h.UINT16:h.UINT32;return{type:"object",value:[this.decodeSingleNumber(i),this.decodeSingleNumber(i)]}}encodeSplitToken(e,n){const i=n??this.encodeDataType(this.dataTypeUtils.getDataType(e)),o=i===h.SPLIT_8?h.UINT8:i===h.SPLIT_16?h.UINT16:h.UINT32,[l,f]=e.value;this.encodeSingleNumber(l,o),this.encodeSingleNumber(f,o)}decodeSplitToken(e){const n=e??this.decodeDataType(),i=n===h.SPLIT_8?h.UINT8:n===h.SPLIT_16?h.UINT16:h.UINT32;return{type:"split",value:[this.decodeSingleNumber(i),this.decodeSingleNumber(i)]}}encodeReferenceToken(e,n){const i=n??this.encodeDataType(this.dataTypeUtils.getDataType(e)),o=i===h.REFERENCE_8?h.UINT8:i===h.REFERENCE_16?h.UINT16:h.UINT32,l=e.value;this.encodeSingleNumber(l,o)}decodeReferenceToken(e){const n=e??this.decodeDataType(),i=n===h.REFERENCE_8?h.UINT8:n===h.REFERENCE_16?h.UINT16:h.UINT32;return{type:"reference",value:this.decodeSingleNumber(i)}}encodeComplexToken(e,n){if(n===void 0)this.encodeDataType(this.dataTypeUtils.getDataType(e));const i=e.value;this.encodeNumberArray(i,h.UINT2)}decodeComplexToken(e){const n=e??this.decodeDataType(),i=this.decodeNumberArray(h.UINT2);return{type:this.dataTypeUtils.dataTypeToType(n),value:i}}encodeDataType(e){return this.streamDataView.setNextUint8(e),e}decodeDataType(){return this.streamDataView.getNextUint8()}encodeMulti(e,n,i){if(n>=e.length)return this.encodeSingleNumber(0,h.UINT8),0;const o=this.dataTypeUtils.getDataType(e[n]);let l;const f=Math.min(e.length-n,255);for(l=1;l<f;l++)if(this.dataTypeUtils.getDataType(e[n+l])!==o)break;this.encodeSingleNumber(l,h.UINT8),this.encodeDataType(o);const y={organized:i};for(let p=0;p<l;p++)this.encodeToken(e[n+p],o,y);return l}decodeMulti(e,n){const i=this.streamDataView.getNextUint8();if(!i)return 0;const o=this.decodeDataType(),l={organized:n};for(let f=0;f<i;f++){const y=this.decodeToken(o,l);e.push(y)}return i}encodeSingleNumber(e,n){const i=n??this.encodeDataType(this.dataTypeUtils.getNumberDataType(e));switch(i){case h.UINT2:case h.UINT4:throw new Error("Use encode number array.");case h.UINT8:this.streamDataView.setNextUint8(e);break;case h.INT8:this.streamDataView.setNextInt8(e);break;case h.UINT16:this.streamDataView.setNextUint16(e);break;case h.INT16:this.streamDataView.setNextInt16(e);break;case h.UINT32:this.streamDataView.setNextUint32(e);break;case h.INT32:this.streamDataView.setNextInt32(e);break;case h.FLOAT32:this.streamDataView.setNextFloat32(e);break;case h.FLOAT64:this.streamDataView.setNextFloat64(e);break;default:throw new Error("Invalid dataType for number: "+i)}}decodeSingleNumber(e){const n=e??this.decodeDataType();switch(n){case h.UINT2:case h.UINT4:throw new Error("Use decode number array.");case h.UINT8:return this.streamDataView.getNextUint8();case h.INT8:return this.streamDataView.getNextInt8();case h.UINT16:return this.streamDataView.getNextUint16();case h.INT16:return this.streamDataView.getNextInt16();case h.UINT32:return this.streamDataView.getNextUint32();case h.INT32:return this.streamDataView.getNextInt32();case h.FLOAT32:return this.streamDataView.getNextFloat32();case h.FLOAT64:return this.streamDataView.getNextFloat64();default:throw new Error("Invalid dataType for number: "+n)}}bit2ToNum([e,n,i,o]){return(e??0)<<0|(n??0)<<2|(i??0)<<4|(o??0)<<6}numToBit2(e,n=4){return[e>>0&3,e>>2&3,e>>4&3,e>>6&3].slice(0,n)}bit4ToNum([e,n]){return(e??0)<<0|(n??0)<<4}numToBit4(e,n=2){return[e>>0&15,e>>4&15].slice(0,n)}encodeNumberArray(e,n){if(n===h.UINT2||n===h.UINT4){const o=n===h.UINT2?4:2,l=n===h.UINT2?this.bit2ToNum:this.bit4ToNum,f=[];for(let y=0;y<e.length;y+=o)f.push(l(e.slice(y,y+o)));this.encodeNumberArray(f,h.UINT8),this.encodeSingleNumber(e.length-f.length*o,h.INT8);return}let i;for(i=0;i<e.length;){const o=Math.min(ce,e.length-i);if(this.encodeSingleNumber(o,h.UINT8),!o)break;const l=n??this.encodeDataType(this.dataTypeUtils.getBestType(e));for(let f=0;f<o;f++)this.encodeSingleNumber(e[i+f],l);i+=o}if(i===ce)this.encodeSingleNumber(0,h.UINT8)}decodeNumberArray(e){if(e===h.UINT2||e===h.UINT4){const o=e===h.UINT2?this.numToBit2:this.numToBit4,l=[],f=this.decodeNumberArray(h.UINT8);for(let p of f)l.push(...o(p));const y=this.decodeSingleNumber(h.INT8);return l.length+=y,l}let n;const i=[];do{if(n=this.decodeSingleNumber(h.UINT8),!n)break;const o=e??this.decodeDataType();for(let l=0;l<n;l++)i.push(this.decodeSingleNumber(o))}while(n>=ce);return i}numberTypeForStringType(e){return e===h.STRING?h.UINT8:e===h.UNICODE?h.UINT16:e===h.EMOJI?h.UINT32:h.UNDEFINED}encodeString(e,n,i){const o=n??this.encodeDataType(this.dataTypeUtils.getStringDataType(e)),l=Array.from(e).map((y)=>y.codePointAt(0)??0);if(!i?.organized||i.lastStringLength!==e.length)l.push(0);const f=this.numberTypeForStringType(o);if(l.forEach((y)=>this.encodeSingleNumber(y,f)),i)i.lastStringLength=e.length}decodeString(e,n){const i=e??this.decodeDataType(),o=[],l=this.numberTypeForStringType(i);do{const y=this.decodeSingleNumber(l);if(!y)break;if(o.push(y),n?.organized&&n?.lastStringLength&&o.length>=n?.lastStringLength)break}while(!0);const f=o.map((y)=>String.fromCodePoint(y)).join("");if(n)n.lastStringLength=f.length;return f}}class de{dataTypeUtils;constructor(){this.dataTypeUtils=new Se}reduce(e){const n={},i=this.createReducedHeaderTokens(this.filterSplit(Object.values(e.registry).filter((y)=>y.files.size>1||y.files.has("header")),e.registry),n),o=Object.entries(e.files).sort(([y],[p])=>y.localeCompare(p)),l=o.map(([,y])=>n[y.nameToken.hash]),f=o.map(([,{token:y}])=>{const p={...n},s=[],c=[{type:"complex",value:s}];return this.createComplexObject(y,p,e.registry,i,s,c),c});return{originalDataSize:e.originalDataSize,headerTokens:i,files:l,getDataTokens:(y)=>f[y]}}sortTokens(e){e.sort((n,i)=>i.count-n.count)}organizeTokens(e){if(!e.length)return e;const n=[];e.forEach((o)=>{const l=this.dataTypeUtils.getFullTokenDataType(o);let f=void 0;for(let y of n)if(y.length<255&&this.dataTypeUtils.getFullTokenDataType(y[0])===l){f=y;break}if(!f)f=[],n.push(f);f.push(o)}),n.forEach((o)=>{switch(this.dataTypeUtils.getFullTokenDataType(o[0])){case h.UINT8:case h.UINT16:case h.UINT32:case h.INT8:case h.INT16:case h.INT32:case h.FLOAT32:case h.FLOAT64:o.sort((l,f)=>f.value-l.value);break;case h.STRING:case h.UNICODE:case h.EMOJI:o.sort((l,f)=>f.value.length-l.value.length);break;case h.ARRAY_8:case h.ARRAY_16:case h.ARRAY_32:o.sort((l,f)=>f.value.length-l.value.length);break}});const i=[];return n.forEach((o)=>o.forEach((l)=>i.push(l))),i}filterSplit(e,n){for(let i of e)if(i.type==="split"){const[o,l]=i.reference,f=n[o],y=n[l];if(f.count<=i.count&&y.count<=i.count)f.deleted=!0,y.deleted=!0,i.type="leaf",delete i.reference}return e.filter(({deleted:i})=>!i)}createReducedHeaderTokens(e,n,i=0){this.sortTokens(e);const o=this.organizeTokens(e);return o.forEach(({hash:l},f)=>n[l]=f+i),o.map((l)=>({type:l.type,value:l.reference?.map((f)=>n[f])??l.value}))}createComplexObject(e,n,i,o,l,f){if(n[e.hash]>=0)l.push(vt.LEAF),f.push({type:"reference",value:n[e.hash]});else if(e.type==="leaf")l.push(this.dataTypeUtils.typeToStructureType(e.type)),n[e.hash]=o.length+f.length,f.push({type:e.type,value:e.value});else if(e.type==="split"||e.type==="object"||e.type==="array"){if(l.push(this.dataTypeUtils.typeToStructureType(e.type)),e.type==="array")f.push({type:"leaf",value:e.reference?.length});e.reference?.map((y)=>i[y])?.forEach((y)=>{this.createComplexObject(y,n,i,o,l,f)})}else throw new Error("Invalid token type")}}var Gt=we(gn(),1),Tt=Uint8Array,kt=Uint16Array,ie=Uint32Array,se=new Tt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),oe=new Tt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),be=new Tt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),en=function(e,n){var i=new kt(31);for(var o=0;o<31;++o)i[o]=n+=1<<e[o-1];var l=new ie(i[30]);for(var o=1;o<30;++o)for(var f=i[o];f<i[o+1];++f)l[f]=f-i[o]<<5|o;return[i,l]},nn=en(se,2),sn=nn[0],Te=nn[1];sn[28]=258,Te[258]=28;var on=en(oe,0),En=on[0],Ae=on[1],me=new kt(32768);for(nt=0;nt<32768;++nt)jt=(nt&43690)>>>1|(nt&21845)<<1,jt=(jt&52428)>>>2|(jt&13107)<<2,jt=(jt&61680)>>>4|(jt&3855)<<4,me[nt]=((jt&65280)>>>8|(jt&255)<<8)>>>1;var jt,nt,Et=function(e,n,i){var o=e.length,l=0,f=new kt(n);for(;l<o;++l)if(e[l])++f[e[l]-1];var y=new kt(n);for(l=0;l<n;++l)y[l]=y[l-1]+f[l-1]<<1;var p;if(i){p=new kt(1<<n);var s=15-n;for(l=0;l<o;++l)if(e[l]){var c=l<<4|e[l],a=n-e[l],b=y[e[l]-1]++<<a;for(var x=b|(1<<a)-1;b<=x;++b)p[me[b]>>>s]=c}}else{p=new kt(o);for(l=0;l<o;++l)if(e[l])p[l]=me[y[e[l]-1]++]>>>15-e[l]}return p},At=new Tt(288);for(nt=0;nt<144;++nt)At[nt]=8;var nt;for(nt=144;nt<256;++nt)At[nt]=9;var nt;for(nt=256;nt<280;++nt)At[nt]=7;var nt;for(nt=280;nt<288;++nt)At[nt]=8;var nt,Yt=new Tt(32);for(nt=0;nt<32;++nt)Yt[nt]=5;var nt,In=Et(At,9,0),jn=Et(At,9,1),Dn=Et(Yt,5,0),Ln=Et(Yt,5,1),ae=function(e){var n=e[0];for(var i=1;i<e.length;++i)if(e[i]>n)n=e[i];return n},wt=function(e,n,i){var o=n/8|0;return(e[o]|e[o+1]<<8)>>(n&7)&i},he=function(e,n){var i=n/8|0;return(e[i]|e[i+1]<<8|e[i+2]<<16)>>(n&7)},Ee=function(e){return(e+7)/8|0},rn=function(e,n,i){if(n==null||n<0)n=0;if(i==null||i>e.length)i=e.length;var o=new(e.BYTES_PER_ELEMENT==2?kt:e.BYTES_PER_ELEMENT==4?ie:Tt)(i-n);return o.set(e.subarray(n,i)),o},zn=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Lt=function(e,n,i){var o=new Error(n||zn[e]);if(o.code=e,Error.captureStackTrace)Error.captureStackTrace(o,Lt);if(!i)throw o;return o},Cn=function(e,n,i){var o=e.length;if(!o||i&&i.f&&!i.l)return n||new Tt(0);var l=!n||i,f=!i||i.i;if(!i)i={};if(!n)n=new Tt(o*3);var y=function(mt){var _t=n.length;if(mt>_t){var gt=new Tt(Math.max(_t*2,mt));gt.set(n),n=gt}},p=i.f||0,s=i.p||0,c=i.b||0,a=i.l,b=i.d,x=i.m,S=i.n,T=o*8;do{if(!a){p=wt(e,s,1);var O=wt(e,s+1,3);if(s+=3,!O){var U=Ee(s)+4,J=e[U-4]|e[U-3]<<8,et=U+J;if(et>o){if(f)Lt(0);break}if(l)y(c+J);n.set(e.subarray(U,et),c),i.b=c+=J,i.p=s=et*8,i.f=p;continue}else if(O==1)a=jn,b=Ln,x=9,S=5;else if(O==2){var ct=wt(e,s,31)+257,V=wt(e,s+10,15)+4,ot=ct+wt(e,s+5,31)+1;s+=14;var k=new Tt(ot),P=new Tt(19);for(var m=0;m<V;++m)P[be[m]]=wt(e,s+m*3,7);s+=V*3;var M=ae(P),X=(1<<M)-1,it=Et(P,M,1);for(var m=0;m<ot;){var W=it[wt(e,s,X)];s+=W&15;var U=W>>>4;if(U<16)k[m++]=U;else{var j=0,v=0;if(U==16)v=3+wt(e,s,3),s+=2,j=k[m-1];else if(U==17)v=3+wt(e,s,7),s+=3;else if(U==18)v=11+wt(e,s,127),s+=7;while(v--)k[m++]=j}}var u=k.subarray(0,ct),d=k.subarray(ct);x=ae(u),S=ae(d),a=Et(u,x,1),b=Et(d,S,1)}else Lt(1);if(s>T){if(f)Lt(0);break}}if(l)y(c+131072);var N=(1<<x)-1,$=(1<<S)-1,F=s;for(;;F=s){var j=a[he(e,s)&N],Y=j>>>4;if(s+=j&15,s>T){if(f)Lt(0);break}if(!j)Lt(2);if(Y<256)n[c++]=Y;else if(Y==256){F=s,a=null;break}else{var at=Y-254;if(Y>264){var m=Y-257,rt=se[m];at=wt(e,s,(1<<rt)-1)+sn[m],s+=rt}var ht=b[he(e,s)&$],dt=ht>>>4;if(!ht)Lt(3);s+=ht&15;var d=En[dt];if(dt>3){var rt=oe[dt];d+=he(e,s)&(1<<rt)-1,s+=rt}if(s>T){if(f)Lt(0);break}if(l)y(c+131072);var ut=c+at;for(;c<ut;c+=4)n[c]=n[c-d],n[c+1]=n[c+1-d],n[c+2]=n[c+2-d],n[c+3]=n[c+3-d];c=ut}}if(i.l=a,i.p=F,i.b=c,i.f=p,a)p=1,i.m=x,i.d=b,i.n=S}while(!p);return c==n.length?n:rn(n,0,c)},Dt=function(e,n,i){i<<=n&7;var o=n/8|0;e[o]|=i,e[o+1]|=i>>>8},Ut=function(e,n,i){i<<=n&7;var o=n/8|0;e[o]|=i,e[o+1]|=i>>>8,e[o+2]|=i>>>16},fe=function(e,n){var i=[];for(var o=0;o<e.length;++o)if(e[o])i.push({s:o,f:e[o]});var l=i.length,f=i.slice();if(!l)return[Ie,0];if(l==1){var y=new Tt(i[0].s+1);return y[i[0].s]=1,[y,1]}i.sort(function(ot,k){return ot.f-k.f}),i.push({s:-1,f:25001});var p=i[0],s=i[1],c=0,a=1,b=2;i[0]={s:-1,f:p.f+s.f,l:p,r:s};while(a!=l-1)p=i[i[c].f<i[b].f?c++:b++],s=i[c!=a&&i[c].f<i[b].f?c++:b++],i[a++]={s:-1,f:p.f+s.f,l:p,r:s};var x=f[0].s;for(var o=1;o<l;++o)if(f[o].s>x)x=f[o].s;var S=new kt(x+1),T=xe(i[a-1],S,0);if(T>n){var o=0,O=0,U=T-n,J=1<<U;f.sort(function(k,P){return S[P.s]-S[k.s]||k.f-P.f});for(;o<l;++o){var et=f[o].s;if(S[et]>n)O+=J-(1<<T-S[et]),S[et]=n;else break}O>>>=U;while(O>0){var ct=f[o].s;if(S[ct]<n)O-=1<<n-S[ct]++-1;else++o}for(;o>=0&&O;--o){var V=f[o].s;if(S[V]==n)--S[V],++O}T=n}return[new Tt(S),T]},xe=function(e,n,i){return e.s==-1?Math.max(xe(e.l,n,i+1),xe(e.r,n,i+1)):n[e.s]=i},Pe=function(e){var n=e.length;while(n&&!e[--n]);var i=new kt(++n),o=0,l=e[0],f=1,y=function(s){i[o++]=s};for(var p=1;p<=n;++p)if(e[p]==l&&p!=n)++f;else{if(!l&&f>2){for(;f>138;f-=138)y(32754);if(f>2)y(f>10?f-11<<5|28690:f-3<<5|12305),f=0}else if(f>3){y(l),--f;for(;f>6;f-=6)y(8304);if(f>2)y(f-3<<5|8208),f=0}while(f--)y(l);f=1,l=e[p]}return[i.subarray(0,o),n]},Zt=function(e,n){var i=0;for(var o=0;o<n.length;++o)i+=e[o]*n[o];return i},ke=function(e,n,i){var o=i.length,l=Ee(n+2);e[l]=o&255,e[l+1]=o>>>8,e[l+2]=e[l]^255,e[l+3]=e[l+1]^255;for(var f=0;f<o;++f)e[l+f+4]=i[f];return(l+4+o)*8},Re=function(e,n,i,o,l,f,y,p,s,c,a){Dt(n,a++,i),++l[256];var b=fe(l,15),x=b[0],S=b[1],T=fe(f,15),O=T[0],U=T[1],J=Pe(x),et=J[0],ct=J[1],V=Pe(O),ot=V[0],k=V[1],P=new kt(19);for(var m=0;m<et.length;++m)P[et[m]&31]++;for(var m=0;m<ot.length;++m)P[ot[m]&31]++;var M=fe(P,7),X=M[0],it=M[1],W=19;for(;W>4&&!X[be[W-1]];--W);var j=c+5<<3,v=Zt(l,At)+Zt(f,Yt)+y,u=Zt(l,x)+Zt(f,O)+y+14+3*W+Zt(P,X)+(2*P[16]+3*P[17]+7*P[18]);if(j<=v&&j<=u)return ke(n,a,e.subarray(s,s+c));var d,N,$,F;if(Dt(n,a,1+(u<v)),a+=2,u<v){d=Et(x,S,0),N=x,$=Et(O,U,0),F=O;var Y=Et(X,it,0);Dt(n,a,ct-257),Dt(n,a+5,k-1),Dt(n,a+10,W-4),a+=14;for(var m=0;m<W;++m)Dt(n,a+3*m,X[be[m]]);a+=3*W;var at=[et,ot];for(var rt=0;rt<2;++rt){var ht=at[rt];for(var m=0;m<ht.length;++m){var dt=ht[m]&31;if(Dt(n,a,Y[dt]),a+=X[dt],dt>15)Dt(n,a,ht[m]>>>5&127),a+=ht[m]>>>12}}}else d=In,N=At,$=Dn,F=Yt;for(var m=0;m<p;++m)if(o[m]>255){var dt=o[m]>>>18&31;if(Ut(n,a,d[dt+257]),a+=N[dt+257],dt>7)Dt(n,a,o[m]>>>23&31),a+=se[dt];var ut=o[m]&31;if(Ut(n,a,$[ut]),a+=F[ut],ut>3)Ut(n,a,o[m]>>>5&8191),a+=oe[ut]}else Ut(n,a,d[o[m]]),a+=N[o[m]];return Ut(n,a,d[256]),a+N[256]},An=new ie([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ie=new Tt(0),Pn=function(e,n,i,o,l,f){var y=e.length,p=new Tt(o+y+5*(1+Math.ceil(y/7000))+l),s=p.subarray(o,p.length-l),c=0;if(!n||y<8)for(var a=0;a<=y;a+=65535){var b=a+65535;if(b>=y)s[c>>3]=f;c=ke(s,c+1,e.subarray(a,b))}else{var x=An[n-1],S=x>>>13,T=x&8191,O=(1<<i)-1,U=new kt(32768),J=new kt(O+1),et=Math.ceil(i/3),ct=2*et,V=function(Pt){return(e[Pt]^e[Pt+1]<<et^e[Pt+2]<<ct)&O},ot=new ie(25000),k=new kt(288),P=new kt(32),m=0,M=0,a=0,X=0,it=0,W=0;for(;a<y;++a){var j=V(a),v=a&32767,u=J[j];if(U[v]=u,J[j]=v,it<=a){var d=y-a;if((m>7000||X>24576)&&d>423){c=Re(e,s,0,ot,k,P,M,X,W,a-W,c),X=m=M=0,W=a;for(var N=0;N<286;++N)k[N]=0;for(var N=0;N<30;++N)P[N]=0}var $=2,F=0,Y=T,at=v-u&32767;if(d>2&&j==V(a-at)){var rt=Math.min(S,d)-1,ht=Math.min(32767,a),dt=Math.min(258,d);while(at<=ht&&--Y&&v!=u){if(e[a+$]==e[a+$-at]){var ut=0;for(;ut<dt&&e[a+ut]==e[a+ut-at];++ut);if(ut>$){if($=ut,F=at,ut>rt)break;var mt=Math.min(at,ut-2),_t=0;for(var N=0;N<mt;++N){var gt=a-at+N+32768&32767,Ot=U[gt],It=gt-Ot+32768&32767;if(It>_t)_t=It,u=gt}}}v=u,u=U[v],at+=v-u+32768&32767}}if(F){ot[X++]=268435456|Te[$]<<18|Ae[F];var Ct=Te[$]&31,Nt=Ae[F]&31;M+=se[Ct]+oe[Nt],++k[257+Ct],++P[Nt],it=a+$,++m}else ot[X++]=e[a],++k[e[a]]}}if(c=Re(e,s,f,ot,k,P,M,X,W,a-W,c),!f&&c&7)c=ke(s,c+1,Ie)}return rn(p,0,o+Ee(c)+l)},Rn=function(){var e=new Int32Array(256);for(var n=0;n<256;++n){var i=n,o=9;while(--o)i=(i&1&&-306674912)^i>>>1;e[n]=i}return e}(),On=function(){var e=-1;return{p:function(n){var i=e;for(var o=0;o<n.length;++o)i=Rn[i&255^n[o]]^i>>>8;e=i},d:function(){return~e}}},Nn=function(e,n,i,o,l){return Pn(e,n.level==null?6:n.level,n.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+n.mem,i,o,!l)},ge=function(e,n,i){for(;i;++n)e[n]=i,i>>>=8},Hn=function(e,n){var i=n.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=n.level<2?4:n.level==9?2:0,e[9]=3,n.mtime!=0)ge(e,4,Math.floor(new Date(n.mtime||Date.now())/1000));if(i){e[3]=8;for(var o=0;o<=i.length;++o)e[o+10]=i.charCodeAt(o)}},Gn=function(e){if(e[0]!=31||e[1]!=139||e[2]!=8)Lt(6,"invalid gzip data");var n=e[3],i=10;if(n&4)i+=e[10]|(e[11]<<8)+2;for(var o=(n>>3&1)+(n>>4&1);o>0;o-=!e[i++]);return i+(n&2)},Kn=function(e){var n=e.length;return(e[n-4]|e[n-3]<<8|e[n-2]<<16|e[n-1]<<24)>>>0},Wn=function(e){return 10+(e.filename&&e.filename.length+1||0)},Qn=typeof TextDecoder!="undefined"&&new TextDecoder,Bn=0;try{Qn.decode(Ie,{stream:!0}),Bn=1}catch(e){}class je{encode(e){return vn(new Uint8Array(e),{mtime:"6/9/1978 12:00 PM"}).buffer}decode(e){return Sn(new Uint8Array(e)).buffer}}var Ne=/\W+/g,Mn=/(\w{3,}\W+){2,}|(\W+\w{3,}){2,}/,ee=we(_n(),1);class _e{loader=new Vt;async load(e,n){if(e.some((l)=>typeof l!=="string"))throw new Error("Each argument passed to load must be a string.");const i=e.sort(),o=await Promise.all(i.map((l)=>this.loader.load(l,n)));return this.tokenize(Object.fromEntries(o.map((l,f)=>[i[f],l])))}tokenize(e){const n={registry:{},files:{}},i={next:0};Object.entries(e).forEach(([l,f])=>{n.files[l]={nameToken:this.tokenizeHelper(l,n.registry,i,"header"),token:this.tokenizeHelper(f,n.registry,i,l)}});const o=Uint8Array.from(Array.from(JSON.stringify(e)).map((l)=>l.codePointAt(0)??0));return n.originalDataSize=o.byteLength,n}registerToken(e,n,i,o,l,f){const y=i[e]??(i[e]={type:Oe(n),hash:e,value:n,reference:f,order:o.next++,count:0,files:new Set});return y.files.add(l),y.count++,y}tokenizeHelper(e,n,i,o){const l=Oe(e);if(l==="array"){if(!Array.isArray(e))throw new Error("item should be an array");const f=e.map((p)=>this.tokenizeHelper(p,n,i,o)).map(({hash:p})=>p),y=ee.default(f.join(","));return this.registerToken(y,e,n,i,o,f)}else if(l==="object"){const f=Object.entries(e),y=this.tokenizeHelper(f.map(([c])=>c),n,i,o),p=this.tokenizeHelper(f.map(([,c])=>c),n,i,o),s=ee.default(`${y.hash}|${p.hash}`);return this.registerToken(s,e,n,i,o,[y.hash,p.hash])}else if(l==="split"){const f=e.split(Ne),y=e.match(Ne),p=this.tokenizeHelper(f,n,i,o),s=this.tokenizeHelper(y,n,i,o),c=ee.default(`${p.hash}-${s.hash}`);return this.registerToken(c,e,n,i,o,[p.hash,s.hash])}else{const f=ee.default(JSON.stringify(e));return this.registerToken(f,e,n,i,o)}}}var Un={cacheable:!0};class ln{extractor=new pn;dataStore;fileToSlot;config;fileNames;version;originalDataSize;compressedSize;constructor(e,n){this.dataStore=e,this.config={...Un,...n},this.fileNames=this.extractor.extractFileNames(e.files,e.headerTokens,this.config),this.fileToSlot=Object.fromEntries(this.fileNames.map((i,o)=>[i,o])),this.version=e.version,this.originalDataSize=e.originalDataSize,this.compressedSize=e.compressedSize}extract(e){const n=this.fileToSlot[e];if(n===void 0)return;const i=this.dataStore.getDataTokens(n);if(i)return this.extractor.extract(this.dataStore.headerTokens,i,this.config)}getHeaderTokens(){return this.dataStore.headerTokens}}class pn{valueFetcher;constructor(){this.valueFetcher={array:this.getArray.bind(this),leaf:this.getLeaf.bind(this),object:this.getObject.bind(this),split:this.getSplit.bind(this),reference:this.getReference.bind(this),complex:void 0}}extractFileNames(e,n,i){return e.map((o)=>this.extractToken(o,n,void 0,i))}extract(e,n,i){const o=n.entries(),[,l]=o.next().value,f=l.value;return this.extractComplex(f.entries(),o,e,[...n],i)}extractComplex(e,n,i,o,l){const[,f]=e.next().value;switch(f){case vt.LEAF:const[,y]=n.next().value;return this.extractValueOrCache(y,i,o,l,!0,this.valueFetcher[y.type]);case vt.ARRAY:const[,p]=n.next().value;return new Array(p.value).fill(null).map((x)=>this.extractComplex(e,n,i,o,l));case vt.OBJECT:const s=this.extractComplex(e,n,i,o,l),c=this.extractComplex(e,n,i,o,l);return Object.fromEntries(s.map((x,S)=>[x,c[S]]));case vt.SPLIT:const a=this.extractComplex(e,n,i,o,l),b=this.extractComplex(e,n,i,o,l);return a.map((x,S)=>`${x}${b[S]??""}`).join("")}}extractToken(e,n,i,o,l){const f=e<n.length?n[e]:i?.[e-n.length];if(!f)throw new Error("Invalid token at index: "+e);return this.extractValueOrCache(f,n,i,o,l,this.valueFetcher[f.type])}getLeaf(e){return e.value}getReference(e,n,i,o){const l=e.value;return this.extractToken(l,n,i,o)}getArray(e,n,i,o){if(!Array.isArray(e.value))throw new Error("Invalid array token");return e.value.map((l)=>this.extractToken(l,n,i,o))}getObject(e,n,i,o){const[l,f]=e.value,y=this.extractToken(l,n,i,o,!0),p=this.extractToken(f,n,i,o);return Object.fromEntries(y.map((s,c)=>[s,p[c]]))}getSplit(e,n,i,o){const[l,f]=e.value,y=this.extractToken(l,n,i,o,!0),p=this.extractToken(f,n,i,o,!0);return y.map((s,c)=>`${s}${p[c]??""}`).join("")}extractValueOrCache(e,n,i,o,l,f){if(e.cache!==void 0&&l)return e.cache;const y=f(e,n,i,o);if(o.cacheable&&e.type!=="leaf")e.cache=y;return y}}var He="1.1.1",ne;(function(e){e[e.NONE=0]="NONE",e[e.FFLATE=1]="FFLATE"})(ne||(ne={}));var Ge=[()=>{return},()=>new je],ue=[ne.FFLATE];class cn{async loadAndCompress(e,n=Vt.BrowserFetcher,i=ue){const o=await new _e().load(e,n),l=new de().reduce(o);return this.compressDataStore(l,i)}compress(e,n=ue){const i=new _e().tokenize(e),o=new de().reduce(i);return this.compressDataStore(o,n)}async loadAndExpand(e,n=Vt.ArrayBufferFetcher){const i=await n(e);return this.expand(i)}expand(e,n){return new ln(this.expandDataStore(e),n)}compressDataStore(e,n=ue){const i=new Gt.StreamDataView,o=new Kt(i);o.encodeTokens(e.headerTokens,!0),o.encodeNumberArray(e.files);const l=new Gt.StreamDataView;l.setNextUint8(He.length),l.setNextString(He),n.forEach((p)=>l.setNextUint8(p)),l.setNextUint8(0);const f=n.map((p)=>Ge[p]()).filter((p)=>!!p),y=this.applyEncoders(i.getBuffer(),f);l.setNextUint32(y.byteLength),l.setNextBytes(y);for(let p=0;p<e.files.length;p++){const s=new Gt.StreamDataView;new Kt(s).encodeTokens(e.getDataTokens(p),!1);const c=this.applyEncoders(s.getBuffer(),f);l.setNextUint32(c.byteLength),l.setNextBytes(c)}return l.setNextUint32(0),l.setNextUint32(e.originalDataSize??0),new Uint8Array(l.getBuffer()).buffer}expandDataStore(e){const n=e.byteLength,i=new Gt.StreamDataView(e),o=i.getNextString(i.getNextUint8()),l=[];do{const S=i.getNextUint8();if(S===ne.NONE)break;const T=Ge[S]?.();if(T)l.push(T)}while(i.getOffset()<i.getLength());const f=i.getNextUint32(),y=this.applyDecoders(i.getNextBytes(f).buffer,l),p=new Kt(new Gt.StreamDataView(y)),s=p.decodeTokens(!0),c=p.decodeNumberArray(),a=[];do{const S=i.getNextUint32();if(!S)break;a.push(i.getNextBytes(S).buffer)}while(i.getOffset()<i.getLength());const b=(S)=>{const T=this.applyDecoders(a[S],l),O=new Gt.StreamDataView(T);return new Kt(O).decodeTokens(!1)};let x;try{x=i.getNextUint32()||void 0}catch(S){}return{version:o,originalDataSize:x,compressedSize:n,headerTokens:s,files:c,getDataTokens:b}}applyEncoders(e,n){let i=e;return n.forEach((o)=>{i=o.encode(i)}),i}applyDecoders(e,n){let i=e;return n.forEach((o)=>{i=o.decode(i)}),i}}var Zn={Loader:Vt,Compressor:cn,TokenEncoder:Kt,FFlateEncoder:je},an=Zn;var Yn=function(e){return e.replace(/\/\/.*|\/\*[^]*?\*\//g,"")};async function Xn(){try{let l=function(s){zt.readdirSync(s).forEach((a)=>{const b=re.join(s,a);if(zt.statSync(b).isDirectory()&&a!=="node_modules")l(b);else if(a.endsWith(".json")&&b!==i&&!a.endsWith("lock.json"))try{const S=zt.readFileSync(b,"utf8");console.info("JSON",S);const T=Yn(S);console.info("JSON",T);const O=JSON.parse(T);o[b.split(e)[1]]=O}catch(S){console.error(`Error parsing JSON file ${b}: ${S.message}`)}})};const e=process.env.GITHUB_WORKSPACE||process.cwd();console.log(e);const n="consolidated.json",i=re.join(e,n);let o={};l(e),zt.writeFileSync(i,JSON.stringify(o,null,2)),console.log(`Consolidated JSON files into ${n}`);const y=new Vn().compress(o),p=Buffer.from(y);zt.writeFileSync(re.join(e,"consolidated.dokbin"),p)}catch(e){console.error("Error:",e.message),process.exit(1)}}var{Compressor:Vn}=an;Xn();

//# debugId=2B7F4B4F741D4FC464756e2164756e21
