import { createRequire as __WEBPACK_EXTERNAL_createRequire } from "module";
/******/ /* webpack/runtime/compat */
/******/ 
/******/ if (typeof __nccwpck_require__ !== 'undefined') __nccwpck_require__.ab = new URL('.', import.meta.url).pathname.slice(import.meta.url.match(/^file:\/\/\/\w:/) ? 1 : 0, -1) + "/";
/******/ 
/************************************************************************/
var __webpack_exports__ = {};

;// CONCATENATED MODULE: external "fs"
const external_fs_namespaceObject = __WEBPACK_EXTERNAL_createRequire(import.meta.url)("fs");
;// CONCATENATED MODULE: external "path"
const external_path_namespaceObject = __WEBPACK_EXTERNAL_createRequire(import.meta.url)("path");
;// CONCATENATED MODULE: ./node_modules/dok-compression/dist/index.js
var pJ=Object.create;var{defineProperty:Z0,getPrototypeOf:rJ,getOwnPropertyNames:lJ}=Object;var cJ=Object.prototype.hasOwnProperty;var Q1=(J,$,F)=>{F=J!=null?pJ(rJ(J)):{};const q=$||!J||!J.__esModule?Z0(F,"default",{value:J,enumerable:!0}):F;for(let X of lJ(J))if(!cJ.call(q,X))Z0(q,X,{get:()=>J[X],enumerable:!0});return q};var _=(J,$)=>()=>($||J(($={exports:{}}).exports,$),$.exports);var nJ=((J)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(J,{get:($,F)=>(typeof require!=="undefined"?require:$)[F]}):J)(function(J){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+J+'" is not supported')});var G0=_((q8,Q0)=>{var U0=typeof self!=="undefined"?self:q8,c8=function(){function J(){this.fetch=!1,this.DOMException=U0.DOMException}return J.prototype=U0,new J}();(function(J){var $=function(F){var q={searchParams:"URLSearchParams"in J,iterable:"Symbol"in J&&"iterator"in Symbol,blob:"FileReader"in J&&"Blob"in J&&function(){try{return new Blob,!0}catch(B){return!1}}(),formData:"FormData"in J,arrayBuffer:"ArrayBuffer"in J};function X(B){return B&&DataView.prototype.isPrototypeOf(B)}if(q.arrayBuffer)var V=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Y=ArrayBuffer.isView||function(B){return B&&V.indexOf(Object.prototype.toString.call(B))>-1};function Z(B){if(typeof B!=="string")B=String(B);if(/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(B))throw new TypeError("Invalid character in header field name");return B.toLowerCase()}function Q(B){if(typeof B!=="string")B=String(B);return B}function G(B){var W={next:function(){var O=B.shift();return{done:O===void 0,value:O}}};if(q.iterable)W[Symbol.iterator]=function(){return W};return W}function K(B){if(this.map={},B instanceof K)B.forEach(function(W,O){this.append(O,W)},this);else if(Array.isArray(B))B.forEach(function(W){this.append(W[0],W[1])},this);else if(B)Object.getOwnPropertyNames(B).forEach(function(W){this.append(W,B[W])},this)}if(K.prototype.append=function(B,W){B=Z(B),W=Q(W);var O=this.map[B];this.map[B]=O?O+", "+W:W},K.prototype.delete=function(B){delete this.map[Z(B)]},K.prototype.get=function(B){return B=Z(B),this.has(B)?this.map[B]:null},K.prototype.has=function(B){return this.map.hasOwnProperty(Z(B))},K.prototype.set=function(B,W){this.map[Z(B)]=Q(W)},K.prototype.forEach=function(B,W){for(var O in this.map)if(this.map.hasOwnProperty(O))B.call(W,this.map[O],O,this)},K.prototype.keys=function(){var B=[];return this.forEach(function(W,O){B.push(O)}),G(B)},K.prototype.values=function(){var B=[];return this.forEach(function(W){B.push(W)}),G(B)},K.prototype.entries=function(){var B=[];return this.forEach(function(W,O){B.push([O,W])}),G(B)},q.iterable)K.prototype[Symbol.iterator]=K.prototype.entries;function P(B){if(B.bodyUsed)return Promise.reject(new TypeError("Already read"));B.bodyUsed=!0}function j(B){return new Promise(function(W,O){B.onload=function(){W(B.result)},B.onerror=function(){O(B.error)}})}function z(B){var W=new FileReader,O=j(W);return W.readAsArrayBuffer(B),O}function w(B){var W=new FileReader,O=j(W);return W.readAsText(B),O}function E(B){var W=new Uint8Array(B),O=new Array(W.length);for(var A=0;A<W.length;A++)O[A]=String.fromCharCode(W[A]);return O.join("")}function S(B){if(B.slice)return B.slice(0);else{var W=new Uint8Array(B.byteLength);return W.set(new Uint8Array(B)),W.buffer}}function x(){if(this.bodyUsed=!1,this._initBody=function(B){if(this._bodyInit=B,!B)this._bodyText="";else if(typeof B==="string")this._bodyText=B;else if(q.blob&&Blob.prototype.isPrototypeOf(B))this._bodyBlob=B;else if(q.formData&&FormData.prototype.isPrototypeOf(B))this._bodyFormData=B;else if(q.searchParams&&URLSearchParams.prototype.isPrototypeOf(B))this._bodyText=B.toString();else if(q.arrayBuffer&&q.blob&&X(B))this._bodyArrayBuffer=S(B.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else if(q.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(B)||Y(B)))this._bodyArrayBuffer=S(B);else this._bodyText=B=Object.prototype.toString.call(B);if(!this.headers.get("content-type")){if(typeof B==="string")this.headers.set("content-type","text/plain;charset=UTF-8");else if(this._bodyBlob&&this._bodyBlob.type)this.headers.set("content-type",this._bodyBlob.type);else if(q.searchParams&&URLSearchParams.prototype.isPrototypeOf(B))this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}},q.blob)this.blob=function(){var B=P(this);if(B)return B;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);else if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));else if(this._bodyFormData)throw new Error("could not read FormData body as blob");else return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer)return P(this)||Promise.resolve(this._bodyArrayBuffer);else return this.blob().then(z)};if(this.text=function(){var B=P(this);if(B)return B;if(this._bodyBlob)return w(this._bodyBlob);else if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));else if(this._bodyFormData)throw new Error("could not read FormData body as text");else return Promise.resolve(this._bodyText)},q.formData)this.formData=function(){return this.text().then(C)};return this.json=function(){return this.text().then(JSON.parse)},this}var D=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(B){var W=B.toUpperCase();return D.indexOf(W)>-1?W:B}function M(B,W){W=W||{};var O=W.body;if(B instanceof M){if(B.bodyUsed)throw new TypeError("Already read");if(this.url=B.url,this.credentials=B.credentials,!W.headers)this.headers=new K(B.headers);if(this.method=B.method,this.mode=B.mode,this.signal=B.signal,!O&&B._bodyInit!=null)O=B._bodyInit,B.bodyUsed=!0}else this.url=String(B);if(this.credentials=W.credentials||this.credentials||"same-origin",W.headers||!this.headers)this.headers=new K(W.headers);if(this.method=m(W.method||this.method||"GET"),this.mode=W.mode||this.mode||null,this.signal=W.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&O)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(O)}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})};function C(B){var W=new FormData;return B.trim().split("&").forEach(function(O){if(O){var A=O.split("="),H=A.shift().replace(/\+/g," "),g=A.join("=").replace(/\+/g," ");W.append(decodeURIComponent(H),decodeURIComponent(g))}}),W}function R(B){var W=new K,O=B.replace(/\r?\n[\t ]+/g," ");return O.split(/\r?\n/).forEach(function(A){var H=A.split(":"),g=H.shift().trim();if(g){var y=H.join(":").trim();W.append(g,y)}}),W}x.call(M.prototype);function I(B,W){if(!W)W={};this.type="default",this.status=W.status===void 0?200:W.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in W?W.statusText:"OK",this.headers=new K(W.headers),this.url=W.url||"",this._initBody(B)}x.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new K(this.headers),url:this.url})},I.error=function(){var B=new I(null,{status:0,statusText:""});return B.type="error",B};var L=[301,302,303,307,308];I.redirect=function(B,W){if(L.indexOf(W)===-1)throw new RangeError("Invalid status code");return new I(null,{status:W,headers:{location:B}})},F.DOMException=J.DOMException;try{new F.DOMException}catch(B){F.DOMException=function(W,O){this.message=W,this.name=O;var A=Error(W);this.stack=A.stack},F.DOMException.prototype=Object.create(Error.prototype),F.DOMException.prototype.constructor=F.DOMException}function T(B,W){return new Promise(function(O,A){var H=new M(B,W);if(H.signal&&H.signal.aborted)return A(new F.DOMException("Aborted","AbortError"));var g=new XMLHttpRequest;function y(){g.abort()}if(g.onload=function(){var h={status:g.status,statusText:g.statusText,headers:R(g.getAllResponseHeaders()||"")};h.url="responseURL"in g?g.responseURL:h.headers.get("X-Request-URL");var N="response"in g?g.response:g.responseText;O(new I(N,h))},g.onerror=function(){A(new TypeError("Network request failed"))},g.ontimeout=function(){A(new TypeError("Network request failed"))},g.onabort=function(){A(new F.DOMException("Aborted","AbortError"))},g.open(H.method,H.url,!0),H.credentials==="include")g.withCredentials=!0;else if(H.credentials==="omit")g.withCredentials=!1;if("responseType"in g&&q.blob)g.responseType="blob";if(H.headers.forEach(function(h,N){g.setRequestHeader(N,h)}),H.signal)H.signal.addEventListener("abort",y),g.onreadystatechange=function(){if(g.readyState===4)H.signal.removeEventListener("abort",y)};g.send(typeof H._bodyInit==="undefined"?null:H._bodyInit)})}if(T.polyfill=!0,!J.fetch)J.fetch=T,J.Headers=K,J.Request=M,J.Response=I;return F.Headers=K,F.Request=M,F.Response=I,F.fetch=T,Object.defineProperty(F,"__esModule",{value:!0}),F}({})})(c8);c8.fetch.ponyfill=!0;delete c8.fetch.polyfill;var A8=c8;q8=A8.fetch;q8.default=A8.fetch;q8.fetch=A8.fetch;q8.Headers=A8.Headers;q8.Request=A8.Request;q8.Response=A8.Response;Q0.exports=q8});var N8=_((eJ,B8)=>{var W0=function(J){return typeof J==="undefined"||J===null},oJ=function(J){return typeof J==="object"&&J!==null},dJ=function(J){if(Array.isArray(J))return J;else if(W0(J))return[];return[J]},iJ=function(J,$){var F,q,X,V;if($){V=Object.keys($);for(F=0,q=V.length;F<q;F+=1)X=V[F],J[X]=$[X]}return J},sJ=function(J,$){var F="",q;for(q=0;q<$;q+=1)F+=J;return F},aJ=function(J){return J===0&&Number.NEGATIVE_INFINITY===1/J};eJ.isNothing=W0;eJ.isObject=oJ;eJ.toArray=dJ;eJ.repeat=sJ;eJ.isNegativeZero=aJ;eJ.extend=iJ});var z8=_((q3,B0)=>{var K0=function(J,$){var F="",q=J.reason||"(unknown reason)";if(!J.mark)return q;if(J.mark.name)F+='in "'+J.mark.name+'" ';if(F+="("+(J.mark.line+1)+":"+(J.mark.column+1)+")",!$&&J.mark.snippet)F+="\n\n"+J.mark.snippet;return q+" "+F},v8=function(J,$){if(Error.call(this),this.name="YAMLException",this.reason=J,this.mark=$,this.message=K0(this,!1),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor);else this.stack=new Error().stack||""};v8.prototype=Object.create(Error.prototype);v8.prototype.constructor=v8;v8.prototype.toString=function J($){return this.name+": "+K0(this,$)};B0.exports=v8});var M0=_((X3,O0)=>{var G1=function(J,$,F,q,X){var V="",Y="",Z=Math.floor(X/2)-1;if(q-$>Z)V=" ... ",$=q-Z+V.length;if(F-q>Z)Y=" ...",F=q+Z-Y.length;return{str:V+J.slice($,F).replace(/\t/g,"\u2192")+Y,pos:q-$+V.length}},W1=function(J,$){return S8.repeat(" ",$-J.length)+J},Y4=function(J,$){if($=Object.create($||null),!J.buffer)return null;if(!$.maxLength)$.maxLength=79;if(typeof $.indent!=="number")$.indent=1;if(typeof $.linesBefore!=="number")$.linesBefore=3;if(typeof $.linesAfter!=="number")$.linesAfter=2;var F=/\r?\n|\r|\0/g,q=[0],X=[],V,Y=-1;while(V=F.exec(J.buffer))if(X.push(V.index),q.push(V.index+V[0].length),J.position<=V.index&&Y<0)Y=q.length-2;if(Y<0)Y=q.length-1;var Z="",Q,G,K=Math.min(J.line+$.linesAfter,X.length).toString().length,P=$.maxLength-($.indent+K+3);for(Q=1;Q<=$.linesBefore;Q++){if(Y-Q<0)break;G=G1(J.buffer,q[Y-Q],X[Y-Q],J.position-(q[Y]-q[Y-Q]),P),Z=S8.repeat(" ",$.indent)+W1((J.line-Q+1).toString(),K)+" | "+G.str+"\n"+Z}G=G1(J.buffer,q[Y],X[Y],J.position,P),Z+=S8.repeat(" ",$.indent)+W1((J.line+1).toString(),K)+" | "+G.str+"\n",Z+=S8.repeat("-",$.indent+K+3+G.pos)+"^\n";for(Q=1;Q<=$.linesAfter;Q++){if(Y+Q>=X.length)break;G=G1(J.buffer,q[Y+Q],X[Y+Q],J.position-(q[Y]-q[Y+Q]),P),Z+=S8.repeat(" ",$.indent)+W1((J.line+Q+1).toString(),K)+" | "+G.str+"\n"}return Z.replace(/\n$/,"")},S8=N8();O0.exports=Y4});var b=_((Y3,P0)=>{var U4=function(J){var $={};if(J!==null)Object.keys(J).forEach(function(F){J[F].forEach(function(q){$[String(q)]=F})});return $},Q4=function(J,$){if($=$||{},Object.keys($).forEach(function(F){if(V4.indexOf(F)===-1)throw new R0('Unknown option "'+F+'" is met in definition of "'+J+'" YAML type.')}),this.options=$,this.tag=J,this.kind=$.kind||null,this.resolve=$.resolve||function(){return!0},this.construct=$.construct||function(F){return F},this.instanceOf=$.instanceOf||null,this.predicate=$.predicate||null,this.represent=$.represent||null,this.representName=$.representName||null,this.defaultStyle=$.defaultStyle||null,this.multi=$.multi||!1,this.styleAliases=U4($.styleAliases||null),Z4.indexOf(this.kind)===-1)throw new R0('Unknown kind "'+this.kind+'" is specified for "'+J+'" YAML type.')},R0=z8(),V4=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Z4=["scalar","sequence","mapping"];P0.exports=Q4});var O1=_((V3,A0)=>{var H0=function(J,$){var F=[];return J[$].forEach(function(q){var X=F.length;F.forEach(function(V,Y){if(V.tag===q.tag&&V.kind===q.kind&&V.multi===q.multi)X=Y}),F[X]=q}),F},G4=function(){var J={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},$,F;function q(X){if(X.multi)J.multi[X.kind].push(X),J.multi.fallback.push(X);else J[X.kind][X.tag]=J.fallback[X.tag]=X}for($=0,F=arguments.length;$<F;$+=1)arguments[$].forEach(q);return J},B1=function(J){return this.extend(J)},D8=z8(),K1=b();B1.prototype.extend=function J($){var F=[],q=[];if($ instanceof K1)q.push($);else if(Array.isArray($))q=q.concat($);else if($&&(Array.isArray($.implicit)||Array.isArray($.explicit))){if($.implicit)F=F.concat($.implicit);if($.explicit)q=q.concat($.explicit)}else throw new D8("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");F.forEach(function(V){if(!(V instanceof K1))throw new D8("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(V.loadKind&&V.loadKind!=="scalar")throw new D8("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(V.multi)throw new D8("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),q.forEach(function(V){if(!(V instanceof K1))throw new D8("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var X=Object.create(B1.prototype);return X.implicit=(this.implicit||[]).concat(F),X.explicit=(this.explicit||[]).concat(q),X.compiledImplicit=H0(X,"implicit"),X.compiledExplicit=H0(X,"explicit"),X.compiledTypeMap=G4(X.compiledImplicit,X.compiledExplicit),X};A0.exports=B1});var M1=_((Z3,N0)=>{var W4=b();N0.exports=new W4("tag:yaml.org,2002:str",{kind:"scalar",construct:function(J){return J!==null?J:""}})});var R1=_((U3,z0)=>{var K4=b();z0.exports=new K4("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(J){return J!==null?J:[]}})});var P1=_((Q3,j0)=>{var B4=b();j0.exports=new B4("tag:yaml.org,2002:map",{kind:"mapping",construct:function(J){return J!==null?J:{}}})});var H1=_((G3,C0)=>{var O4=O1();C0.exports=new O4({explicit:[M1(),R1(),P1()]})});var A1=_((W3,L0)=>{var R4=function(J){if(J===null)return!0;var $=J.length;return $===1&&J==="~"||$===4&&(J==="null"||J==="Null"||J==="NULL")},P4=function(){return null},H4=function(J){return J===null},M4=b();L0.exports=new M4("tag:yaml.org,2002:null",{kind:"scalar",resolve:R4,construct:P4,predicate:H4,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})});var N1=_((K3,w0)=>{var N4=function(J){if(J===null)return!1;var $=J.length;return $===4&&(J==="true"||J==="True"||J==="TRUE")||$===5&&(J==="false"||J==="False"||J==="FALSE")},z4=function(J){return J==="true"||J==="True"||J==="TRUE"},j4=function(J){return Object.prototype.toString.call(J)==="[object Boolean]"},A4=b();w0.exports=new A4("tag:yaml.org,2002:bool",{kind:"scalar",resolve:N4,construct:z4,predicate:j4,represent:{lowercase:function(J){return J?"true":"false"},uppercase:function(J){return J?"TRUE":"FALSE"},camelcase:function(J){return J?"True":"False"}},defaultStyle:"lowercase"})});var z1=_((B3,I0)=>{var w4=function(J){return 48<=J&&J<=57||65<=J&&J<=70||97<=J&&J<=102},I4=function(J){return 48<=J&&J<=55},E4=function(J){return 48<=J&&J<=57},v4=function(J){if(J===null)return!1;var $=J.length,F=0,q=!1,X;if(!$)return!1;if(X=J[F],X==="-"||X==="+")X=J[++F];if(X==="0"){if(F+1===$)return!0;if(X=J[++F],X==="b"){F++;for(;F<$;F++){if(X=J[F],X==="_")continue;if(X!=="0"&&X!=="1")return!1;q=!0}return q&&X!=="_"}if(X==="x"){F++;for(;F<$;F++){if(X=J[F],X==="_")continue;if(!w4(J.charCodeAt(F)))return!1;q=!0}return q&&X!=="_"}if(X==="o"){F++;for(;F<$;F++){if(X=J[F],X==="_")continue;if(!I4(J.charCodeAt(F)))return!1;q=!0}return q&&X!=="_"}}if(X==="_")return!1;for(;F<$;F++){if(X=J[F],X==="_")continue;if(!E4(J.charCodeAt(F)))return!1;q=!0}if(!q||X==="_")return!1;return!0},S4=function(J){var $=J,F=1,q;if($.indexOf("_")!==-1)$=$.replace(/_/g,"");if(q=$[0],q==="-"||q==="+"){if(q==="-")F=-1;$=$.slice(1),q=$[0]}if($==="0")return 0;if(q==="0"){if($[1]==="b")return F*parseInt($.slice(2),2);if($[1]==="x")return F*parseInt($.slice(2),16);if($[1]==="o")return F*parseInt($.slice(2),8)}return F*parseInt($,10)},D4=function(J){return Object.prototype.toString.call(J)==="[object Number]"&&(J%1===0&&!C4.isNegativeZero(J))},C4=N8(),L4=b();I0.exports=new L4("tag:yaml.org,2002:int",{kind:"scalar",resolve:v4,construct:S4,predicate:D4,represent:{binary:function(J){return J>=0?"0b"+J.toString(2):"-0b"+J.toString(2).slice(1)},octal:function(J){return J>=0?"0o"+J.toString(8):"-0o"+J.toString(8).slice(1)},decimal:function(J){return J.toString(10)},hexadecimal:function(J){return J>=0?"0x"+J.toString(16).toUpperCase():"-0x"+J.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var j1=_((O3,v0)=>{var T4=function(J){if(J===null)return!1;if(!x4.test(J)||J[J.length-1]==="_")return!1;return!0},k4=function(J){var $,F;if($=J.replace(/_/g,"").toLowerCase(),F=$[0]==="-"?-1:1,"+-".indexOf($[0])>=0)$=$.slice(1);if($===".inf")return F===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;else if($===".nan")return NaN;return F*parseFloat($,10)},h4=function(J,$){var F;if(isNaN(J))switch($){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===J)switch($){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===J)switch($){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(E0.isNegativeZero(J))return"-0.0";return F=J.toString(10),_4.test(F)?F.replace("e",".e"):F},y4=function(J){return Object.prototype.toString.call(J)==="[object Number]"&&(J%1!==0||E0.isNegativeZero(J))},E0=N8(),g4=b(),x4=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),_4=/^[-+]?[0-9]+e/;v0.exports=new g4("tag:yaml.org,2002:float",{kind:"scalar",resolve:T4,construct:k4,predicate:y4,represent:h4,defaultStyle:"lowercase"})});var n8=_((M3,S0)=>{S0.exports=H1().extend({implicit:[A1(),N1(),z1(),j1()]})});var C1=_((R3,x0)=>{var m4=function(J){if(J===null)return!1;if(D0.exec(J)!==null)return!0;if(g0.exec(J)!==null)return!0;return!1},u4=function(J){var $,F,q,X,V,Y,Z,Q=0,G=null,K,P,j;if($=D0.exec(J),$===null)$=g0.exec(J);if($===null)throw new Error("Date resolve error");if(F=+$[1],q=+$[2]-1,X=+$[3],!$[4])return new Date(Date.UTC(F,q,X));if(V=+$[4],Y=+$[5],Z=+$[6],$[7]){Q=$[7].slice(0,3);while(Q.length<3)Q+="0";Q=+Q}if($[9]){if(K=+$[10],P=+($[11]||0),G=(K*60+P)*60000,$[9]==="-")G=-G}if(j=new Date(Date.UTC(F,q,X,V,Y,Z,Q)),G)j.setTime(j.getTime()-G);return j},b4=function(J){return J.toISOString()},f4=b(),D0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),g0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");x0.exports=new f4("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:m4,construct:u4,instanceOf:Date,represent:b4})});var L1=_((P3,T0)=>{var r4=function(J){return J==="<<"||J===null},p4=b();T0.exports=new p4("tag:yaml.org,2002:merge",{kind:"scalar",resolve:r4})});var I1=_((H3,k0)=>{var c4=function(J){if(J===null)return!1;var $,F,q=0,X=J.length,V=w1;for(F=0;F<X;F++){if($=V.indexOf(J.charAt(F)),$>64)continue;if($<0)return!1;q+=6}return q%8===0},n4=function(J){var $,F,q=J.replace(/[\r\n=]/g,""),X=q.length,V=w1,Y=0,Z=[];for($=0;$<X;$++){if($%4===0&&$)Z.push(Y>>16&255),Z.push(Y>>8&255),Z.push(Y&255);Y=Y<<6|V.indexOf(q.charAt($))}if(F=X%4*6,F===0)Z.push(Y>>16&255),Z.push(Y>>8&255),Z.push(Y&255);else if(F===18)Z.push(Y>>10&255),Z.push(Y>>2&255);else if(F===12)Z.push(Y>>4&255);return new Uint8Array(Z)},o4=function(J){var $="",F=0,q,X,V=J.length,Y=w1;for(q=0;q<V;q++){if(q%3===0&&q)$+=Y[F>>18&63],$+=Y[F>>12&63],$+=Y[F>>6&63],$+=Y[F&63];F=(F<<8)+J[q]}if(X=V%3,X===0)$+=Y[F>>18&63],$+=Y[F>>12&63],$+=Y[F>>6&63],$+=Y[F&63];else if(X===2)$+=Y[F>>10&63],$+=Y[F>>4&63],$+=Y[F<<2&63],$+=Y[64];else if(X===1)$+=Y[F>>2&63],$+=Y[F<<4&63],$+=Y[64],$+=Y[64];return $},d4=function(J){return Object.prototype.toString.call(J)==="[object Uint8Array]"},l4=b(),w1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";k0.exports=new l4("tag:yaml.org,2002:binary",{kind:"scalar",resolve:c4,construct:n4,predicate:d4,represent:o4})});var E1=_((A3,_0)=>{var e4=function(J){if(J===null)return!0;var $=[],F,q,X,V,Y,Z=J;for(F=0,q=Z.length;F<q;F+=1){if(X=Z[F],Y=!1,a4.call(X)!=="[object Object]")return!1;for(V in X)if(s4.call(X,V))if(!Y)Y=!0;else return!1;if(!Y)return!1;if($.indexOf(V)===-1)$.push(V);else return!1}return!0},t4=function(J){return J!==null?J:[]},i4=b(),s4=Object.prototype.hasOwnProperty,a4=Object.prototype.toString;_0.exports=new i4("tag:yaml.org,2002:omap",{kind:"sequence",resolve:e4,construct:t4})});var v1=_((N3,h0)=>{var F$=function(J){if(J===null)return!0;var $,F,q,X,V,Y=J;V=new Array(Y.length);for($=0,F=Y.length;$<F;$+=1){if(q=Y[$],$$.call(q)!=="[object Object]")return!1;if(X=Object.keys(q),X.length!==1)return!1;V[$]=[X[0],q[X[0]]]}return!0},q$=function(J){if(J===null)return[];var $,F,q,X,V,Y=J;V=new Array(Y.length);for($=0,F=Y.length;$<F;$+=1)q=Y[$],X=Object.keys(q),V[$]=[X[0],q[X[0]]];return V},J$=b(),$$=Object.prototype.toString;h0.exports=new J$("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:F$,construct:q$})});var S1=_((z3,y0)=>{var V$=function(J){if(J===null)return!0;var $,F=J;for($ in F)if(Y$.call(F,$)){if(F[$]!==null)return!1}return!0},Z$=function(J){return J!==null?J:{}},X$=b(),Y$=Object.prototype.hasOwnProperty;y0.exports=new X$("tag:yaml.org,2002:set",{kind:"mapping",resolve:V$,construct:Z$})});var o8=_((j3,f0)=>{f0.exports=n8().extend({implicit:[C1(),L1()],explicit:[I1(),E1(),v1(),S1()]})});var JJ=_((g$,T1)=>{var u0=function(J){return Object.prototype.toString.call(J)},$8=function(J){return J===10||J===13},R8=function(J){return J===9||J===32},n=function(J){return J===9||J===32||J===10||J===13},j8=function(J){return J===44||J===91||J===93||J===123||J===125},O$=function(J){var $;if(48<=J&&J<=57)return J-48;if($=J|32,97<=$&&$<=102)return $-97+10;return-1},M$=function(J){if(J===120)return 2;if(J===117)return 4;if(J===85)return 8;return 0},R$=function(J){if(48<=J&&J<=57)return J-48;return-1},b0=function(J){return J===48?"\0":J===97?"\x07":J===98?"\b":J===116?"\t":J===9?"\t":J===110?`
`:J===118?"\v":J===102?"\f":J===114?`\r`:J===101?"\x1B":J===32?" ":J===34?'"':J===47?"/":J===92?"\\":J===78?"\x85":J===95?"\xA0":J===76?"\u2028":J===80?"\u2029":""},P$=function(J){if(J<=65535)return String.fromCharCode(J);return String.fromCharCode((J-65536>>10)+55296,(J-65536&1023)+56320)},H$=function(J,$){this.input=J,this.filename=$.filename||null,this.schema=$.schema||Q$,this.onWarning=$.onWarning||null,this.legacy=$.legacy||!1,this.json=$.json||!1,this.listener=$.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=J.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]},e0=function(J,$){var F={name:J.filename,buffer:J.input.slice(0,-1),position:J.position,line:J.line,column:J.position-J.lineStart};return F.snippet=U$(F),new c0($,F)},v=function(J,$){throw e0(J,$)},s8=function(J,$){if(J.onWarning)J.onWarning.call(null,e0(J,$))},G8=function(J,$,F,q){var X,V,Y,Z;if($<F){if(Z=J.input.slice($,F),q){for(X=0,V=Z.length;X<V;X+=1)if(Y=Z.charCodeAt(X),!(Y===9||32<=Y&&Y<=1114111))v(J,"expected valid JSON character")}else if(W$.test(Z))v(J,"the stream contains non-printable characters");J.result+=Z}},r0=function(J,$,F,q){var X,V,Y,Z;if(!M8.isObject(F))v(J,"cannot merge mappings; the provided source object is unacceptable");X=Object.keys(F);for(Y=0,Z=X.length;Y<Z;Y+=1)if(V=X[Y],!W8.call($,V))$[V]=F[V],q[V]=!0},C8=function(J,$,F,q,X,V,Y,Z,Q){var G,K;if(Array.isArray(X)){X=Array.prototype.slice.call(X);for(G=0,K=X.length;G<K;G+=1){if(Array.isArray(X[G]))v(J,"nested arrays are not supported inside keys");if(typeof X==="object"&&u0(X[G])==="[object Object]")X[G]="[object Object]"}}if(typeof X==="object"&&u0(X)==="[object Object]")X="[object Object]";if(X=String(X),$===null)$={};if(q==="tag:yaml.org,2002:merge")if(Array.isArray(V))for(G=0,K=V.length;G<K;G+=1)r0(J,$,V[G],F);else r0(J,$,V,F);else{if(!J.json&&!W8.call(F,X)&&W8.call($,X))J.line=Y||J.line,J.lineStart=Z||J.lineStart,J.position=Q||J.position,v(J,"duplicated mapping key");if(X==="__proto__")Object.defineProperty($,X,{configurable:!0,enumerable:!0,writable:!0,value:V});else $[X]=V;delete F[X]}return $},g1=function(J){var $=J.input.charCodeAt(J.position);if($===10)J.position++;else if($===13){if(J.position++,J.input.charCodeAt(J.position)===10)J.position++}else v(J,"a line break is expected");J.line+=1,J.lineStart=J.position,J.firstTabInLine=-1},f=function(J,$,F){var q=0,X=J.input.charCodeAt(J.position);while(X!==0){while(R8(X)){if(X===9&&J.firstTabInLine===-1)J.firstTabInLine=J.position;X=J.input.charCodeAt(++J.position)}if($&&X===35)do X=J.input.charCodeAt(++J.position);while(X!==10&&X!==13&&X!==0);if($8(X)){g1(J),X=J.input.charCodeAt(J.position),q++,J.lineIndent=0;while(X===32)J.lineIndent++,X=J.input.charCodeAt(++J.position)}else break}if(F!==-1&&q!==0&&J.lineIndent<F)s8(J,"deficient indentation");return q},a8=function(J){var $=J.position,F;if(F=J.input.charCodeAt($),(F===45||F===46)&&F===J.input.charCodeAt($+1)&&F===J.input.charCodeAt($+2)){if($+=3,F=J.input.charCodeAt($),F===0||n(F))return!0}return!1},x1=function(J,$){if($===1)J.result+=" ";else if($>1)J.result+=M8.repeat("\n",$-1)},A$=function(J,$,F){var q,X,V,Y,Z,Q,G,K,P=J.kind,j=J.result,z;if(z=J.input.charCodeAt(J.position),n(z)||j8(z)||z===35||z===38||z===42||z===33||z===124||z===62||z===39||z===34||z===37||z===64||z===96)return!1;if(z===63||z===45){if(X=J.input.charCodeAt(J.position+1),n(X)||F&&j8(X))return!1}J.kind="scalar",J.result="",V=Y=J.position,Z=!1;while(z!==0){if(z===58){if(X=J.input.charCodeAt(J.position+1),n(X)||F&&j8(X))break}else if(z===35){if(q=J.input.charCodeAt(J.position-1),n(q))break}else if(J.position===J.lineStart&&a8(J)||F&&j8(z))break;else if($8(z))if(Q=J.line,G=J.lineStart,K=J.lineIndent,f(J,!1,-1),J.lineIndent>=$){Z=!0,z=J.input.charCodeAt(J.position);continue}else{J.position=Y,J.line=Q,J.lineStart=G,J.lineIndent=K;break}if(Z)G8(J,V,Y,!1),x1(J,J.line-Q),V=Y=J.position,Z=!1;if(!R8(z))Y=J.position+1;z=J.input.charCodeAt(++J.position)}if(G8(J,V,Y,!1),J.result)return!0;return J.kind=P,J.result=j,!1},N$=function(J,$){var F,q,X;if(F=J.input.charCodeAt(J.position),F!==39)return!1;J.kind="scalar",J.result="",J.position++,q=X=J.position;while((F=J.input.charCodeAt(J.position))!==0)if(F===39)if(G8(J,q,J.position,!0),F=J.input.charCodeAt(++J.position),F===39)q=J.position,J.position++,X=J.position;else return!0;else if($8(F))G8(J,q,X,!0),x1(J,f(J,!1,$)),q=X=J.position;else if(J.position===J.lineStart&&a8(J))v(J,"unexpected end of the document within a single quoted scalar");else J.position++,X=J.position;v(J,"unexpected end of the stream within a single quoted scalar")},z$=function(J,$){var F,q,X,V,Y,Z;if(Z=J.input.charCodeAt(J.position),Z!==34)return!1;J.kind="scalar",J.result="",J.position++,F=q=J.position;while((Z=J.input.charCodeAt(J.position))!==0)if(Z===34)return G8(J,F,J.position,!0),J.position++,!0;else if(Z===92){if(G8(J,F,J.position,!0),Z=J.input.charCodeAt(++J.position),$8(Z))f(J,!1,$);else if(Z<256&&s0[Z])J.result+=a0[Z],J.position++;else if((Y=M$(Z))>0){X=Y,V=0;for(;X>0;X--)if(Z=J.input.charCodeAt(++J.position),(Y=O$(Z))>=0)V=(V<<4)+Y;else v(J,"expected hexadecimal character");J.result+=P$(V),J.position++}else v(J,"unknown escape sequence");F=q=J.position}else if($8(Z))G8(J,F,q,!0),x1(J,f(J,!1,$)),F=q=J.position;else if(J.position===J.lineStart&&a8(J))v(J,"unexpected end of the document within a double quoted scalar");else J.position++,q=J.position;v(J,"unexpected end of the stream within a double quoted scalar")},j$=function(J,$){var F=!0,q,X,V,Y=J.tag,Z,Q=J.anchor,G,K,P,j,z,w=Object.create(null),E,S,x,D;if(D=J.input.charCodeAt(J.position),D===91)K=93,z=!1,Z=[];else if(D===123)K=125,z=!0,Z={};else return!1;if(J.anchor!==null)J.anchorMap[J.anchor]=Z;D=J.input.charCodeAt(++J.position);while(D!==0){if(f(J,!0,$),D=J.input.charCodeAt(J.position),D===K)return J.position++,J.tag=Y,J.anchor=Q,J.kind=z?"mapping":"sequence",J.result=Z,!0;else if(!F)v(J,"missed comma between flow collection entries");else if(D===44)v(J,"expected the node content, but found ','");if(S=E=x=null,P=j=!1,D===63){if(G=J.input.charCodeAt(J.position+1),n(G))P=j=!0,J.position++,f(J,!0,$)}if(q=J.line,X=J.lineStart,V=J.position,L8(J,$,d8,!1,!0),S=J.tag,E=J.result,f(J,!0,$),D=J.input.charCodeAt(J.position),(j||J.line===q)&&D===58)P=!0,D=J.input.charCodeAt(++J.position),f(J,!0,$),L8(J,$,d8,!1,!0),x=J.result;if(z)C8(J,Z,w,S,E,x,q,X,V);else if(P)Z.push(C8(J,null,w,S,E,x,q,X,V));else Z.push(E);if(f(J,!0,$),D=J.input.charCodeAt(J.position),D===44)F=!0,D=J.input.charCodeAt(++J.position);else F=!1}v(J,"unexpected end of the stream within a flow collection")},C$=function(J,$){var F,q,X=D1,V=!1,Y=!1,Z=$,Q=0,G=!1,K,P;if(P=J.input.charCodeAt(J.position),P===124)q=!1;else if(P===62)q=!0;else return!1;J.kind="scalar",J.result="";while(P!==0)if(P=J.input.charCodeAt(++J.position),P===43||P===45)if(D1===X)X=P===43?m0:G$;else v(J,"repeat of a chomping mode identifier");else if((K=R$(P))>=0)if(K===0)v(J,"bad explicit indentation width of a block scalar; it cannot be less than one");else if(!Y)Z=$+K-1,Y=!0;else v(J,"repeat of an indentation width identifier");else break;if(R8(P)){do P=J.input.charCodeAt(++J.position);while(R8(P));if(P===35)do P=J.input.charCodeAt(++J.position);while(!$8(P)&&P!==0)}while(P!==0){g1(J),J.lineIndent=0,P=J.input.charCodeAt(J.position);while((!Y||J.lineIndent<Z)&&P===32)J.lineIndent++,P=J.input.charCodeAt(++J.position);if(!Y&&J.lineIndent>Z)Z=J.lineIndent;if($8(P)){Q++;continue}if(J.lineIndent<Z){if(X===m0)J.result+=M8.repeat("\n",V?1+Q:Q);else if(X===D1){if(V)J.result+="\n"}break}if(q)if(R8(P))G=!0,J.result+=M8.repeat("\n",V?1+Q:Q);else if(G)G=!1,J.result+=M8.repeat("\n",Q+1);else if(Q===0){if(V)J.result+=" "}else J.result+=M8.repeat("\n",Q);else J.result+=M8.repeat("\n",V?1+Q:Q);V=!0,Y=!0,Q=0,F=J.position;while(!$8(P)&&P!==0)P=J.input.charCodeAt(++J.position);G8(J,F,J.position,!1)}return!0},l0=function(J,$){var F,q=J.tag,X=J.anchor,V=[],Y,Z=!1,Q;if(J.firstTabInLine!==-1)return!1;if(J.anchor!==null)J.anchorMap[J.anchor]=V;Q=J.input.charCodeAt(J.position);while(Q!==0){if(J.firstTabInLine!==-1)J.position=J.firstTabInLine,v(J,"tab characters must not be used in indentation");if(Q!==45)break;if(Y=J.input.charCodeAt(J.position+1),!n(Y))break;if(Z=!0,J.position++,f(J,!0,-1)){if(J.lineIndent<=$){V.push(null),Q=J.input.charCodeAt(J.position);continue}}if(F=J.line,L8(J,$,o0,!1,!0),V.push(J.result),f(J,!0,-1),Q=J.input.charCodeAt(J.position),(J.line===F||J.lineIndent>$)&&Q!==0)v(J,"bad indentation of a sequence entry");else if(J.lineIndent<$)break}if(Z)return J.tag=q,J.anchor=X,J.kind="sequence",J.result=V,!0;return!1},L$=function(J,$,F){var q,X,V,Y,Z,Q,G=J.tag,K=J.anchor,P={},j=Object.create(null),z=null,w=null,E=null,S=!1,x=!1,D;if(J.firstTabInLine!==-1)return!1;if(J.anchor!==null)J.anchorMap[J.anchor]=P;D=J.input.charCodeAt(J.position);while(D!==0){if(!S&&J.firstTabInLine!==-1)J.position=J.firstTabInLine,v(J,"tab characters must not be used in indentation");if(q=J.input.charCodeAt(J.position+1),V=J.line,(D===63||D===58)&&n(q)){if(D===63){if(S)C8(J,P,j,z,w,null,Y,Z,Q),z=w=E=null;x=!0,S=!0,X=!0}else if(S)S=!1,X=!0;else v(J,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line");J.position+=1,D=q}else{if(Y=J.line,Z=J.lineStart,Q=J.position,!L8(J,F,n0,!1,!0))break;if(J.line===V){D=J.input.charCodeAt(J.position);while(R8(D))D=J.input.charCodeAt(++J.position);if(D===58){if(D=J.input.charCodeAt(++J.position),!n(D))v(J,"a whitespace character is expected after the key-value separator within a block mapping");if(S)C8(J,P,j,z,w,null,Y,Z,Q),z=w=E=null;x=!0,S=!1,X=!1,z=J.tag,w=J.result}else if(x)v(J,"can not read an implicit mapping pair; a colon is missed");else return J.tag=G,J.anchor=K,!0}else if(x)v(J,"can not read a block mapping entry; a multiline key may not be an implicit key");else return J.tag=G,J.anchor=K,!0}if(J.line===V||J.lineIndent>$){if(S)Y=J.line,Z=J.lineStart,Q=J.position;if(L8(J,$,i8,!0,X))if(S)w=J.result;else E=J.result;if(!S)C8(J,P,j,z,w,E,Y,Z,Q),z=w=E=null;f(J,!0,-1),D=J.input.charCodeAt(J.position)}if((J.line===V||J.lineIndent>$)&&D!==0)v(J,"bad indentation of a mapping entry");else if(J.lineIndent<$)break}if(S)C8(J,P,j,z,w,null,Y,Z,Q);if(x)J.tag=G,J.anchor=K,J.kind="mapping",J.result=P;return x},w$=function(J){var $,F=!1,q=!1,X,V,Y;if(Y=J.input.charCodeAt(J.position),Y!==33)return!1;if(J.tag!==null)v(J,"duplication of a tag property");if(Y=J.input.charCodeAt(++J.position),Y===60)F=!0,Y=J.input.charCodeAt(++J.position);else if(Y===33)q=!0,X="!!",Y=J.input.charCodeAt(++J.position);else X="!";if($=J.position,F){do Y=J.input.charCodeAt(++J.position);while(Y!==0&&Y!==62);if(J.position<J.length)V=J.input.slice($,J.position),Y=J.input.charCodeAt(++J.position);else v(J,"unexpected end of the stream within a verbatim tag")}else{while(Y!==0&&!n(Y)){if(Y===33)if(!q){if(X=J.input.slice($-1,J.position+1),!d0.test(X))v(J,"named tag handle cannot contain such characters");q=!0,$=J.position+1}else v(J,"tag suffix cannot contain exclamation marks");Y=J.input.charCodeAt(++J.position)}if(V=J.input.slice($,J.position),B$.test(V))v(J,"tag suffix cannot contain flow indicator characters")}if(V&&!i0.test(V))v(J,"tag name cannot contain such characters: "+V);try{V=decodeURIComponent(V)}catch(Z){v(J,"tag name is malformed: "+V)}if(F)J.tag=V;else if(W8.call(J.tagMap,X))J.tag=J.tagMap[X]+V;else if(X==="!")J.tag="!"+V;else if(X==="!!")J.tag="tag:yaml.org,2002:"+V;else v(J,'undeclared tag handle "'+X+'"');return!0},I$=function(J){var $,F;if(F=J.input.charCodeAt(J.position),F!==38)return!1;if(J.anchor!==null)v(J,"duplication of an anchor property");F=J.input.charCodeAt(++J.position),$=J.position;while(F!==0&&!n(F)&&!j8(F))F=J.input.charCodeAt(++J.position);if(J.position===$)v(J,"name of an anchor node must contain at least one character");return J.anchor=J.input.slice($,J.position),!0},E$=function(J){var $,F,q;if(q=J.input.charCodeAt(J.position),q!==42)return!1;q=J.input.charCodeAt(++J.position),$=J.position;while(q!==0&&!n(q)&&!j8(q))q=J.input.charCodeAt(++J.position);if(J.position===$)v(J,"name of an alias node must contain at least one character");if(F=J.input.slice($,J.position),!W8.call(J.anchorMap,F))v(J,'unidentified alias "'+F+'"');return J.result=J.anchorMap[F],f(J,!0,-1),!0},L8=function(J,$,F,q,X){var V,Y,Z,Q=1,G=!1,K=!1,P,j,z,w,E,S;if(J.listener!==null)J.listener("open",J);if(J.tag=null,J.anchor=null,J.kind=null,J.result=null,V=Y=Z=i8===F||o0===F,q){if(f(J,!0,-1)){if(G=!0,J.lineIndent>$)Q=1;else if(J.lineIndent===$)Q=0;else if(J.lineIndent<$)Q=-1}}if(Q===1)while(w$(J)||I$(J))if(f(J,!0,-1)){if(G=!0,Z=V,J.lineIndent>$)Q=1;else if(J.lineIndent===$)Q=0;else if(J.lineIndent<$)Q=-1}else Z=!1;if(Z)Z=G||X;if(Q===1||i8===F){if(d8===F||n0===F)E=$;else E=$+1;if(S=J.position-J.lineStart,Q===1)if(Z&&(l0(J,S)||L$(J,S,E))||j$(J,E))K=!0;else{if(Y&&C$(J,E)||N$(J,E)||z$(J,E))K=!0;else if(E$(J)){if(K=!0,J.tag!==null||J.anchor!==null)v(J,"alias node should not have any properties")}else if(A$(J,E,d8===F)){if(K=!0,J.tag===null)J.tag="?"}if(J.anchor!==null)J.anchorMap[J.anchor]=J.result}else if(Q===0)K=Z&&l0(J,S)}if(J.tag===null){if(J.anchor!==null)J.anchorMap[J.anchor]=J.result}else if(J.tag==="?"){if(J.result!==null&&J.kind!=="scalar")v(J,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+J.kind+'"');for(P=0,j=J.implicitTypes.length;P<j;P+=1)if(w=J.implicitTypes[P],w.resolve(J.result)){if(J.result=w.construct(J.result),J.tag=w.tag,J.anchor!==null)J.anchorMap[J.anchor]=J.result;break}}else if(J.tag!=="!"){if(W8.call(J.typeMap[J.kind||"fallback"],J.tag))w=J.typeMap[J.kind||"fallback"][J.tag];else{w=null,z=J.typeMap.multi[J.kind||"fallback"];for(P=0,j=z.length;P<j;P+=1)if(J.tag.slice(0,z[P].tag.length)===z[P].tag){w=z[P];break}}if(!w)v(J,"unknown tag !<"+J.tag+">");if(J.result!==null&&w.kind!==J.kind)v(J,"unacceptable node kind for !<"+J.tag+'> tag; it should be "'+w.kind+'", not "'+J.kind+'"');if(!w.resolve(J.result,J.tag))v(J,"cannot resolve a node with !<"+J.tag+"> explicit tag");else if(J.result=w.construct(J.result,J.tag),J.anchor!==null)J.anchorMap[J.anchor]=J.result}if(J.listener!==null)J.listener("close",J);return J.tag!==null||J.anchor!==null||K},v$=function(J){var $=J.position,F,q,X,V=!1,Y;J.version=null,J.checkLineBreaks=J.legacy,J.tagMap=Object.create(null),J.anchorMap=Object.create(null);while((Y=J.input.charCodeAt(J.position))!==0){if(f(J,!0,-1),Y=J.input.charCodeAt(J.position),J.lineIndent>0||Y!==37)break;V=!0,Y=J.input.charCodeAt(++J.position),F=J.position;while(Y!==0&&!n(Y))Y=J.input.charCodeAt(++J.position);if(q=J.input.slice(F,J.position),X=[],q.length<1)v(J,"directive name must not be less than one character in length");while(Y!==0){while(R8(Y))Y=J.input.charCodeAt(++J.position);if(Y===35){do Y=J.input.charCodeAt(++J.position);while(Y!==0&&!$8(Y));break}if($8(Y))break;F=J.position;while(Y!==0&&!n(Y))Y=J.input.charCodeAt(++J.position);X.push(J.input.slice(F,J.position))}if(Y!==0)g1(J);if(W8.call(p0,q))p0[q](J,q,X);else s8(J,'unknown document directive "'+q+'"')}if(f(J,!0,-1),J.lineIndent===0&&J.input.charCodeAt(J.position)===45&&J.input.charCodeAt(J.position+1)===45&&J.input.charCodeAt(J.position+2)===45)J.position+=3,f(J,!0,-1);else if(V)v(J,"directives end mark is expected");if(L8(J,J.lineIndent-1,i8,!1,!0),f(J,!0,-1),J.checkLineBreaks&&K$.test(J.input.slice($,J.position)))s8(J,"non-ASCII line breaks are interpreted as content");if(J.documents.push(J.result),J.position===J.lineStart&&a8(J)){if(J.input.charCodeAt(J.position)===46)J.position+=3,f(J,!0,-1);return}if(J.position<J.length-1)v(J,"end of the stream or a document separator is expected");else return},t0=function(J,$){if(J=String(J),$=$||{},J.length!==0){if(J.charCodeAt(J.length-1)!==10&&J.charCodeAt(J.length-1)!==13)J+="\n";if(J.charCodeAt(0)===65279)J=J.slice(1)}var F=new H$(J,$),q=J.indexOf("\0");if(q!==-1)F.position=q,v(F,"null byte is not allowed in input");F.input+="\0";while(F.input.charCodeAt(F.position)===32)F.lineIndent+=1,F.position+=1;while(F.position<F.length-1)v$(F);return F.documents},S$=function(J,$,F){if($!==null&&typeof $==="object"&&typeof F==="undefined")F=$,$=null;var q=t0(J,F);if(typeof $!=="function")return q;for(var X=0,V=q.length;X<V;X+=1)$(q[X])},D$=function(J,$){var F=t0(J,$);if(F.length===0)return;else if(F.length===1)return F[0];throw new c0("expected a single document in the stream, but found more")},M8=N8(),c0=z8(),U$=M0(),Q$=o8(),W8=Object.prototype.hasOwnProperty,d8=1,n0=2,o0=3,i8=4,D1=1,G$=2,m0=3,W$=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,K$=/[\x85\u2028\u2029]/,B$=/[,\[\]\{\}]/,d0=/^(?:!|!!|![a-z\-]+!)$/i,i0=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,s0=new Array(256),a0=new Array(256);for(O8=0;O8<256;O8++)s0[O8]=b0(O8)?1:0,a0[O8]=b0(O8);var O8,p0={YAML:function J($,F,q){var X,V,Y;if($.version!==null)v($,"duplication of %YAML directive");if(q.length!==1)v($,"YAML directive accepts exactly one argument");if(X=/^([0-9]+)\.([0-9]+)$/.exec(q[0]),X===null)v($,"ill-formed argument of the YAML directive");if(V=parseInt(X[1],10),Y=parseInt(X[2],10),V!==1)v($,"unacceptable YAML version of the document");if($.version=q[0],$.checkLineBreaks=Y<2,Y!==1&&Y!==2)s8($,"unsupported YAML version of the document")},TAG:function J($,F,q){var X,V;if(q.length!==2)v($,"TAG directive accepts exactly two arguments");if(X=q[0],V=q[1],!d0.test(X))v($,"ill-formed tag handle (first argument) of the TAG directive");if(W8.call($.tagMap,X))v($,'there is a previously declared suffix for "'+X+'" tag handle');if(!i0.test(V))v($,"ill-formed tag prefix (second argument) of the TAG directive");try{V=decodeURIComponent(V)}catch(Y){v($,"tag prefix is malformed: "+V)}$.tagMap[X]=V}};g$.loadAll=S$;g$.load=D$});var zJ=_((MF,NJ)=>{var t$=function(J,$){var F,q,X,V,Y,Z,Q;if($===null)return{};F={},q=Object.keys($);for(X=0,V=q.length;X<V;X+=1){if(Y=q[X],Z=String($[Y]),Y.slice(0,2)==="!!")Y="tag:yaml.org,2002:"+Y.slice(2);if(Q=J.compiledTypeMap.fallback[Y],Q&&GJ.call(Q.styleAliases,Z))Z=Q.styleAliases[Z];F[Y]=Z}return F},JF=function(J){var $,F,q;if($=J.toString(16).toUpperCase(),J<=255)F="x",q=2;else if(J<=65535)F="u",q=4;else if(J<=4294967295)F="U",q=8;else throw new _8("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+F+J1.repeat("0",q-$.length)+$},FF=function(J){this.schema=J.schema||k$,this.indent=Math.max(1,J.indent||2),this.noArrayIndent=J.noArrayIndent||!1,this.skipInvalid=J.skipInvalid||!1,this.flowLevel=J1.isNothing(J.flowLevel)?-1:J.flowLevel,this.styleMap=t$(this.schema,J.styles||null),this.sortKeys=J.sortKeys||!1,this.lineWidth=J.lineWidth||80,this.noRefs=J.noRefs||!1,this.noCompatMode=J.noCompatMode||!1,this.condenseFlow=J.condenseFlow||!1,this.quotingType=J.quotingType==='"'?T8:$F,this.forceQuotes=J.forceQuotes||!1,this.replacer=typeof J.replacer==="function"?J.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null},$J=function(J,$){var F=J1.repeat(" ",$),q=0,X=-1,V="",Y,Z=J.length;while(q<Z){if(X=J.indexOf("\n",q),X===-1)Y=J.slice(q),q=Z;else Y=J.slice(q,X+1),q=X+1;if(Y.length&&Y!=="\n")V+=F;V+=Y}return V},_1=function(J,$){return"\n"+J1.repeat(" ",J.indent*$)},qF=function(J,$){var F,q,X;for(F=0,q=J.implicitTypes.length;F<q;F+=1)if(X=J.implicitTypes[F],X.resolve($))return!0;return!1},t8=function(J){return J===y$||J===_$},k8=function(J){return 32<=J&&J<=126||161<=J&&J<=55295&&J!==8232&&J!==8233||57344<=J&&J<=65533&&J!==f1||65536<=J&&J<=1114111},FJ=function(J){return k8(J)&&J!==f1&&J!==h$&&J!==x8},qJ=function(J,$,F){var q=FJ(J),X=q&&!t8(J);return(F?q:q&&J!==WJ&&J!==KJ&&J!==BJ&&J!==OJ&&J!==MJ)&&J!==k1&&!($===e8&&!X)||FJ($)&&!t8($)&&J===k1||$===e8&&X},XF=function(J){return k8(J)&&J!==f1&&!t8(J)&&J!==l$&&J!==o$&&J!==e8&&J!==WJ&&J!==KJ&&J!==BJ&&J!==OJ&&J!==MJ&&J!==k1&&J!==b$&&J!==r$&&J!==f$&&J!==s$&&J!==c$&&J!==n$&&J!==p$&&J!==m$&&J!==u$&&J!==d$&&J!==i$},YF=function(J){return!t8(J)&&J!==e8},g8=function(J,$){var F=J.charCodeAt($),q;if(F>=55296&&F<=56319&&$+1<J.length){if(q=J.charCodeAt($+1),q>=56320&&q<=57343)return(F-55296)*1024+q-56320+65536}return F},RJ=function(J){var $=/^\n* /;return $.test(J)},VF=function(J,$,F,q,X,V,Y,Z){var Q,G=0,K=null,P=!1,j=!1,z=q!==-1,w=-1,E=XF(g8(J,0))&&YF(g8(J,J.length-1));if($||Y)for(Q=0;Q<J.length;G>=65536?Q+=2:Q++){if(G=g8(J,Q),!k8(G))return w8;E=E&&qJ(G,K,Z),K=G}else{for(Q=0;Q<J.length;G>=65536?Q+=2:Q++){if(G=g8(J,Q),G===x8){if(P=!0,z)j=j||Q-w-1>q&&J[w+1]!==" ",w=Q}else if(!k8(G))return w8;E=E&&qJ(G,K,Z),K=G}j=j||z&&(Q-w-1>q&&J[w+1]!==" ")}if(!P&&!j){if(E&&!Y&&!X(J))return PJ;return V===T8?w8:h1}if(F>9&&RJ(J))return w8;if(!Y)return j?AJ:HJ;return V===T8?w8:h1},ZF=function(J,$,F,q,X){J.dump=function(){if($.length===0)return J.quotingType===T8?'""':"''";if(!J.noCompatMode){if(a$.indexOf($)!==-1||e$.test($))return J.quotingType===T8?'"'+$+'"':"'"+$+"'"}var V=J.indent*Math.max(1,F),Y=J.lineWidth===-1?-1:Math.max(Math.min(J.lineWidth,40),J.lineWidth-V),Z=q||J.flowLevel>-1&&F>=J.flowLevel;function Q(G){return qF(J,G)}switch(VF($,Z,J.indent,Y,Q,J.quotingType,J.forceQuotes&&!q,X)){case PJ:return $;case h1:return"'"+$.replace(/'/g,"''")+"'";case HJ:return"|"+XJ($,J.indent)+YJ($J($,V));case AJ:return">"+XJ($,J.indent)+YJ($J(UF($,Y),V));case w8:return'"'+QF($,Y)+'"';default:throw new _8("impossible error: invalid scalar style")}}()},XJ=function(J,$){var F=RJ(J)?String($):"",q=J[J.length-1]==="\n",X=q&&(J[J.length-2]==="\n"||J==="\n"),V=X?"+":q?"":"-";return F+V+"\n"},YJ=function(J){return J[J.length-1]==="\n"?J.slice(0,-1):J},UF=function(J,$){var F=/(\n+)([^\n]*)/g,q=function(){var G=J.indexOf("\n");return G=G!==-1?G:J.length,F.lastIndex=G,VJ(J.slice(0,G),$)}(),X=J[0]==="\n"||J[0]===" ",V,Y;while(Y=F.exec(J)){var Z=Y[1],Q=Y[2];V=Q[0]===" ",q+=Z+(!X&&!V&&Q!==""?"\n":"")+VJ(Q,$),X=V}return q},VJ=function(J,$){if(J===""||J[0]===" ")return J;var F=/ [^ ]/g,q,X=0,V,Y=0,Z=0,Q="";while(q=F.exec(J)){if(Z=q.index,Z-X>$)V=Y>X?Y:Z,Q+="\n"+J.slice(X,V),X=V+1;Y=Z}if(Q+="\n",J.length-X>$&&Y>X)Q+=J.slice(X,Y)+"\n"+J.slice(Y+1);else Q+=J.slice(X);return Q.slice(1)},QF=function(J){var $="",F=0,q;for(var X=0;X<J.length;F>=65536?X+=2:X++)if(F=g8(J,X),q=p[F],!q&&k8(F)){if($+=J[X],F>=65536)$+=J[X+1]}else $+=q||JF(F);return $},GF=function(J,$,F){var q="",X=J.tag,V,Y,Z;for(V=0,Y=F.length;V<Y;V+=1){if(Z=F[V],J.replacer)Z=J.replacer.call(F,String(V),Z);if(X8(J,$,Z,!1,!1)||typeof Z==="undefined"&&X8(J,$,null,!1,!1)){if(q!=="")q+=","+(!J.condenseFlow?" ":"");q+=J.dump}}J.tag=X,J.dump="["+q+"]"},ZJ=function(J,$,F,q){var X="",V=J.tag,Y,Z,Q;for(Y=0,Z=F.length;Y<Z;Y+=1){if(Q=F[Y],J.replacer)Q=J.replacer.call(F,String(Y),Q);if(X8(J,$+1,Q,!0,!0,!1,!0)||typeof Q==="undefined"&&X8(J,$+1,null,!0,!0,!1,!0)){if(!q||X!=="")X+=_1(J,$);if(J.dump&&x8===J.dump.charCodeAt(0))X+="-";else X+="- ";X+=J.dump}}J.tag=V,J.dump=X||"[]"},WF=function(J,$,F){var q="",X=J.tag,V=Object.keys(F),Y,Z,Q,G,K;for(Y=0,Z=V.length;Y<Z;Y+=1){if(K="",q!=="")K+=", ";if(J.condenseFlow)K+='"';if(Q=V[Y],G=F[Q],J.replacer)G=J.replacer.call(F,Q,G);if(!X8(J,$,Q,!1,!1))continue;if(J.dump.length>1024)K+="? ";if(K+=J.dump+(J.condenseFlow?'"':"")+":"+(J.condenseFlow?"":" "),!X8(J,$,G,!1,!1))continue;K+=J.dump,q+=K}J.tag=X,J.dump="{"+q+"}"},KF=function(J,$,F,q){var X="",V=J.tag,Y=Object.keys(F),Z,Q,G,K,P,j;if(J.sortKeys===!0)Y.sort();else if(typeof J.sortKeys==="function")Y.sort(J.sortKeys);else if(J.sortKeys)throw new _8("sortKeys must be a boolean or a function");for(Z=0,Q=Y.length;Z<Q;Z+=1){if(j="",!q||X!=="")j+=_1(J,$);if(G=Y[Z],K=F[G],J.replacer)K=J.replacer.call(F,G,K);if(!X8(J,$+1,G,!0,!0,!0))continue;if(P=J.tag!==null&&J.tag!=="?"||J.dump&&J.dump.length>1024,P)if(J.dump&&x8===J.dump.charCodeAt(0))j+="?";else j+="? ";if(j+=J.dump,P)j+=_1(J,$);if(!X8(J,$+1,K,!0,P))continue;if(J.dump&&x8===J.dump.charCodeAt(0))j+=":";else j+=": ";j+=J.dump,X+=j}J.tag=V,J.dump=X||"{}"},UJ=function(J,$,F){var q,X,V,Y,Z,Q;X=F?J.explicitTypes:J.implicitTypes;for(V=0,Y=X.length;V<Y;V+=1)if(Z=X[V],(Z.instanceOf||Z.predicate)&&(!Z.instanceOf||typeof $==="object"&&$ instanceof Z.instanceOf)&&(!Z.predicate||Z.predicate($))){if(F)if(Z.multi&&Z.representName)J.tag=Z.representName($);else J.tag=Z.tag;else J.tag="?";if(Z.represent){if(Q=J.styleMap[Z.tag]||Z.defaultStyle,QJ.call(Z.represent)==="[object Function]")q=Z.represent($,Q);else if(GJ.call(Z.represent,Q))q=Z.represent[Q]($,Q);else throw new _8("!<"+Z.tag+'> tag resolver accepts not "'+Q+'" style');J.dump=q}return!0}return!1},X8=function(J,$,F,q,X,V,Y){if(J.tag=null,J.dump=F,!UJ(J,F,!1))UJ(J,F,!0);var Z=QJ.call(J.dump),Q=q,G;if(q)q=J.flowLevel<0||J.flowLevel>$;var K=Z==="[object Object]"||Z==="[object Array]",P,j;if(K)P=J.duplicates.indexOf(F),j=P!==-1;if(J.tag!==null&&J.tag!=="?"||j||J.indent!==2&&$>0)X=!1;if(j&&J.usedDuplicates[P])J.dump="*ref_"+P;else{if(K&&j&&!J.usedDuplicates[P])J.usedDuplicates[P]=!0;if(Z==="[object Object]"){if(q&&Object.keys(J.dump).length!==0){if(KF(J,$,J.dump,X),j)J.dump="&ref_"+P+J.dump}else if(WF(J,$,J.dump),j)J.dump="&ref_"+P+" "+J.dump}else if(Z==="[object Array]"){if(q&&J.dump.length!==0){if(J.noArrayIndent&&!Y&&$>0)ZJ(J,$-1,J.dump,X);else ZJ(J,$,J.dump,X);if(j)J.dump="&ref_"+P+J.dump}else if(GF(J,$,J.dump),j)J.dump="&ref_"+P+" "+J.dump}else if(Z==="[object String]"){if(J.tag!=="?")ZF(J,J.dump,$,V,Q)}else if(Z==="[object Undefined]")return!1;else{if(J.skipInvalid)return!1;throw new _8("unacceptable kind of an object to dump "+Z)}if(J.tag!==null&&J.tag!=="?"){if(G=encodeURI(J.tag[0]==="!"?J.tag.slice(1):J.tag).replace(/!/g,"%21"),J.tag[0]==="!")G="!"+G;else if(G.slice(0,18)==="tag:yaml.org,2002:")G="!!"+G.slice(18);else G="!<"+G+">";J.dump=G+" "+J.dump}}return!0},BF=function(J,$){var F=[],q=[],X,V;y1(J,F,q);for(X=0,V=q.length;X<V;X+=1)$.duplicates.push(F[q[X]]);$.usedDuplicates=new Array(V)},y1=function(J,$,F){var q,X,V;if(J!==null&&typeof J==="object")if(X=$.indexOf(J),X!==-1){if(F.indexOf(X)===-1)F.push(X)}else if($.push(J),Array.isArray(J))for(X=0,V=J.length;X<V;X+=1)y1(J[X],$,F);else{q=Object.keys(J);for(X=0,V=q.length;X<V;X+=1)y1(J[q[X]],$,F)}},OF=function(J,$){$=$||{};var F=new FF($);if(!F.noRefs)BF(J,F);var q=J;if(F.replacer)q=F.replacer.call({"":q},"",q);if(X8(F,0,q,!0,!0))return F.dump+"\n";return""},J1=N8(),_8=z8(),k$=o8(),QJ=Object.prototype.toString,GJ=Object.prototype.hasOwnProperty,f1=65279,_$=9,x8=10,h$=13,y$=32,f$=33,m$=34,k1=35,u$=37,b$=38,p$=39,r$=42,WJ=44,l$=45,e8=58,c$=61,n$=62,o$=63,d$=64,KJ=91,BJ=93,i$=96,OJ=123,s$=124,MJ=125,p={};p[0]="\\0";p[7]="\\a";p[8]="\\b";p[9]="\\t";p[10]="\\n";p[11]="\\v";p[12]="\\f";p[13]="\\r";p[27]="\\e";p[34]='\\"';p[92]="\\\\";p[133]="\\N";p[160]="\\_";p[8232]="\\L";p[8233]="\\P";var a$=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],e$=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/,$F=1,T8=2,PJ=1,h1=2,HJ=3,AJ=4,w8=5;MF.dump=OF});var CJ=_((HF,l)=>{var m1=function(J,$){return function(){throw new Error("Function yaml."+J+" is removed in js-yaml 4. Use yaml."+$+" instead, which is now safe by default.")}},jJ=JJ(),PF=zJ();HF.Type=b();HF.Schema=O1();HF.FAILSAFE_SCHEMA=H1();HF.JSON_SCHEMA=n8();HF.CORE_SCHEMA=n8();HF.DEFAULT_SCHEMA=o8();HF.load=jJ.load;HF.loadAll=jJ.loadAll;HF.dump=PF.dump;HF.YAMLException=z8();HF.types={binary:I1(),float:j1(),map:P1(),null:A1(),pairs:v1(),set:S1(),timestamp:C1(),bool:N1(),int:z1(),merge:L1(),omap:E1(),seq:R1(),str:M1()};HF.safeLoad=m1("safeLoad","load");HF.safeLoadAll=m1("safeLoadAll","loadAll");HF.safeDump=m1("safeDump","dump")});var wJ=_((f8,r1)=>{(function(J,$){if(typeof f8=="object"&&typeof r1=="object")r1.exports=$();else if(typeof define=="function"&&define.amd)define([],$);else{var F=$();for(var q in F)(typeof f8=="object"?f8:J)[q]=F[q]}})(f8,function(){return(()=>{var J={d:(V,Y)=>{for(var Z in Y)J.o(Y,Z)&&!J.o(V,Z)&&Object.defineProperty(V,Z,{enumerable:!0,get:Y[Z]})},o:(V,Y)=>Object.prototype.hasOwnProperty.call(V,Y),r:(V)=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(V,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(V,"__esModule",{value:!0})}},$={};J.r($),J.d($,{StreamDataView:()=>X});var F=function(){function V(Y){this.encoding=Y||"utf-8"}return V.prototype.decode=function(Y){var Z=String.fromCharCode.apply(null,Array.from(Y));return this.encoding==="utf-8"?decodeURIComponent(escape(Z)):Z},V}(),q=function(){function V(Y){this.encoding=Y||"utf-8"}return V.prototype.encode=function(Y){return this.encoding==="utf-8"&&(Y=unescape(encodeURIComponent(Y))),new Uint8Array(Y.split("").map(function(Z){return Z.charCodeAt(0)}))},V}(),X=function(){function V(Y,Z){this.offset=0,this.autoResize=!1,Y===void 0&&(Y=0,this.autoResize=!0),typeof Y=="number"&&(Y=new ArrayBuffer(Y)),this.view=new DataView(Y),this.littleEndian=!Z}return V.fromByteString=function(Y){var Z=new V(Y.split(" ").length);return Z.fromByteString(Y),Z},V.fromTextString=function(Y,Z){var Q,G=new V((Q=Z?new q("utf-8").encode(Y):new q("ascii").encode(Y)).length);return G.setNextString(Y,Z,Q.length),G},V.prototype.resize=function(Y){var Z=function(Q,G){if(!(Q instanceof ArrayBuffer))throw new TypeError("Source must be an instance of ArrayBuffer");if(G<=Q.byteLength)return Q.slice(0,G);var K=new Uint8Array(Q),P=new Uint8Array(new ArrayBuffer(G));return P.set(K),P.buffer}(this.getBuffer(),Y);this.view=new DataView(Z)},V.prototype.crop=function(){this.resize(this.getOffset())},V.prototype.getBuffer=function(){return this.view.buffer},V.prototype.skip=function(Y){this.offset+=Y},V.prototype.resetOffset=function(){this.offset=0},V.prototype.getOffset=function(){return this.offset},V.prototype.setOffset=function(Y){this.offset=Y},V.prototype.getInt8=function(Y){return this.view.getInt8(Y)},V.prototype.getUint8=function(Y){return this.view.getUint8(Y)},V.prototype.getNextInt8=function(){var Y=this.getInt8(this.offset);return this.offset+=1,Y},V.prototype.getNextUint8=function(){var Y=this.getUint8(this.offset);return this.offset+=1,Y},V.prototype.getInt16=function(Y){return this.view.getInt16(Y,this.littleEndian)},V.prototype.getUint16=function(Y){return this.view.getUint16(Y,this.littleEndian)},V.prototype.getNextInt16=function(){var Y=this.getInt16(this.offset);return this.offset+=2,Y},V.prototype.getNextUint16=function(){var Y=this.getUint16(this.offset);return this.offset+=2,Y},V.prototype.getInt32=function(Y){return this.view.getInt32(Y,this.littleEndian)},V.prototype.getUint32=function(Y){return this.view.getUint32(Y,this.littleEndian)},V.prototype.getNextInt32=function(){var Y=this.getInt32(this.offset);return this.offset+=4,Y},V.prototype.getNextUint32=function(){var Y=this.getUint32(this.offset);return this.offset+=4,Y},V.prototype.getFloat32=function(Y){return this.view.getFloat32(Y,this.littleEndian)},V.prototype.getFloat64=function(Y){return this.view.getFloat64(Y,this.littleEndian)},V.prototype.getNextFloat32=function(){var Y=this.getFloat32(this.offset);return this.offset+=4,Y},V.prototype.getNextFloat64=function(){var Y=this.getFloat64(this.offset);return this.offset+=8,Y},V.prototype.setInt8=function(Y,Z){this.handleAutoResize(Y,1),this.view.setInt8(Y,Z)},V.prototype.setUint8=function(Y,Z){this.handleAutoResize(Y,1),this.view.setUint8(Y,Z)},V.prototype.setNextInt8=function(Y){this.setInt8(this.offset,Y),this.offset+=1},V.prototype.setNextUint8=function(Y){this.setUint8(this.offset,Y),this.offset+=1},V.prototype.setInt16=function(Y,Z){this.handleAutoResize(Y,2),this.view.setInt16(Y,Z,this.littleEndian)},V.prototype.setUint16=function(Y,Z){this.handleAutoResize(Y,2),this.view.setUint16(Y,Z,this.littleEndian)},V.prototype.setNextInt16=function(Y){this.setInt16(this.offset,Y),this.offset+=2},V.prototype.setNextUint16=function(Y){this.setUint16(this.offset,Y),this.offset+=2},V.prototype.setInt32=function(Y,Z){this.handleAutoResize(Y,4),this.view.setInt32(Y,Z,this.littleEndian)},V.prototype.setUint32=function(Y,Z){this.handleAutoResize(Y,4),this.view.setUint32(Y,Z,this.littleEndian)},V.prototype.setNextInt32=function(Y){this.setInt32(this.offset,Y),this.offset+=4},V.prototype.setNextUint32=function(Y){this.setUint32(this.offset,Y),this.offset+=4},V.prototype.setFloat32=function(Y,Z){this.handleAutoResize(Y,8),this.view.setFloat32(Y,Z,this.littleEndian)},V.prototype.setFloat64=function(Y,Z){this.handleAutoResize(Y,8),this.view.setFloat64(Y,Z,this.littleEndian)},V.prototype.setNextFloat32=function(Y){this.setFloat32(this.offset,Y),this.offset+=4},V.prototype.setNextFloat64=function(Y){this.setFloat64(this.offset,Y),this.offset+=8},V.prototype.getBytes=function(Y,Z){Y===void 0&&(Y=0),Z=Z||this.view.buffer.byteLength-Y;var Q=this.getBuffer().slice(Y,Y+Z);return new Uint8Array(Q)},V.prototype.getNextBytes=function(Y){var Z=this.getBytes(this.offset,Y);return this.offset+=Y||0,Z},V.prototype.setBytes=function(Y,Z){(Z instanceof ArrayBuffer||Array.isArray(Z))&&(Z=new Uint8Array(Z));var Q=Z;this.handleAutoResize(Y,Q.byteLength);for(var G=0;G<Q.byteLength;G++)this.setUint8(Y+G,Q[G])},V.prototype.setNextBytes=function(Y){Array.isArray(Y)&&(Y=new Uint8Array(Y)),this.setBytes(this.offset,Y),this.offset+=Y.byteLength},V.prototype.getString=function(Y,Z,Q,G){var K=this.getBytes(Y,Z);if(G){var P=K.indexOf(0);P>=0&&(K=K.slice(0,P))}return Q?new F("utf-8").decode(K):new F("ascii").decode(K)},V.prototype.getNextString=function(Y,Z,Q){var G=this.getString(this.offset,Y,Z,Q);return this.offset+=Y,G},V.prototype.setString=function(Y,Z,Q,G){var K;K=Q?new q("utf-8").encode(Z):new q("ascii").encode(Z),G=typeof G=="number"?G:K.byteLength,this.handleAutoResize(Y,G);for(var P=0;P<G;P++)this.view.setUint8(Y+P,K[P]||0);return G},V.prototype.setNextString=function(Y,Z,Q){this.offset+=this.setString(this.offset,Y,Z,Q)},V.prototype.toByteString=function(){return Array.from(new Uint8Array(this.getBuffer())).map(function(Y){return("00"+Y.toString(16)).slice(-2)}).join(" ").toUpperCase()},V.prototype.toTextString=function(Y){return this.getString(0,this.view.byteLength,Y)},V.prototype.fromByteString=function(Y){var Z=Y.split(" "),Q=new ArrayBuffer(Z.length);this.view=new DataView(Q),this.setNextBytes(new Uint8Array(Z.map(function(G){return parseInt(G,16)}))),this.resetOffset()},V.prototype.getLength=function(){return this.view.byteLength},V.prototype.clear=function(){this.view=new DataView(new ArrayBuffer(this.view.byteLength)),this.offset=0},V.prototype.handleAutoResize=function(Y,Z){this.autoResize&&this.getBuffer().byteLength<Y+Z&&this.resize(Y+Z)},V}();return $})()})});var yJ=_((hJ,X1)=>{(function(J){function $(M,C){var R=(M&65535)+(C&65535),I=(M>>16)+(C>>16)+(R>>16);return I<<16|R&65535}function F(M,C){return M<<C|M>>>32-C}function q(M,C,R,I,L,T){return $(F($($(C,M),$(I,T)),L),R)}function X(M,C,R,I,L,T,B){return q(C&R|~C&I,M,C,L,T,B)}function V(M,C,R,I,L,T,B){return q(C&I|R&~I,M,C,L,T,B)}function Y(M,C,R,I,L,T,B){return q(C^R^I,M,C,L,T,B)}function Z(M,C,R,I,L,T,B){return q(R^(C|~I),M,C,L,T,B)}function Q(M,C){M[C>>5]|=128<<C%32,M[(C+64>>>9<<4)+14]=C;var R,I,L,T,B,W=1732584193,O=-271733879,A=-1732584194,H=271733878;for(R=0;R<M.length;R+=16)I=W,L=O,T=A,B=H,W=X(W,O,A,H,M[R],7,-680876936),H=X(H,W,O,A,M[R+1],12,-389564586),A=X(A,H,W,O,M[R+2],17,606105819),O=X(O,A,H,W,M[R+3],22,-1044525330),W=X(W,O,A,H,M[R+4],7,-176418897),H=X(H,W,O,A,M[R+5],12,1200080426),A=X(A,H,W,O,M[R+6],17,-1473231341),O=X(O,A,H,W,M[R+7],22,-45705983),W=X(W,O,A,H,M[R+8],7,1770035416),H=X(H,W,O,A,M[R+9],12,-1958414417),A=X(A,H,W,O,M[R+10],17,-42063),O=X(O,A,H,W,M[R+11],22,-1990404162),W=X(W,O,A,H,M[R+12],7,1804603682),H=X(H,W,O,A,M[R+13],12,-40341101),A=X(A,H,W,O,M[R+14],17,-1502002290),O=X(O,A,H,W,M[R+15],22,1236535329),W=V(W,O,A,H,M[R+1],5,-165796510),H=V(H,W,O,A,M[R+6],9,-1069501632),A=V(A,H,W,O,M[R+11],14,643717713),O=V(O,A,H,W,M[R],20,-373897302),W=V(W,O,A,H,M[R+5],5,-701558691),H=V(H,W,O,A,M[R+10],9,38016083),A=V(A,H,W,O,M[R+15],14,-660478335),O=V(O,A,H,W,M[R+4],20,-405537848),W=V(W,O,A,H,M[R+9],5,568446438),H=V(H,W,O,A,M[R+14],9,-1019803690),A=V(A,H,W,O,M[R+3],14,-187363961),O=V(O,A,H,W,M[R+8],20,1163531501),W=V(W,O,A,H,M[R+13],5,-1444681467),H=V(H,W,O,A,M[R+2],9,-51403784),A=V(A,H,W,O,M[R+7],14,1735328473),O=V(O,A,H,W,M[R+12],20,-1926607734),W=Y(W,O,A,H,M[R+5],4,-378558),H=Y(H,W,O,A,M[R+8],11,-2022574463),A=Y(A,H,W,O,M[R+11],16,1839030562),O=Y(O,A,H,W,M[R+14],23,-35309556),W=Y(W,O,A,H,M[R+1],4,-1530992060),H=Y(H,W,O,A,M[R+4],11,1272893353),A=Y(A,H,W,O,M[R+7],16,-155497632),O=Y(O,A,H,W,M[R+10],23,-1094730640),W=Y(W,O,A,H,M[R+13],4,681279174),H=Y(H,W,O,A,M[R],11,-358537222),A=Y(A,H,W,O,M[R+3],16,-722521979),O=Y(O,A,H,W,M[R+6],23,76029189),W=Y(W,O,A,H,M[R+9],4,-640364487),H=Y(H,W,O,A,M[R+12],11,-421815835),A=Y(A,H,W,O,M[R+15],16,530742520),O=Y(O,A,H,W,M[R+2],23,-995338651),W=Z(W,O,A,H,M[R],6,-198630844),H=Z(H,W,O,A,M[R+7],10,1126891415),A=Z(A,H,W,O,M[R+14],15,-1416354905),O=Z(O,A,H,W,M[R+5],21,-57434055),W=Z(W,O,A,H,M[R+12],6,1700485571),H=Z(H,W,O,A,M[R+3],10,-1894986606),A=Z(A,H,W,O,M[R+10],15,-1051523),O=Z(O,A,H,W,M[R+1],21,-2054922799),W=Z(W,O,A,H,M[R+8],6,1873313359),H=Z(H,W,O,A,M[R+15],10,-30611744),A=Z(A,H,W,O,M[R+6],15,-1560198380),O=Z(O,A,H,W,M[R+13],21,1309151649),W=Z(W,O,A,H,M[R+4],6,-145523070),H=Z(H,W,O,A,M[R+11],10,-1120210379),A=Z(A,H,W,O,M[R+2],15,718787259),O=Z(O,A,H,W,M[R+9],21,-343485551),W=$(W,I),O=$(O,L),A=$(A,T),H=$(H,B);return[W,O,A,H]}function G(M){var C,R="",I=M.length*32;for(C=0;C<I;C+=8)R+=String.fromCharCode(M[C>>5]>>>C%32&255);return R}function K(M){var C,R=[];R[(M.length>>2)-1]=void 0;for(C=0;C<R.length;C+=1)R[C]=0;var I=M.length*8;for(C=0;C<I;C+=8)R[C>>5]|=(M.charCodeAt(C/8)&255)<<C%32;return R}function P(M){return G(Q(K(M),M.length*8))}function j(M,C){var R,I=K(M),L=[],T=[],B;if(L[15]=T[15]=void 0,I.length>16)I=Q(I,M.length*8);for(R=0;R<16;R+=1)L[R]=I[R]^909522486,T[R]=I[R]^1549556828;return B=Q(L.concat(K(C)),512+C.length*8),G(Q(T.concat(B),640))}function z(M){var C="0123456789abcdef",R="",I,L;for(L=0;L<M.length;L+=1)I=M.charCodeAt(L),R+=C.charAt(I>>>4&15)+C.charAt(I&15);return R}function w(M){return unescape(encodeURIComponent(M))}function E(M){return P(w(M))}function S(M){return z(E(M))}function x(M,C){return j(w(M),w(C))}function D(M,C){return z(x(M,C))}function m(M,C,R){if(!C){if(!R)return S(M);return E(M)}if(!R)return D(C,M);return x(C,M)}if(typeof define==="function"&&define.amd)define(function(){return m});else if(typeof X1==="object"&&hJ)X1.exports=m;else J.md5=m})(hJ)});var b1=Q1(G0(),1),u1=function(J){return J.split(".").pop()},TF=CJ();class Y8{async load(J,$){const F=await $(J);if(u1(J)==="yaml"||u1(J)==="yml")return TF.load(F);return u1(J)==="json"?JSON.parse(F):F}static BrowserFetcher=(J)=>{return b1.default(J).then(($)=>$.text())};static ArrayBufferFetcher=(J)=>{return b1.default(J).then(($)=>$.arrayBuffer())};static NodeJSFileFetcher=async(J)=>{return(await (()=>({})).promises.readFile(J)).buffer}}var i;(function(X){X[X["LEAF"]=0]="LEAF";X[X["ARRAY"]=1]="ARRAY";X[X["OBJECT"]=2]="OBJECT";X[X["SPLIT"]=3]="SPLIT"})(i||(i={}));var U;(function(N){N[N["UNDEFINED"]=0]="UNDEFINED";N[N["NULL"]=1]="NULL";N[N["BOOLEAN_FALSE"]=2]="BOOLEAN_FALSE";N[N["BOOLEAN_TRUE"]=3]="BOOLEAN_TRUE";N[N["INT8"]=4]="INT8";N[N["UINT8"]=5]="UINT8";N[N["INT16"]=6]="INT16";N[N["UINT16"]=7]="UINT16";N[N["INT32"]=8]="INT32";N[N["UINT32"]=9]="UINT32";N[N["FLOAT32"]=10]="FLOAT32";N[N["FLOAT64"]=11]="FLOAT64";N[N["STRING"]=12]="STRING";N[N["UNICODE"]=13]="UNICODE";N[N["EMOJI"]=14]="EMOJI";N[N["OBJECT_8"]=17]="OBJECT_8";N[N["OBJECT_16"]=18]="OBJECT_16";N[N["OBJECT_32"]=19]="OBJECT_32";N[N["SPLIT_8"]=20]="SPLIT_8";N[N["SPLIT_16"]=21]="SPLIT_16";N[N["SPLIT_32"]=22]="SPLIT_32";N[N["ARRAY_8"]=23]="ARRAY_8";N[N["ARRAY_16"]=24]="ARRAY_16";N[N["ARRAY_32"]=25]="ARRAY_32";N[N["OFFSET_ARRAY_8"]=26]="OFFSET_ARRAY_8";N[N["OFFSET_ARRAY_16"]=27]="OFFSET_ARRAY_16";N[N["OFFSET_ARRAY_32"]=28]="OFFSET_ARRAY_32";N[N["EMPTY_ARRAY"]=29]="EMPTY_ARRAY";N[N["REFERENCE_8"]=30]="REFERENCE_8";N[N["REFERENCE_16"]=31]="REFERENCE_16";N[N["REFERENCE_32"]=32]="REFERENCE_32";N[N["COMPLEX_OBJECT"]=33]="COMPLEX_OBJECT";N[N["UINT2"]=34]="UINT2";N[N["UINT4"]=35]="UINT4"})(U||(U={}));var LJ=[U.UINT8,U.INT8,U.UINT16,U.INT16,U.UINT32,U.INT32,U.FLOAT32,U.FLOAT64];class h8{numberSatisfyDataType(J,$){if(J%1!==0)switch($){case U.FLOAT32:return Math.fround(J)===J;case U.FLOAT64:return!0;default:return!1}switch($){case U.UINT2:return J>=0&&J<4;case U.UINT4:return J>=0&&J<16;case U.UINT8:return J>=0&&J<=255;case U.INT8:return J>=-128&&J<=127;case U.UINT16:return J>=0&&J<=65535;case U.INT16:return J>=-32768&&J<=32767;case U.UINT32:return J>=0;case U.INT32:return!0;case U.FLOAT32:return Math.fround(J)===J;case U.FLOAT64:return!0}return!1}getBestType(J){if(J.some((q)=>q%1!==0)){if(J.every((q)=>this.numberSatisfyDataType(q,U.FLOAT32)))return U.FLOAT32;return U.FLOAT64}const $=Math.min(...J),F=Math.max(...J);for(let q of LJ)if(this.numberSatisfyDataType($,q)&&this.numberSatisfyDataType(F,q))return q;return U.FLOAT64}getNumberDataType(J){for(let $ of LJ)if(this.numberSatisfyDataType(J,$))return $;return U.UNDEFINED}getStringDataType(J){const $=Array.from(J).map((F)=>F.codePointAt(0)??0);if($.every((F)=>F<256))return U.STRING;else if($.every((F)=>F<65536))return U.UNICODE;else return U.EMOJI}getFullTokenDataType(J){switch(J.type){case"array":return U.ARRAY_8;case"object":return U.OBJECT_8;case"split":return U.SPLIT_8;default:return this.getDataType(J)}}getDataType(J){switch(J.type){case"complex":return U.COMPLEX_OBJECT;case"array":case"object":case"split":let $=J.value;if(!$.length)return console.assert(J.type==="array"),U.EMPTY_ARRAY;let F=0;if(J.type==="array"&&$.length>3){const X=Math.min(...$),V=Math.max(...$);if(this.getNumberDataType(V-X)!==this.getNumberDataType(V))F=X;$=$.map((Y)=>Y-F)}const q=this.getBestType($);switch(J.type){case"object":return q===U.UINT8?U.OBJECT_8:q===U.UINT16?U.OBJECT_16:U.OBJECT_32;case"split":return q===U.UINT8?U.SPLIT_8:q===U.UINT16?U.SPLIT_16:U.SPLIT_32;case"array":if(F)return q===U.UINT8?U.OFFSET_ARRAY_8:q===U.UINT16?U.OFFSET_ARRAY_16:U.OFFSET_ARRAY_32;else return q===U.UINT8?U.ARRAY_8:q===U.UINT16?U.ARRAY_16:U.ARRAY_32}break;case"leaf":if(J.value===void 0)return U.UNDEFINED;else if(J.value===null)return U.NULL;else switch(typeof J.value){case"boolean":return J.value?U.BOOLEAN_TRUE:U.BOOLEAN_FALSE;case"string":return this.getStringDataType(J.value);case"number":return this.getNumberDataType(J.value)}break;case"reference":switch(this.getNumberDataType(J.value)){case U.UINT8:return U.REFERENCE_8;case U.UINT16:return U.REFERENCE_16;case U.UINT32:return U.REFERENCE_32}throw new Error("Invalid reference value: "+J.value)}throw new Error(`Unrecognized type for ${J.type} value: ${J.value}`)}dataTypeToType(J){switch(J){case U.COMPLEX_OBJECT:return"complex";case U.EMPTY_ARRAY:case U.ARRAY_8:case U.ARRAY_16:case U.ARRAY_32:return"array";case U.OBJECT_8:case U.OBJECT_16:case U.OBJECT_32:return"object";case U.SPLIT_8:case U.SPLIT_16:case U.SPLIT_32:return"split";case U.REFERENCE_8:case U.REFERENCE_16:case U.REFERENCE_32:return"reference";default:return"leaf"}}typeToStructureType(J){switch(J){case"leaf":return i.LEAF;case"array":return i.ARRAY;case"object":return i.OBJECT;case"split":return i.SPLIT}throw new Error("Cannot translate to structure type: "+J)}}var p1=255;class V8{streamDataView;dataTypeUtils;constructor(J){this.streamDataView=J,this.dataTypeUtils=new h8}encodeTokens(J,$){let F=0;while(F<J.length){const q=this.encodeMulti(J,F,$);if(q)F+=q}this.encodeMulti([],F,$)}decodeTokens(J){const $=[];while(this.streamDataView.getOffset()<this.streamDataView.getLength())if(!this.decodeMulti($,J))break;return $}encodeToken(J,$,F){const q=$??this.encodeDataType(this.dataTypeUtils.getDataType(J));switch(q){case U.UNDEFINED:case U.NULL:case U.BOOLEAN_TRUE:case U.BOOLEAN_FALSE:case U.EMPTY_ARRAY:break;case U.INT8:case U.UINT8:case U.INT16:case U.UINT16:case U.INT32:case U.UINT32:case U.FLOAT32:case U.FLOAT64:this.encodeSingleNumber(J.value,q);break;case U.STRING:case U.UNICODE:case U.EMOJI:this.encodeString(J.value,q,F);break;case U.OBJECT_8:case U.OBJECT_16:case U.OBJECT_32:this.encodeObjectToken(J,q);break;case U.SPLIT_8:case U.SPLIT_16:case U.SPLIT_32:this.encodeSplitToken(J,q);break;case U.ARRAY_8:case U.ARRAY_16:case U.ARRAY_32:case U.OFFSET_ARRAY_8:case U.OFFSET_ARRAY_16:case U.OFFSET_ARRAY_32:this.encodeArrayToken(J,q);break;case U.REFERENCE_8:case U.REFERENCE_16:case U.REFERENCE_32:this.encodeReferenceToken(J,q);break;case U.COMPLEX_OBJECT:this.encodeComplexToken(J,q);break;default:throw new Error("Invalid dataType: "+q)}}decodeToken(J,$){const F=J??this.decodeDataType();switch(F){case U.UNDEFINED:return{type:"leaf",value:void 0};case U.NULL:return{type:"leaf",value:null};case U.BOOLEAN_TRUE:return{type:"leaf",value:!0};case U.BOOLEAN_FALSE:return{type:"leaf",value:!1};case U.EMPTY_ARRAY:return{type:"array",value:[]};case U.UINT2:case U.UINT4:throw new Error("Use decode number array.");case U.INT8:case U.UINT8:case U.INT16:case U.UINT16:case U.INT32:case U.UINT32:case U.FLOAT32:case U.FLOAT64:return{type:"leaf",value:this.decodeSingleNumber(F)};case U.STRING:case U.UNICODE:case U.EMOJI:return{type:"leaf",value:this.decodeString(F,$)};case U.OBJECT_8:case U.OBJECT_16:case U.OBJECT_32:return this.decodeObjectToken(F);case U.SPLIT_8:case U.SPLIT_16:case U.SPLIT_32:return this.decodeSplitToken(F);case U.ARRAY_8:case U.ARRAY_16:case U.ARRAY_32:case U.OFFSET_ARRAY_8:case U.OFFSET_ARRAY_16:case U.OFFSET_ARRAY_32:return this.decodeArrayToken(F);case U.REFERENCE_8:case U.REFERENCE_16:case U.REFERENCE_32:return this.decodeReferenceToken(F);case U.COMPLEX_OBJECT:return this.decodeComplexToken(F);default:throw new Error("Invalid dataType: "+F)}}isOffsetDataType(J){return J===U.OFFSET_ARRAY_8||J===U.OFFSET_ARRAY_16||J===U.OFFSET_ARRAY_32}encodeArrayToken(J,$){const F=$??this.encodeDataType(this.dataTypeUtils.getDataType(J)),q=F===U.ARRAY_8||F===U.OFFSET_ARRAY_8?U.UINT8:F===U.ARRAY_16||F===U.OFFSET_ARRAY_16?U.UINT16:U.UINT32;let X=J.value;if(this.isOffsetDataType(F)){const V=Math.min(...X);X=X.map((Y)=>Y-V),this.encodeSingleNumber(V)}this.encodeNumberArray(X,q)}decodeArrayToken(J){const $=J??this.decodeDataType();let F=0;if(this.isOffsetDataType($))F=this.decodeSingleNumber();const q=$===U.ARRAY_8||$===U.OFFSET_ARRAY_8?U.UINT8:$===U.ARRAY_16||$===U.OFFSET_ARRAY_16?U.UINT16:U.UINT32;return{type:"array",value:this.decodeNumberArray(q).map((V)=>V+F)}}encodeObjectToken(J,$){const F=$??this.encodeDataType(this.dataTypeUtils.getDataType(J)),q=F===U.OBJECT_8?U.UINT8:F===U.OBJECT_16?U.UINT16:U.UINT32,[X,V]=J.value;this.encodeSingleNumber(X,q),this.encodeSingleNumber(V,q)}decodeObjectToken(J){const $=J??this.decodeDataType(),F=$===U.OBJECT_8?U.UINT8:$===U.OBJECT_16?U.UINT16:U.UINT32;return{type:"object",value:[this.decodeSingleNumber(F),this.decodeSingleNumber(F)]}}encodeSplitToken(J,$){const F=$??this.encodeDataType(this.dataTypeUtils.getDataType(J)),q=F===U.SPLIT_8?U.UINT8:F===U.SPLIT_16?U.UINT16:U.UINT32,[X,V]=J.value;this.encodeSingleNumber(X,q),this.encodeSingleNumber(V,q)}decodeSplitToken(J){const $=J??this.decodeDataType(),F=$===U.SPLIT_8?U.UINT8:$===U.SPLIT_16?U.UINT16:U.UINT32;return{type:"split",value:[this.decodeSingleNumber(F),this.decodeSingleNumber(F)]}}encodeReferenceToken(J,$){const F=$??this.encodeDataType(this.dataTypeUtils.getDataType(J)),q=F===U.REFERENCE_8?U.UINT8:F===U.REFERENCE_16?U.UINT16:U.UINT32,X=J.value;this.encodeSingleNumber(X,q)}decodeReferenceToken(J){const $=J??this.decodeDataType(),F=$===U.REFERENCE_8?U.UINT8:$===U.REFERENCE_16?U.UINT16:U.UINT32;return{type:"reference",value:this.decodeSingleNumber(F)}}encodeComplexToken(J,$){if($===void 0)this.encodeDataType(this.dataTypeUtils.getDataType(J));const F=J.value;this.encodeNumberArray(F,U.UINT2)}decodeComplexToken(J){const $=J??this.decodeDataType(),F=this.decodeNumberArray(U.UINT2);return{type:this.dataTypeUtils.dataTypeToType($),value:F}}encodeDataType(J){return this.streamDataView.setNextUint8(J),J}decodeDataType(){return this.streamDataView.getNextUint8()}encodeMulti(J,$,F){if($>=J.length)return this.encodeSingleNumber(0,U.UINT8),0;const q=this.dataTypeUtils.getDataType(J[$]);let X;const V=Math.min(J.length-$,255);for(X=1;X<V;X++)if(this.dataTypeUtils.getDataType(J[$+X])!==q)break;this.encodeSingleNumber(X,U.UINT8),this.encodeDataType(q);const Y={organized:F};for(let Z=0;Z<X;Z++)this.encodeToken(J[$+Z],q,Y);return X}decodeMulti(J,$){const F=this.streamDataView.getNextUint8();if(!F)return 0;const q=this.decodeDataType(),X={organized:$};for(let V=0;V<F;V++){const Y=this.decodeToken(q,X);J.push(Y)}return F}encodeSingleNumber(J,$){const F=$??this.encodeDataType(this.dataTypeUtils.getNumberDataType(J));switch(F){case U.UINT2:case U.UINT4:throw new Error("Use encode number array.");case U.UINT8:this.streamDataView.setNextUint8(J);break;case U.INT8:this.streamDataView.setNextInt8(J);break;case U.UINT16:this.streamDataView.setNextUint16(J);break;case U.INT16:this.streamDataView.setNextInt16(J);break;case U.UINT32:this.streamDataView.setNextUint32(J);break;case U.INT32:this.streamDataView.setNextInt32(J);break;case U.FLOAT32:this.streamDataView.setNextFloat32(J);break;case U.FLOAT64:this.streamDataView.setNextFloat64(J);break;default:throw new Error("Invalid dataType for number: "+F)}}decodeSingleNumber(J){const $=J??this.decodeDataType();switch($){case U.UINT2:case U.UINT4:throw new Error("Use decode number array.");case U.UINT8:return this.streamDataView.getNextUint8();case U.INT8:return this.streamDataView.getNextInt8();case U.UINT16:return this.streamDataView.getNextUint16();case U.INT16:return this.streamDataView.getNextInt16();case U.UINT32:return this.streamDataView.getNextUint32();case U.INT32:return this.streamDataView.getNextInt32();case U.FLOAT32:return this.streamDataView.getNextFloat32();case U.FLOAT64:return this.streamDataView.getNextFloat64();default:throw new Error("Invalid dataType for number: "+$)}}bit2ToNum([J,$,F,q]){return(J??0)<<0|($??0)<<2|(F??0)<<4|(q??0)<<6}numToBit2(J,$=4){return[J>>0&3,J>>2&3,J>>4&3,J>>6&3].slice(0,$)}bit4ToNum([J,$]){return(J??0)<<0|($??0)<<4}numToBit4(J,$=2){return[J>>0&15,J>>4&15].slice(0,$)}encodeNumberArray(J,$){if($===U.UINT2||$===U.UINT4){const q=$===U.UINT2?4:2,X=$===U.UINT2?this.bit2ToNum:this.bit4ToNum,V=[];for(let Y=0;Y<J.length;Y+=q)V.push(X(J.slice(Y,Y+q)));this.encodeNumberArray(V,U.UINT8),this.encodeSingleNumber(J.length-V.length*q,U.INT8);return}let F;for(F=0;F<J.length;){const q=Math.min(p1,J.length-F);if(this.encodeSingleNumber(q,U.UINT8),!q)break;const X=$??this.encodeDataType(this.dataTypeUtils.getBestType(J));for(let V=0;V<q;V++)this.encodeSingleNumber(J[F+V],X);F+=q}if(F===p1)this.encodeSingleNumber(0,U.UINT8)}decodeNumberArray(J){if(J===U.UINT2||J===U.UINT4){const q=J===U.UINT2?this.numToBit2:this.numToBit4,X=[],V=this.decodeNumberArray(U.UINT8);for(let Z of V)X.push(...q(Z));const Y=this.decodeSingleNumber(U.INT8);return X.length+=Y,X}let $;const F=[];do{if($=this.decodeSingleNumber(U.UINT8),!$)break;const q=J??this.decodeDataType();for(let X=0;X<$;X++)F.push(this.decodeSingleNumber(q))}while($>=p1);return F}numberTypeForStringType(J){return J===U.STRING?U.UINT8:J===U.UNICODE?U.UINT16:J===U.EMOJI?U.UINT32:U.UNDEFINED}encodeString(J,$,F){const q=$??this.encodeDataType(this.dataTypeUtils.getStringDataType(J)),X=Array.from(J).map((Y)=>Y.codePointAt(0)??0);if(!F?.organized||F.lastStringLength!==J.length)X.push(0);const V=this.numberTypeForStringType(q);if(X.forEach((Y)=>this.encodeSingleNumber(Y,V)),F)F.lastStringLength=J.length}decodeString(J,$){const F=J??this.decodeDataType(),q=[],X=this.numberTypeForStringType(F);do{const Y=this.decodeSingleNumber(X);if(!Y)break;if(q.push(Y),$?.organized&&$?.lastStringLength&&q.length>=$?.lastStringLength)break}while(!0);const V=q.map((Y)=>String.fromCodePoint(Y)).join("");if($)$.lastStringLength=V.length;return V}}class y8{dataTypeUtils;constructor(){this.dataTypeUtils=new h8}reduce(J){const $={},F=this.createReducedHeaderTokens(this.filterSplit(Object.values(J.registry).filter((Y)=>Y.files.size>1||Y.files.has("header")),J.registry),$),q=Object.entries(J.files).sort(([Y],[Z])=>Y.localeCompare(Z)),X=q.map(([,Y])=>$[Y.nameToken.hash]),V=q.map(([,{token:Y}])=>{const Z={...$},Q=[],G=[{type:"complex",value:Q}];return this.createComplexObject(Y,Z,J.registry,F,Q,G),G});return{originalDataSize:J.originalDataSize,headerTokens:F,files:X,getDataTokens:(Y)=>V[Y]}}sortTokens(J){J.sort(($,F)=>F.count-$.count)}organizeTokens(J){if(!J.length)return J;const $=[];J.forEach((q)=>{const X=this.dataTypeUtils.getFullTokenDataType(q);let V=void 0;for(let Y of $)if(Y.length<255&&this.dataTypeUtils.getFullTokenDataType(Y[0])===X){V=Y;break}if(!V)V=[],$.push(V);V.push(q)}),$.forEach((q)=>{switch(this.dataTypeUtils.getFullTokenDataType(q[0])){case U.UINT8:case U.UINT16:case U.UINT32:case U.INT8:case U.INT16:case U.INT32:case U.FLOAT32:case U.FLOAT64:q.sort((V,Y)=>Y.value-V.value);break;case U.STRING:case U.UNICODE:case U.EMOJI:q.sort((V,Y)=>Y.value.length-V.value.length);break;case U.ARRAY_8:case U.ARRAY_16:case U.ARRAY_32:q.sort((V,Y)=>Y.value.length-V.value.length);break}});const F=[];return $.forEach((q)=>q.forEach((X)=>F.push(X))),F}filterSplit(J,$){for(let F of J)if(F.type==="split"){const[q,X]=F.reference,V=$[q],Y=$[X];if(V.count<=F.count&&Y.count<=F.count)V.deleted=!0,Y.deleted=!0,F.type="leaf",delete F.reference}return J.filter(({deleted:F})=>!F)}createReducedHeaderTokens(J,$,F=0){this.sortTokens(J);const q=this.organizeTokens(J);return q.forEach(({hash:X},V)=>$[X]=V+F),q.map((X)=>({type:X.type,value:X.reference?.map((V)=>$[V])??X.value}))}createComplexObject(J,$,F,q,X,V){if($[J.hash]>=0)X.push(i.LEAF),V.push({type:"reference",value:$[J.hash]});else if(J.type==="leaf")X.push(this.dataTypeUtils.typeToStructureType(J.type)),$[J.hash]=q.length+V.length,V.push({type:J.type,value:J.value});else if(J.type==="split"||J.type==="object"||J.type==="array"){if(X.push(this.dataTypeUtils.typeToStructureType(J.type)),J.type==="array")V.push({type:"leaf",value:J.reference?.length});J.reference?.map((Z)=>F[Z])?.forEach((Z)=>{this.createComplexObject(Z,$,F,q,X,V)})}else throw new Error("Invalid token type")}}var P8=Q1(wJ(),1);function kJ(J,$){if(!$)$={};var F=lF(),q=J.length;F.p(J);var X=cF(J,$,iF($),8),V=X.length;return nF(X,$),e1(X,V-8,F.d()),e1(X,V-4,q),X}function _J(J,$){return uF(J.subarray(oF(J),-8),$||new r(dF(J)))}var r=Uint8Array,o=Uint16Array,$1=Uint32Array,F1=new r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),q1=new r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o1=new r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),SJ=function(J,$){var F=new o(31);for(var q=0;q<31;++q)F[q]=$+=1<<J[q-1];var X=new $1(F[30]);for(var q=1;q<30;++q)for(var V=F[q];V<F[q+1];++V)X[V]=V-F[q]<<5|q;return[F,X]},DJ=SJ(F1,2),gJ=DJ[0],d1=DJ[1];gJ[28]=258,d1[258]=28;var xJ=SJ(q1,0),kF=xJ[0],IJ=xJ[1],i1=new o(32768);for(k=0;k<32768;++k)Z8=(k&43690)>>>1|(k&21845)<<1,Z8=(Z8&52428)>>>2|(Z8&13107)<<2,Z8=(Z8&61680)>>>4|(Z8&3855)<<4,i1[k]=((Z8&65280)>>>8|(Z8&255)<<8)>>>1;var Z8,k,F8=function(J,$,F){var q=J.length,X=0,V=new o($);for(;X<q;++X)if(J[X])++V[J[X]-1];var Y=new o($);for(X=0;X<$;++X)Y[X]=Y[X-1]+V[X-1]<<1;var Z;if(F){Z=new o(1<<$);var Q=15-$;for(X=0;X<q;++X)if(J[X]){var G=X<<4|J[X],K=$-J[X],P=Y[J[X]-1]++<<K;for(var j=P|(1<<K)-1;P<=j;++P)Z[i1[P]>>>Q]=G}}else{Z=new o(q);for(X=0;X<q;++X)if(J[X])Z[X]=i1[Y[J[X]-1]++]>>>15-J[X]}return Z},K8=new r(288);for(k=0;k<144;++k)K8[k]=8;var k;for(k=144;k<256;++k)K8[k]=9;var k;for(k=256;k<280;++k)K8[k]=7;var k;for(k=280;k<288;++k)K8[k]=8;var k,b8=new r(32);for(k=0;k<32;++k)b8[k]=5;var k,_F=F8(K8,9,0),hF=F8(K8,9,1),yF=F8(b8,5,0),fF=F8(b8,5,1),l1=function(J){var $=J[0];for(var F=1;F<J.length;++F)if(J[F]>$)$=J[F];return $},e=function(J,$,F){var q=$/8|0;return(J[q]|J[q+1]<<8)>>($&7)&F},c1=function(J,$){var F=$/8|0;return(J[F]|J[F+1]<<8|J[F+2]<<16)>>($&7)},t1=function(J){return(J+7)/8|0},TJ=function(J,$,F){if($==null||$<0)$=0;if(F==null||F>J.length)F=J.length;var q=new(J.BYTES_PER_ELEMENT==2?o:J.BYTES_PER_ELEMENT==4?$1:r)(F-$);return q.set(J.subarray($,F)),q};var mF=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Q8=function(J,$,F){var q=new Error($||mF[J]);if(q.code=J,Error.captureStackTrace)Error.captureStackTrace(q,Q8);if(!F)throw q;return q},uF=function(J,$,F){var q=J.length;if(!q||F&&F.f&&!F.l)return $||new r(0);var X=!$||F,V=!F||F.i;if(!F)F={};if(!$)$=new r(q*3);var Y=function(l8){var E8=$.length;if(l8>E8){var H8=new r(Math.max(E8*2,l8));H8.set($),$=H8}},Z=F.f||0,Q=F.p||0,G=F.b||0,K=F.l,P=F.d,j=F.m,z=F.n,w=q*8;do{if(!K){Z=e(J,Q,1);var E=e(J,Q+1,3);if(Q+=3,!E){var S=t1(Q)+4,x=J[S-4]|J[S-3]<<8,D=S+x;if(D>q){if(V)Q8(0);break}if(X)Y(G+x);$.set(J.subarray(S,D),G),F.b=G+=x,F.p=Q=D*8,F.f=Z;continue}else if(E==1)K=hF,P=fF,j=9,z=5;else if(E==2){var m=e(J,Q,31)+257,M=e(J,Q+10,15)+4,C=m+e(J,Q+5,31)+1;Q+=14;var R=new r(C),I=new r(19);for(var L=0;L<M;++L)I[o1[L]]=e(J,Q+L*3,7);Q+=M*3;var T=l1(I),B=(1<<T)-1,W=F8(I,T,1);for(var L=0;L<C;){var O=W[e(J,Q,B)];Q+=O&15;var S=O>>>4;if(S<16)R[L++]=S;else{var A=0,H=0;if(S==16)H=3+e(J,Q,3),Q+=2,A=R[L-1];else if(S==17)H=3+e(J,Q,7),Q+=3;else if(S==18)H=11+e(J,Q,127),Q+=7;while(H--)R[L++]=A}}var g=R.subarray(0,m),y=R.subarray(m);j=l1(g),z=l1(y),K=F8(g,j,1),P=F8(y,z,1)}else Q8(1);if(Q>w){if(V)Q8(0);break}}if(X)Y(G+131072);var h=(1<<j)-1,N=(1<<z)-1,s=Q;for(;;s=Q){var A=K[c1(J,Q)&h],t=A>>>4;if(Q+=A&15,Q>w){if(V)Q8(0);break}if(!A)Q8(2);if(t<256)$[G++]=t;else if(t==256){s=Q,K=null;break}else{var d=t-254;if(t>264){var L=t-257,a=F1[L];d=e(J,Q,(1<<a)-1)+gJ[L],Q+=a}var J8=P[c1(J,Q)&N],c=J8>>>4;if(!J8)Q8(3);Q+=J8&15;var y=kF[c];if(c>3){var a=q1[c];y+=c1(J,Q)&(1<<a)-1,Q+=a}if(Q>w){if(V)Q8(0);break}if(X)Y(G+131072);var u=G+d;for(;G<u;G+=4)$[G]=$[G-y],$[G+1]=$[G+1-y],$[G+2]=$[G+2-y],$[G+3]=$[G+3-y];G=u}}if(F.l=K,F.p=s,F.b=G,F.f=Z,K)Z=1,F.m=j,F.d=P,F.n=z}while(!Z);return G==$.length?$:TJ($,0,G)},U8=function(J,$,F){F<<=$&7;var q=$/8|0;J[q]|=F,J[q+1]|=F>>>8},m8=function(J,$,F){F<<=$&7;var q=$/8|0;J[q]|=F,J[q+1]|=F>>>8,J[q+2]|=F>>>16},n1=function(J,$){var F=[];for(var q=0;q<J.length;++q)if(J[q])F.push({s:q,f:J[q]});var X=F.length,V=F.slice();if(!X)return[J0,0];if(X==1){var Y=new r(F[0].s+1);return Y[F[0].s]=1,[Y,1]}F.sort(function(C,R){return C.f-R.f}),F.push({s:-1,f:25001});var Z=F[0],Q=F[1],G=0,K=1,P=2;F[0]={s:-1,f:Z.f+Q.f,l:Z,r:Q};while(K!=X-1)Z=F[F[G].f<F[P].f?G++:P++],Q=F[G!=K&&F[G].f<F[P].f?G++:P++],F[K++]={s:-1,f:Z.f+Q.f,l:Z,r:Q};var j=V[0].s;for(var q=1;q<X;++q)if(V[q].s>j)j=V[q].s;var z=new o(j+1),w=s1(F[K-1],z,0);if(w>$){var q=0,E=0,S=w-$,x=1<<S;V.sort(function(R,I){return z[I.s]-z[R.s]||R.f-I.f});for(;q<X;++q){var D=V[q].s;if(z[D]>$)E+=x-(1<<w-z[D]),z[D]=$;else break}E>>>=S;while(E>0){var m=V[q].s;if(z[m]<$)E-=1<<$-z[m]++-1;else++q}for(;q>=0&&E;--q){var M=V[q].s;if(z[M]==$)--z[M],++E}w=$}return[new r(z),w]},s1=function(J,$,F){return J.s==-1?Math.max(s1(J.l,$,F+1),s1(J.r,$,F+1)):$[J.s]=F},EJ=function(J){var $=J.length;while($&&!J[--$]);var F=new o(++$),q=0,X=J[0],V=1,Y=function(Q){F[q++]=Q};for(var Z=1;Z<=$;++Z)if(J[Z]==X&&Z!=$)++V;else{if(!X&&V>2){for(;V>138;V-=138)Y(32754);if(V>2)Y(V>10?V-11<<5|28690:V-3<<5|12305),V=0}else if(V>3){Y(X),--V;for(;V>6;V-=6)Y(8304);if(V>2)Y(V-3<<5|8208),V=0}while(V--)Y(X);V=1,X=J[Z]}return[F.subarray(0,q),$]},u8=function(J,$){var F=0;for(var q=0;q<$.length;++q)F+=J[q]*$[q];return F},a1=function(J,$,F){var q=F.length,X=t1($+2);J[X]=q&255,J[X+1]=q>>>8,J[X+2]=J[X]^255,J[X+3]=J[X+1]^255;for(var V=0;V<q;++V)J[X+V+4]=F[V];return(X+4+q)*8},vJ=function(J,$,F,q,X,V,Y,Z,Q,G,K){U8($,K++,F),++X[256];var P=n1(X,15),j=P[0],z=P[1],w=n1(V,15),E=w[0],S=w[1],x=EJ(j),D=x[0],m=x[1],M=EJ(E),C=M[0],R=M[1],I=new o(19);for(var L=0;L<D.length;++L)I[D[L]&31]++;for(var L=0;L<C.length;++L)I[C[L]&31]++;var T=n1(I,7),B=T[0],W=T[1],O=19;for(;O>4&&!B[o1[O-1]];--O);var A=G+5<<3,H=u8(X,K8)+u8(V,b8)+Y,g=u8(X,j)+u8(V,E)+Y+14+3*O+u8(I,B)+(2*I[16]+3*I[17]+7*I[18]);if(A<=H&&A<=g)return a1($,K,J.subarray(Q,Q+G));var y,h,N,s;if(U8($,K,1+(g<H)),K+=2,g<H){y=F8(j,z,0),h=j,N=F8(E,S,0),s=E;var t=F8(B,W,0);U8($,K,m-257),U8($,K+5,R-1),U8($,K+10,O-4),K+=14;for(var L=0;L<O;++L)U8($,K+3*L,B[o1[L]]);K+=3*O;var d=[D,C];for(var a=0;a<2;++a){var J8=d[a];for(var L=0;L<J8.length;++L){var c=J8[L]&31;if(U8($,K,t[c]),K+=B[c],c>15)U8($,K,J8[L]>>>5&127),K+=J8[L]>>>12}}}else y=_F,h=K8,N=yF,s=b8;for(var L=0;L<Z;++L)if(q[L]>255){var c=q[L]>>>18&31;if(m8($,K,y[c+257]),K+=h[c+257],c>7)U8($,K,q[L]>>>23&31),K+=F1[c];var u=q[L]&31;if(m8($,K,N[u]),K+=s[u],u>3)m8($,K,q[L]>>>5&8191),K+=q1[u]}else m8($,K,y[q[L]]),K+=h[q[L]];return m8($,K,y[256]),K+h[256]},bF=new $1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),J0=new r(0),pF=function(J,$,F,q,X,V){var Y=J.length,Z=new r(q+Y+5*(1+Math.ceil(Y/7000))+X),Q=Z.subarray(q,Z.length-X),G=0;if(!$||Y<8)for(var K=0;K<=Y;K+=65535){var P=K+65535;if(P>=Y)Q[G>>3]=V;G=a1(Q,G+1,J.subarray(K,P))}else{var j=bF[$-1],z=j>>>13,w=j&8191,E=(1<<F)-1,S=new o(32768),x=new o(E+1),D=Math.ceil(F/3),m=2*D,M=function(U1){return(J[U1]^J[U1+1]<<D^J[U1+2]<<m)&E},C=new $1(25000),R=new o(288),I=new o(32),L=0,T=0,K=0,B=0,W=0,O=0;for(;K<Y;++K){var A=M(K),H=K&32767,g=x[A];if(S[H]=g,x[A]=H,W<=K){var y=Y-K;if((L>7000||B>24576)&&y>423){G=vJ(J,Q,0,C,R,I,T,B,O,K-O,G),B=L=T=0,O=K;for(var h=0;h<286;++h)R[h]=0;for(var h=0;h<30;++h)I[h]=0}var N=2,s=0,t=w,d=H-g&32767;if(y>2&&A==M(K-d)){var a=Math.min(z,y)-1,J8=Math.min(32767,K),c=Math.min(258,y);while(d<=J8&&--t&&H!=g){if(J[K+N]==J[K+N-d]){var u=0;for(;u<c&&J[K+u]==J[K+u-d];++u);if(u>N){if(N=u,s=d,u>a)break;var l8=Math.min(d,u-2),E8=0;for(var h=0;h<l8;++h){var H8=K-d+h+32768&32767,bJ=S[H8],X0=H8-bJ+32768&32767;if(X0>E8)E8=X0,g=H8}}}H=g,g=S[H],d+=H-g+32768&32767}}if(s){C[B++]=268435456|d1[N]<<18|IJ[s];var Y0=d1[N]&31,V0=IJ[s]&31;T+=F1[Y0]+q1[V0],++R[257+Y0],++I[V0],W=K+N,++L}else C[B++]=J[K],++R[J[K]]}}if(G=vJ(J,Q,V,C,R,I,T,B,O,K-O,G),!V&&G&7)G=a1(Q,G+1,J0)}return TJ(Z,0,q+t1(G)+X)},rF=function(){var J=new Int32Array(256);for(var $=0;$<256;++$){var F=$,q=9;while(--q)F=(F&1&&-306674912)^F>>>1;J[$]=F}return J}(),lF=function(){var J=-1;return{p:function($){var F=J;for(var q=0;q<$.length;++q)F=rF[F&255^$[q]]^F>>>8;J=F},d:function(){return~J}}};var cF=function(J,$,F,q,X){return pF(J,$.level==null?6:$.level,$.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(J.length)))*1.5):12+$.mem,F,q,!X)};var e1=function(J,$,F){for(;F;++$)J[$]=F,F>>>=8},nF=function(J,$){var F=$.filename;if(J[0]=31,J[1]=139,J[2]=8,J[8]=$.level<2?4:$.level==9?2:0,J[9]=3,$.mtime!=0)e1(J,4,Math.floor(new Date($.mtime||Date.now())/1000));if(F){J[3]=8;for(var q=0;q<=F.length;++q)J[q+10]=F.charCodeAt(q)}},oF=function(J){if(J[0]!=31||J[1]!=139||J[2]!=8)Q8(6,"invalid gzip data");var $=J[3],F=10;if($&4)F+=J[10]|(J[11]<<8)+2;for(var q=($>>3&1)+($>>4&1);q>0;q-=!J[F++]);return F+($&2)},dF=function(J){var $=J.length;return(J[$-4]|J[$-3]<<8|J[$-2]<<16|J[$-1]<<24)>>>0},iF=function(J){return 10+(J.filename&&J.filename.length+1||0)};var sF=typeof TextDecoder!="undefined"&&new TextDecoder,aF=0;try{sF.decode(J0,{stream:!0}),aF=1}catch(J){}class I8{encode(J){return kJ(new Uint8Array(J),{mtime:"6/9/1978 12:00 PM"}).buffer}decode(J){return _J(new Uint8Array(J)).buffer}}function F0(J){if(Array.isArray(J))return"array";else if(typeof J==="object"&&J)return"object";else if(typeof J==="string"&&new Set(J).size<16)return"leaf";else if(typeof J==="string"&&tF.test(J))return"split";else return"leaf"}var $0=/\W+/g,tF=/(\w{3,}\W+){2,}|(\W+\w{3,}){2,}/;var p8=Q1(yJ(),1);class r8{loader=new Y8;async load(J,$){if(J.some((V)=>typeof V!=="string"))throw new Error("Each argument passed to load must be a string.");const F=J.sort(),q=await Promise.all(F.map((V)=>this.loader.load(V,$)));return this.tokenize(Object.fromEntries(q.map((V,Y)=>[F[Y],V])))}tokenize(J){const $={registry:{},files:{}},F={next:0};Object.entries(J).forEach(([X,V])=>{$.files[X]={nameToken:this.tokenizeHelper(X,$.registry,F,"header"),token:this.tokenizeHelper(V,$.registry,F,X)}});const q=Uint8Array.from(Array.from(JSON.stringify(J)).map((X)=>X.codePointAt(0)??0));return $.originalDataSize=q.byteLength,$}registerToken(J,$,F,q,X,V){const Y=F[J]??(F[J]={type:F0($),hash:J,value:$,reference:V,order:q.next++,count:0,files:new Set});return Y.files.add(X),Y.count++,Y}tokenizeHelper(J,$,F,q){const X=F0(J);if(X==="array"){if(!Array.isArray(J))throw new Error("item should be an array");const V=J.map((Z)=>this.tokenizeHelper(Z,$,F,q)).map(({hash:Z})=>Z),Y=p8.default(V.join(","));return this.registerToken(Y,J,$,F,q,V)}else if(X==="object"){const V=Object.entries(J),Y=this.tokenizeHelper(V.map(([G])=>G),$,F,q),Z=this.tokenizeHelper(V.map(([,G])=>G),$,F,q),Q=p8.default(`${Y.hash}|${Z.hash}`);return this.registerToken(Q,J,$,F,q,[Y.hash,Z.hash])}else if(X==="split"){const V=J.split($0),Y=J.match($0),Z=this.tokenizeHelper(V,$,F,q),Q=this.tokenizeHelper(Y,$,F,q),G=p8.default(`${Z.hash}-${Q.hash}`);return this.registerToken(G,J,$,F,q,[Z.hash,Q.hash])}else{const V=p8.default(JSON.stringify(J));return this.registerToken(V,J,$,F,q)}}}var J3={cacheable:!0};class Y1{extractor=new fJ;dataStore;fileToSlot;config;fileNames;version;originalDataSize;compressedSize;constructor(J,$){this.dataStore=J,this.config={...J3,...$},this.fileNames=this.extractor.extractFileNames(J.files,J.headerTokens,this.config),this.fileToSlot=Object.fromEntries(this.fileNames.map((F,q)=>[F,q])),this.version=J.version,this.originalDataSize=J.originalDataSize,this.compressedSize=J.compressedSize}extract(J){const $=this.fileToSlot[J];if($===void 0)return;const F=this.dataStore.getDataTokens($);if(F)return this.extractor.extract(this.dataStore.headerTokens,F,this.config)}getHeaderTokens(){return this.dataStore.headerTokens}}class fJ{valueFetcher;constructor(){this.valueFetcher={array:this.getArray.bind(this),leaf:this.getLeaf.bind(this),object:this.getObject.bind(this),split:this.getSplit.bind(this),reference:this.getReference.bind(this),complex:void 0}}extractFileNames(J,$,F){return J.map((q)=>this.extractToken(q,$,void 0,F))}extract(J,$,F){const q=$.entries(),[,X]=q.next().value,V=X.value;return this.extractComplex(V.entries(),q,J,[...$],F)}extractComplex(J,$,F,q,X){const[,V]=J.next().value;switch(V){case i.LEAF:const[,Y]=$.next().value;return this.extractValueOrCache(Y,F,q,X,!0,this.valueFetcher[Y.type]);case i.ARRAY:const[,Q]=$.next().value;return new Array(Q.value).fill(null).map((S)=>this.extractComplex(J,$,F,q,X));case i.OBJECT:const K=this.extractComplex(J,$,F,q,X),P=this.extractComplex(J,$,F,q,X);return Object.fromEntries(K.map((S,x)=>[S,P[x]]));case i.SPLIT:const z=this.extractComplex(J,$,F,q,X),w=this.extractComplex(J,$,F,q,X);return z.map((S,x)=>`${S}${w[x]??""}`).join("")}}extractToken(J,$,F,q,X){const V=J<$.length?$[J]:F?.[J-$.length];if(!V)throw new Error("Invalid token at index: "+J);return this.extractValueOrCache(V,$,F,q,X,this.valueFetcher[V.type])}getLeaf(J){return J.value}getReference(J,$,F,q){const X=J.value;return this.extractToken(X,$,F,q)}getArray(J,$,F,q){if(!Array.isArray(J.value))throw new Error("Invalid array token");return J.value.map((X)=>this.extractToken(X,$,F,q))}getObject(J,$,F,q){const[X,V]=J.value,Y=this.extractToken(X,$,F,q,!0),Z=this.extractToken(V,$,F,q);return Object.fromEntries(Y.map((Q,G)=>[Q,Z[G]]))}getSplit(J,$,F,q){const[X,V]=J.value,Y=this.extractToken(X,$,F,q,!0),Z=this.extractToken(V,$,F,q,!0);return Y.map((Q,G)=>`${Q}${Z[G]??""}`).join("")}extractValueOrCache(J,$,F,q,X,V){if(J.cache!==void 0&&X)return J.cache;const Y=V(J,$,F,q);if(q.cacheable&&J.type!=="leaf")J.cache=Y;return Y}}var mJ="1.1.1",V1;(function(F){F[F["NONE"]=0]="NONE";F[F["FFLATE"]=1]="FFLATE"})(V1||(V1={}));var uJ=[()=>{return},()=>new I8],q0=[V1.FFLATE];class Z1{async loadAndCompress(J,$=Y8.BrowserFetcher,F=q0){const X=await new r8().load(J,$),Y=new y8().reduce(X);return this.compressDataStore(Y,F)}compress(J,$=q0){const q=new r8().tokenize(J),V=new y8().reduce(q);return this.compressDataStore(V,$)}async loadAndExpand(J,$=Y8.ArrayBufferFetcher){const F=await $(J);return this.expand(F)}expand(J,$){return new Y1(this.expandDataStore(J),$)}compressDataStore(J,$=q0){const F=new P8.StreamDataView,q=new V8(F);q.encodeTokens(J.headerTokens,!0),q.encodeNumberArray(J.files);const X=new P8.StreamDataView;X.setNextUint8(mJ.length),X.setNextString(mJ),$.forEach((Z)=>X.setNextUint8(Z)),X.setNextUint8(0);const V=$.map((Z)=>uJ[Z]()).filter((Z)=>!!Z),Y=this.applyEncoders(F.getBuffer(),V);X.setNextUint32(Y.byteLength),X.setNextBytes(Y);for(let Z=0;Z<J.files.length;Z++){const Q=new P8.StreamDataView;new V8(Q).encodeTokens(J.getDataTokens(Z),!1);const K=this.applyEncoders(Q.getBuffer(),V);X.setNextUint32(K.byteLength),X.setNextBytes(K)}return X.setNextUint32(0),X.setNextUint32(J.originalDataSize??0),new Uint8Array(X.getBuffer()).buffer}expandDataStore(J){const $=J.byteLength,q=new P8.StreamDataView(J),X=q.getNextString(q.getNextUint8()),V=[];do{const w=q.getNextUint8();if(w===V1.NONE)break;const E=uJ[w]?.();if(E)V.push(E)}while(q.getOffset()<q.getLength());const Y=q.getNextUint32(),Z=this.applyDecoders(q.getNextBytes(Y).buffer,V),Q=new V8(new P8.StreamDataView(Z)),G=Q.decodeTokens(!0),K=Q.decodeNumberArray(),P=[];do{const w=q.getNextUint32();if(!w)break;P.push(q.getNextBytes(w).buffer)}while(q.getOffset()<q.getLength());const j=(w)=>{const E=this.applyDecoders(P[w],V),S=new P8.StreamDataView(E);return new V8(S).decodeTokens(!1)};let z;try{z=q.getNextUint32()||void 0}catch(w){}return{version:X,originalDataSize:z,compressedSize:$,headerTokens:G,files:K,getDataTokens:j}}applyEncoders(J,$){let F=J;return $.forEach((q)=>{F=q.encode(F)}),F}applyDecoders(J,$){let F=J;return $.forEach((q)=>{F=q.decode(F)}),F}}var $3={Loader:Y8,Compressor:Z1,TokenEncoder:V8,FFlateEncoder:I8},J5=$3;

//# debugId=53F25D3E09B43F2664756e2164756e21

;// CONCATENATED MODULE: ./actions/consolidate/index.js




const { Compressor } = J5;

function stripComments(content) {
  // Regular expression to remove comments (both single-line and multi-line)
  return content.replace(/\/\/.*|\/\*[^]*?\*\//g, '');
}

async function run() {
  try {
    const repoDir = process.env.GITHUB_WORKSPACE || __dirname; // Use __dirname if GITHUB_WORKSPACE is not defined
    const outputFileName = 'consolidated.json';
    const outputFilePath = external_path_namespaceObject.join(repoDir, outputFileName);

    let consolidatedData = {};

    // Function to recursively traverse directories
    function traverseDirectory(dir) {
      const files = external_fs_namespaceObject.readdirSync(dir);

      files.forEach(file => {
        const filePath = external_path_namespaceObject.join(dir, file);
        const stat = external_fs_namespaceObject.statSync(filePath);

        // Skip directories like node_modules
        if (stat.isDirectory() && file !== 'node_modules') {
          traverseDirectory(filePath);
        } else if (file.endsWith('.json') && filePath !== outputFilePath && !file.endsWith('lock.json')) {
          try {
            // Read the file content, strip comments, and parse JSON
            const fileContent = external_fs_namespaceObject.readFileSync(filePath, 'utf8');
            const cleanContent = stripComments(fileContent);
            const fileData = JSON.parse(cleanContent);
            consolidatedData[filePath.split(repoDir)[1]] = fileData;
          } catch (error) {
            console.error(`Error parsing JSON file ${filePath}: ${error.message}`);
          }
        }
      });
    }

    // Start traversing from the repository root directory
    traverseDirectory(repoDir);

    // Write consolidated data to a single file
    external_fs_namespaceObject.writeFileSync(outputFilePath, JSON.stringify(consolidatedData, null, 2));
    console.log(`Consolidated JSON files into ${outputFileName}`);

    const compressor = new Compressor();
    const dokbin = compressor.compress(consolidatedData);
    
    // Convert the dokbin (ArrayBuffer) to Buffer
    const buffer = Buffer.from(dokbin);
    external_fs_namespaceObject.writeFileSync(external_path_namespaceObject.join(repoDir, "consolidated.dokbin"), buffer);

  } catch (error) {
    console.error('Error:', error.message);
    process.exit(1);
  }
}

run();

